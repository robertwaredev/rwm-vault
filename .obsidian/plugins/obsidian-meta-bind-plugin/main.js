/*
-------------------------------------------
Meta Bind Plugin - Release Build
-------------------------------------------
By: Moritz Jung (https://mprojectscode.github.io/)
Time: Sun, 29 Oct 2023 21:17:54 GMT
Version: 0.7.0
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Jk=Object.create;var Zs=Object.defineProperty;var Xk=Object.getOwnPropertyDescriptor;var Qk=Object.getOwnPropertyNames;var Kk=Object.getPrototypeOf,$k=Object.prototype.hasOwnProperty;var e6=(r,e,t)=>e in r?Zs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var xr=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),t6=(r,e)=>{for(var t in e)Zs(r,t,{get:e[t],enumerable:!0})},rw=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Qk(e))!$k.call(r,i)&&i!==t&&Zs(r,i,{get:()=>e[i],enumerable:!(n=Xk(e,i))||n.enumerable});return r};var wr=(r,e,t)=>(t=r!=null?Jk(Kk(r)):{},rw(e||!r||!r.__esModule?Zs(t,"default",{value:r,enumerable:!0}):t,r)),r6=r=>rw(Zs({},"__esModule",{value:!0}),r);var Wr=(r,e,t)=>(e6(r,typeof e!="symbol"?e+"":e,t),t);var ww=xr((xp,bp)=>{(function(r,e){typeof xp=="object"&&typeof bp!="undefined"?bp.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=e()})(xp,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",i="second",a="minute",o="hour",l="day",u="week",s="month",c="quarter",f="year",m="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var O=["th","st","nd","rd"],P=M%100;return"["+M+(O[(P-20)%10]||O[P]||O[0])+"]"}},v=function(M,O,P){var k=String(M);return!k||k.length>=O?M:""+Array(O+1-k.length).join(P)+M},E={s:v,z:function(M){var O=-M.utcOffset(),P=Math.abs(O),k=Math.floor(P/60),_=P%60;return(O<=0?"+":"-")+v(k,2,"0")+":"+v(_,2,"0")},m:function M(O,P){if(O.date()<P.date())return-M(P,O);var k=12*(P.year()-O.year())+(P.month()-O.month()),_=O.clone().add(k,s),T=P-_<0,z=O.clone().add(k+(T?-1:1),s);return+(-(k+(P-_)/(T?_-z:z-_))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:s,y:f,w:u,d:l,D:m,h:o,m:a,s:i,ms:n,Q:c}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},y="en",D={};D[y]=g;var x="$isDayjsObject",b=function(M){return M instanceof F||!(!M||!M[x])},C=function M(O,P,k){var _;if(!O)return y;if(typeof O=="string"){var T=O.toLowerCase();D[T]&&(_=T),P&&(D[T]=P,_=T);var z=O.split("-");if(!_&&z.length>1)return M(z[0])}else{var B=O.name;D[B]=O,_=B}return!k&&_&&(y=_),_||!k&&y},S=function(M,O){if(b(M))return M.clone();var P=typeof O=="object"?O:{};return P.date=M,P.args=arguments,new F(P)},A=E;A.l=C,A.i=b,A.w=function(M,O){return S(M,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var F=function(){function M(P){this.$L=C(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[x]=!0}var O=M.prototype;return O.parse=function(P){this.$d=function(k){var _=k.date,T=k.utc;if(_===null)return new Date(NaN);if(A.u(_))return new Date;if(_ instanceof Date)return new Date(_);if(typeof _=="string"&&!/Z$/i.test(_)){var z=_.match(h);if(z){var B=z[2]-1||0,U=(z[7]||"0").substring(0,3);return T?new Date(Date.UTC(z[1],B,z[3]||1,z[4]||0,z[5]||0,z[6]||0,U)):new Date(z[1],B,z[3]||1,z[4]||0,z[5]||0,z[6]||0,U)}}return new Date(_)}(P),this.init()},O.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},O.$utils=function(){return A},O.isValid=function(){return this.$d.toString()!==p},O.isSame=function(P,k){var _=S(P);return this.startOf(k)<=_&&_<=this.endOf(k)},O.isAfter=function(P,k){return S(P)<this.startOf(k)},O.isBefore=function(P,k){return this.endOf(k)<S(P)},O.$g=function(P,k,_){return A.u(P)?this[k]:this.set(_,P)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(P,k){var _=this,T=!!A.u(k)||k,z=A.p(P),B=function(me,de){var fe=A.w(_.$u?Date.UTC(_.$y,de,me):new Date(_.$y,de,me),_);return T?fe:fe.endOf(l)},U=function(me,de){return A.w(_.toDate()[me].apply(_.toDate("s"),(T?[0,0,0,0]:[23,59,59,999]).slice(de)),_)},Y=this.$W,J=this.$M,L=this.$D,X="set"+(this.$u?"UTC":"");switch(z){case f:return T?B(1,0):B(31,11);case s:return T?B(1,J):B(0,J+1);case u:var se=this.$locale().weekStart||0,te=(Y<se?Y+7:Y)-se;return B(T?L-te:L+(6-te),J);case l:case m:return U(X+"Hours",0);case o:return U(X+"Minutes",1);case a:return U(X+"Seconds",2);case i:return U(X+"Milliseconds",3);default:return this.clone()}},O.endOf=function(P){return this.startOf(P,!1)},O.$set=function(P,k){var _,T=A.p(P),z="set"+(this.$u?"UTC":""),B=(_={},_[l]=z+"Date",_[m]=z+"Date",_[s]=z+"Month",_[f]=z+"FullYear",_[o]=z+"Hours",_[a]=z+"Minutes",_[i]=z+"Seconds",_[n]=z+"Milliseconds",_)[T],U=T===l?this.$D+(k-this.$W):k;if(T===s||T===f){var Y=this.clone().set(m,1);Y.$d[B](U),Y.init(),this.$d=Y.set(m,Math.min(this.$D,Y.daysInMonth())).$d}else B&&this.$d[B](U);return this.init(),this},O.set=function(P,k){return this.clone().$set(P,k)},O.get=function(P){return this[A.p(P)]()},O.add=function(P,k){var _,T=this;P=Number(P);var z=A.p(k),B=function(J){var L=S(T);return A.w(L.date(L.date()+Math.round(J*P)),T)};if(z===s)return this.set(s,this.$M+P);if(z===f)return this.set(f,this.$y+P);if(z===l)return B(1);if(z===u)return B(7);var U=(_={},_[a]=e,_[o]=t,_[i]=r,_)[z]||1,Y=this.$d.getTime()+P*U;return A.w(Y,this)},O.subtract=function(P,k){return this.add(-1*P,k)},O.format=function(P){var k=this,_=this.$locale();if(!this.isValid())return _.invalidDate||p;var T=P||"YYYY-MM-DDTHH:mm:ssZ",z=A.z(this),B=this.$H,U=this.$m,Y=this.$M,J=_.weekdays,L=_.months,X=_.meridiem,se=function(de,fe,ue,xe){return de&&(de[fe]||de(k,T))||ue[fe].slice(0,xe)},te=function(de){return A.s(B%12||12,de,"0")},me=X||function(de,fe,ue){var xe=de<12?"AM":"PM";return ue?xe.toLowerCase():xe};return T.replace(d,function(de,fe){return fe||function(ue){switch(ue){case"YY":return String(k.$y).slice(-2);case"YYYY":return A.s(k.$y,4,"0");case"M":return Y+1;case"MM":return A.s(Y+1,2,"0");case"MMM":return se(_.monthsShort,Y,L,3);case"MMMM":return se(L,Y);case"D":return k.$D;case"DD":return A.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return se(_.weekdaysMin,k.$W,J,2);case"ddd":return se(_.weekdaysShort,k.$W,J,3);case"dddd":return J[k.$W];case"H":return String(B);case"HH":return A.s(B,2,"0");case"h":return te(1);case"hh":return te(2);case"a":return me(B,U,!0);case"A":return me(B,U,!1);case"m":return String(U);case"mm":return A.s(U,2,"0");case"s":return String(k.$s);case"ss":return A.s(k.$s,2,"0");case"SSS":return A.s(k.$ms,3,"0");case"Z":return z}return null}(de)||z.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(P,k,_){var T,z=this,B=A.p(k),U=S(P),Y=(U.utcOffset()-this.utcOffset())*e,J=this-U,L=function(){return A.m(z,U)};switch(B){case f:T=L()/12;break;case s:T=L();break;case c:T=L()/3;break;case u:T=(J-Y)/6048e5;break;case l:T=(J-Y)/864e5;break;case o:T=J/t;break;case a:T=J/e;break;case i:T=J/r;break;default:T=J}return _?T:A.a(T)},O.daysInMonth=function(){return this.endOf(s).$D},O.$locale=function(){return D[this.$L]},O.locale=function(P,k){if(!P)return this.$L;var _=this.clone(),T=C(P,k,!0);return T&&(_.$L=T),_},O.clone=function(){return A.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},M}(),I=F.prototype;return S.prototype=I,[["$ms",n],["$s",i],["$m",a],["$H",o],["$W",l],["$M",s],["$y",f],["$D",m]].forEach(function(M){I[M[1]]=function(O){return this.$g(O,M[0],M[1])}}),S.extend=function(M,O){return M.$i||(M(O,F,S),M.$i=!0),S},S.locale=C,S.isDayjs=b,S.unix=function(M){return S(1e3*M)},S.en=D[y],S.Ls=D,S.p={},S})});var zw=xr(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.OPDUtilsObjectTraversalError=Lo.OPDUtilsParsingError=void 0;var Ap=class extends Error{constructor(e){super(e)}};Lo.OPDUtilsParsingError=Ap;var Sp=class extends Error{constructor(e){super(e)}};Lo.OPDUtilsObjectTraversalError=Sp});var _p=xr(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.validatePath=ei.parsePath=ei.traverseObjectByPath=ei.traverseObjectToParent=ei.traverseObject=void 0;var $i=zw();function gP(r,e){let t=Mp(r);return Np(t,e)}ei.traverseObject=gP;function vP(r,e){var t;let n=Mp(r);if(n[0]==="")throw new $i.OPDUtilsObjectTraversalError("can not traverse to parent on self reference");let i=n.slice(0,-1),a=(t=n.at(-1))!==null&&t!==void 0?t:"",o=Np(i,e);return{parent:{key:i,value:o},child:{key:a,value:o[a]}}}ei.traverseObjectToParent=vP;function Np(r,e){for(let t of r){if(t==="")return e;if(e===void 0)return;e=e[t]}return e}ei.traverseObjectByPath=Np;function Mp(r){return r=r.replace(/'/g,'"'),Ww(r),r.split(".").map(e=>e.split("[").map(t=>(t.endsWith("]")&&(t=t.slice(0,-1)),t.startsWith('"')&&t.endsWith('"')&&(t=t.slice(1,-1)),t))).flat()}ei.parsePath=Mp;function Ww(r){let e="0123456789",t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=!1,i=!1;for(let a=0;a<r.length;a++){let o=r[a],l=r[a+1];if(o==="."){if(a===0)throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${r}", path may not start with '.'`);if(!(t.includes(l)||l==="_"||l==="$"))throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${l}' at position ${a+1} in "${r}", expected a letter, '_' or '$' to follow '.'`)}if(o==="[")if(e.includes(l)){i=!0;continue}else if(l==='"'){if(r[a+2]==='"')throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${r[a+2]}' at position ${a+2} in "${r}", the string between the quotation-marks may not be empty`);n=!0,a+=1;continue}else throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${l}' at position ${a+1} in "${r}", expected number or '"' to follow a '['`);if(n&&o==='"')if(l==="]"){n=!1,a+=1;continue}else throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${l}' at position ${a+1} in "${r}", expected ']' to follow a '"'`);if(i&&o==="]"){i=!1;continue}if(n&&(o==="."||o==="]"||o==="["))throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${r}"`);if(i&&!e.includes(o))throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${r}", number expected inside of brackets`);if(!i&&!n&&o==="]")throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${r}", expected '[' to proceed`)}}ei.validatePath=Ww});var ql=xr(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.P_HELPERS=In.ParserHelpers=In.validateRegexFlags=In.validateRange=In.getIndex=In.arrayUnion=void 0;var kp=Vl();function wP(r,e){if(r===void 0&&e===void 0)return[];if(r===void 0)return e.sort();if(e===void 0)return r.sort();let t=[...r];for(let n of e){let i=!1;for(let a of t)n===a&&(i=!0);i||t.push(n)}return t.sort(),t}In.arrayUnion=wP;function EP(r){return r===void 0?-1:r.index}In.getIndex=EP;function CP(r,e){if(e<r)throw new Error(`Invalid Range: max might not be smaller than min. Received [${r}, ${e}].`);if(r<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${r}, ${e}].`);if(r===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${r}, ${e}].`);if(!Number.isInteger(r)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${r}, ${e}].`)}In.validateRange=CP;function FP(r){for(let e of r)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}In.validateRegexFlags=FP;var Ll=class{followedBy(e){return new kp.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new kp.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new kp.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};In.ParserHelpers=Ll;In.P_HELPERS=new Ll});var jw=xr(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.ParserContext=void 0;var tu=ql(),ru=class{constructor(e,t){this.input=e,this.position=t}moveToPosition(e){return this.position=e,this}copy(){return new ru(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let t=this.position.index;t<e;t++)this.input[t]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,t){return this.succeedAt(this.position.index+e,t)}failOffset(e,t){return this.failAt(this.position.index+e,t)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,t){return this.advanceTo(e),{success:!0,value:t,furthest:void 0,expected:void 0}}failAt(e,t){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(t)?t:[t]}}merge(e,t){if(e===void 0||(0,tu.getIndex)(t.furthest)>(0,tu.getIndex)(e.furthest))return t;let n=(0,tu.getIndex)(t.furthest)===(0,tu.getIndex)(e.furthest)?(0,tu.arrayUnion)(e.expected,t.expected):e.expected;return t.furthest=e.furthest,t.expected=n,t}};Ul.ParserContext=ru});var Zw=xr(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.ParsingError=void 0;function AP(r,e,t){let n=`Expected ${e.expected.join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(t){let o=r.split(`
`)[e.furthest.line-1],l=`${e.furthest.line} |   `;i+=`

${l}${o}`,i+=`
${" ".repeat(e.furthest.column-1+l.length)}^ (${n})`}return i}var Pp=class extends Error{constructor(e,t){super(AP(e,t,!0))}};zl.ParsingError=Pp});var wa=xr(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.P=void 0;var ti=Vl(),SP=Zw(),Wl=ql(),Vo=class{static createError(e,t){return new SP.ParsingError(e,t)}static sequence(...e){return new ti.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let u=e[o].p(n);if(i=n.merge(i,u),!i.success)return i;a[o]=i.value}return n.merge(i,n.succeed(a))})}static sequenceMap(e,...t){return new ti.Parser(function(i){let a,o=new Array(t.length);for(let u=0;u<t.length;u++){let c=t[u].p(i);if(a=i.merge(a,c),!a.success)return a;o[u]=a.value}let l=e(...o);return i.merge(a,i.succeed(l))})}static createLanguage(e){let t={},n={},i={};for(let a in e)i[a]=Vo.reference(()=>e[a](t,i)),Object.defineProperty(n,a,{get:()=>{if(t[a]!==void 0)return t[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)t[a]=e[a](n,i);return t}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new ti.Parser(function(n){let i;for(let a=0;a<e.length;a++){let o=e[a],l=n.copy(),u=o.p(l);if(i=n.merge(i,u),i.success)return n.moveToPosition(l.position),i}return i})}static separateBy(e,t){return this.separateByNotEmpty(e,t).or(Vo.succeed([]))}static separateByNotEmpty(e,t){return this.sequenceMap(function(i,a){return[i,...a]},e,t.then(e).many())}static string(e){let t="'"+e+"'";return new ti.Parser(function(i){let a=i.position.index+e.length,o=i.sliceTo(a);return o===e?i.succeedAt(a,o):i.fail(t)})}static regexp(e,t){(0,Wl.validateRegexFlags)(e.flags);let n=e.source;return new ti.Parser(function(a){let o=a.input.slice(a.position.index),l=e.exec(o);if(l){let u=t!=null?t:0;if(u>=0&&u<=l.length){let c=l[0],f=l[u];return a.succeedOffset(c.length,f)}let s="expected valid match group (0 to "+l.length+") in "+n;return a.fail(s)}else return a.fail(n)})}static succeed(e){return new ti.Parser(function(n){return n.succeed(e)})}static fail(e){return new ti.Parser(function(n){return n.fail(e)})}static oneOf(e){return Wl.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return Wl.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(t=>this.string(t))).describe(e.map(t=>`'${t}'`).join(" or "))}static manyOf(e){return new ti.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new ti.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new ti.Parser(e)}static range(e,t){let n=e.charCodeAt(0),i=t.charCodeAt(0);return Wl.P_HELPERS.test(function(o){let l=o.charCodeAt(0);return n<=l&&l<=i}).describe(`${e}-${t}`)}static takeWhile(e){return new ti.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new ti.Parser(function(n){return e().p(n)})}};Hl.P=Vo});var Vl=xr(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.Parser=void 0;var NP=jw(),Pi=wa(),Lp=ql(),Uo=so(),An=class{constructor(e){this.p=e}tryParse(e){return this.p(new NP.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let t=this.tryParse(e);if(t.success)return t.value;throw Pi.P.createError(e,t)}or(e){return Pi.P.or(this,e)}trim(e){return this.wrap(e,e)}wrap(e,t){let n=this;return new An(function(a){let o=e.p(a);if(!o.success)return o;let l=a.merge(o,n.p(a));if(!l.success)return l;let u=a.merge(l,t.p(a));return u.success?a.merge(u,a.succeed(l.value)):u})}then(e){let t=this;return new An(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let t=this;return new An(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return Pi.P.sequence(this,e)}many(){let e=this;return new An(function(n){let i,a=n.position.index,o=[];for(;;){let l=n.copy(),u=e.p(l);if(i=n.merge(i,u),i.success){if(l.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(l.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,t){(0,Lp.validateRange)(e,t);let n=this;return new An(function(a){let o,l,u=[],s=0;for(;s<e;s++)if(o=n.p(a),l=a.merge(l,o),o.success)u.push(o.value);else return l;for(;s<t;s++){let c=a.copy();if(o=n.p(c),l=a.merge(l,o),o.success)a.moveToPosition(c.position),u.push(o.value);else break}return a.merge(l,a.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return Pi.P.sequenceMap((t,n)=>t.concat(n),this.repeat(e,e),this.many())}separateBy(e){return Pi.P.separateBy(this,e)}separateByNotEmpty(e){return Pi.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let t=this;return new An(function(i){let a=t.p(i);return a.success?i.merge(a,i.succeed(e(a.value))):a})}marker(){return Pi.P.sequenceMap(function(t,n,i){return{value:n,range:{from:t,to:i}}},Uo.P_UTILS.position(),this,Uo.P_UTILS.position())}namedMarker(e){return Pi.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},Uo.P_UTILS.position(),this,Uo.P_UTILS.position())}node(e){return Pi.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},Uo.P_UTILS.position(),this,Uo.P_UTILS.position())}followedBy(e){return this.skip(Lp.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(Lp.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let t=this;return new An(function(i){let a=t.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let t=this;return new An(function(i){var a;let o=t.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or(Pi.P.succeed(e))}chain(e){let t=this;return new An(function(i){let a=t.p(i);if(!a.success)return a;let l=e(a.value).p(i);return i.merge(a,l)})}thenEof(){let e=this;return new An(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,t="",n=new Map,i=new Map;return new An(function(o){let l=o.position.index;if(o.input!==t)t=o.input,n.clear(),i.clear();else{let s=n.get(l),c=i.get(l);if(s!==void 0&&c!==void 0)return o.moveToPosition(Object.assign({},c)),Object.assign({},s)}let u=e.p(o);return n.set(l,Object.assign({},u)),i.set(l,o.getPosition()),u})}};Gl.Parser=An});var so=xr(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.P_UTILS=void 0;var jl=Vl(),pr=wa(),Ea=class{static position(){return new jl.Parser(e=>e.succeed(e.getPosition()))}static any(){return new jl.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new jl.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new jl.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return pr.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return pr.P.regexp(/^[0-9]+/).describe("optional digits")}static letter(){return pr.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return pr.P.regexp(/^[a-z]+/i).describe("optional letters")}static optionalWhitespace(){return pr.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return pr.P.regexp(/^\s+/).describe("whitespace")}static cr(){return pr.P.string("\r")}static lf(){return pr.P.string(`
`)}static crlf(){return pr.P.string(`\r
`)}static newline(){return pr.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,t,n){return pr.P.sequenceMap((i,a)=>i.reduce((o,l)=>n(l,o),a),e.many(),t)}static postfix(e,t,n){return pr.P.sequenceMap((i,a)=>a.reduce((o,l)=>n(l,o),i),t,e.many())}static binaryRight(e,t,n){return pr.P.sequenceMap((i,a)=>i.reverse().reduce((o,l)=>{let[u,s]=l;return n(u,s,o)},a),pr.P.sequence(t,e.trim(this.optionalWhitespace())).many(),t)}static binaryLeft(e,t,n){return pr.P.sequenceMap((i,a)=>a.reduce((o,l)=>{let[u,s]=l;return n(o,u,s)},i),t,pr.P.sequence(e.trim(this.optionalWhitespace()),t).many())}static binaryRightRange(e,t,n){return pr.P.sequenceMap((i,a,o)=>i.reverse().reduce((l,u)=>{let[s,c,f]=u;return n({from:s,to:o},c,f,l)},a),pr.P.sequence(Ea.position(),t,e.trim(this.optionalWhitespace())).many(),t,Ea.position())}static binaryLeftRange(e,t,n){return pr.P.sequenceMap((i,a,o)=>o.reduce((l,u)=>{let[s,c,f]=u;return n({from:i,to:f},l,s,c)},a),Ea.position(),t,pr.P.sequence(e.trim(this.optionalWhitespace()),t,Ea.position()).many())}static func(e,t,n){let i=typeof e=="string"?pr.P.string(e):e;return pr.P.sequenceMap((a,o,l,u,s,c)=>n(a,u),i,pr.P.string("("),this.optionalWhitespace(),t,this.optionalWhitespace(),pr.P.string(")"))}};Zl.P_UTILS=Ea});var Md=xr(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});require("obsidian");var na=class extends Error{},rd=class extends na{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},nd=class extends na{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},id=class extends na{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},mo=class extends na{},hc=class extends na{constructor(e){super(`Invalid unit ${e}`)}},Bn=class extends na{},qi=class extends na{constructor(){super("Zone is an abstract class")}},Ze="numeric",Ei="short",Hn="long",gc={year:Ze,month:Ze,day:Ze},VE={year:Ze,month:Ei,day:Ze},XP={year:Ze,month:Ei,day:Ze,weekday:Ei},UE={year:Ze,month:Hn,day:Ze},zE={year:Ze,month:Hn,day:Ze,weekday:Hn},WE={hour:Ze,minute:Ze},HE={hour:Ze,minute:Ze,second:Ze},GE={hour:Ze,minute:Ze,second:Ze,timeZoneName:Ei},jE={hour:Ze,minute:Ze,second:Ze,timeZoneName:Hn},ZE={hour:Ze,minute:Ze,hourCycle:"h23"},YE={hour:Ze,minute:Ze,second:Ze,hourCycle:"h23"},JE={hour:Ze,minute:Ze,second:Ze,hourCycle:"h23",timeZoneName:Ei},XE={hour:Ze,minute:Ze,second:Ze,hourCycle:"h23",timeZoneName:Hn},QE={year:Ze,month:Ze,day:Ze,hour:Ze,minute:Ze},KE={year:Ze,month:Ze,day:Ze,hour:Ze,minute:Ze,second:Ze},$E={year:Ze,month:Ei,day:Ze,hour:Ze,minute:Ze},eC={year:Ze,month:Ei,day:Ze,hour:Ze,minute:Ze,second:Ze},QP={year:Ze,month:Ei,day:Ze,weekday:Ei,hour:Ze,minute:Ze},tC={year:Ze,month:Hn,day:Ze,hour:Ze,minute:Ze,timeZoneName:Ei},rC={year:Ze,month:Hn,day:Ze,hour:Ze,minute:Ze,second:Ze,timeZoneName:Ei},nC={year:Ze,month:Hn,day:Ze,weekday:Hn,hour:Ze,minute:Ze,timeZoneName:Hn},iC={year:Ze,month:Hn,day:Ze,weekday:Hn,hour:Ze,minute:Ze,second:Ze,timeZoneName:Hn},ho=class{get type(){throw new qi}get name(){throw new qi}get ianaName(){return this.name}get isUniversal(){throw new qi}offsetName(e,t){throw new qi}formatOffset(e,t){throw new qi}offset(e){throw new qi}equals(e){throw new qi}get isValid(){throw new qi}},Yp=null,as=class extends ho{static get instance(){return Yp===null&&(Yp=new as),Yp}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return oC(e,t,n)}formatOffset(e,t){return gu(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},pc={};function KP(r){return pc[r]||(pc[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),pc[r]}var $P={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function e5(r,e){let t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,a,o,l,u,s,c]=n;return[o,i,a,l,u,s,c]}function t5(r,e){let t=r.formatToParts(e),n=[];for(let i=0;i<t.length;i++){let{type:a,value:o}=t[i],l=$P[a];a==="era"?n[l]=o:kt(l)||(n[l]=parseInt(o,10))}return n}var lc={},Ci=class extends ho{static create(e){return lc[e]||(lc[e]=new Ci(e)),lc[e]}static resetCache(){lc={},pc={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ci.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return oC(e,t,n,this.name)}formatOffset(e,t){return gu(this.offset(e),t)}offset(e){let t=new Date(e);if(isNaN(t))return NaN;let n=KP(this.name),[i,a,o,l,u,s,c]=n.formatToParts?t5(n,t):e5(n,t);l==="BC"&&(i=-Math.abs(i)+1);let m=wd({year:i,month:a,day:o,hour:u===24?0:u,minute:s,second:c,millisecond:0}),p=+t,h=p%1e3;return p-=h>=0?h:1e3+h,(m-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},fE={};function r5(r,e={}){let t=JSON.stringify([r,e]),n=fE[t];return n||(n=new Intl.ListFormat(r,e),fE[t]=n),n}var ad={};function od(r,e={}){let t=JSON.stringify([r,e]),n=ad[t];return n||(n=new Intl.DateTimeFormat(r,e),ad[t]=n),n}var sd={};function n5(r,e={}){let t=JSON.stringify([r,e]),n=sd[t];return n||(n=new Intl.NumberFormat(r,e),sd[t]=n),n}var ud={};function i5(r,e={}){let{base:t,...n}=e,i=JSON.stringify([r,n]),a=ud[i];return a||(a=new Intl.RelativeTimeFormat(r,e),ud[i]=a),a}var du=null;function a5(){return du||(du=new Intl.DateTimeFormat().resolvedOptions().locale,du)}function o5(r){let e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));let t=r.indexOf("-u-");if(t===-1)return[r];{let n,i;try{n=od(r).resolvedOptions(),i=r}catch(l){let u=r.substring(0,t);n=od(u).resolvedOptions(),i=u}let{numberingSystem:a,calendar:o}=n;return[i,a,o]}}function s5(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function u5(r){let e=[];for(let t=1;t<=12;t++){let n=et.utc(2016,t,1);e.push(r(n))}return e}function l5(r){let e=[];for(let t=1;t<=7;t++){let n=et.utc(2016,11,13+t);e.push(r(n))}return e}function cc(r,e,t,n,i){let a=r.listingMode(t);return a==="error"?null:a==="en"?n(e):i(e)}function c5(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}var ld=class{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:i,floor:a,...o}=n;if(!t||Object.keys(o).length>0){let l={useGrouping:!1,...n};n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=n5(e,l)}}format(e){if(this.inf){let t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{let t=this.floor?Math.floor(e):Dd(e,3);return Or(t,this.padTo)}}},cd=class{constructor(e,t,n){this.opts=n;let i;if(e.zone.isUniversal){let o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Ci.create(l).valid?(i=l,this.dt=e):(i="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:et.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);let a={...this.opts};a.timeZone=a.timeZone||i,this.dtf=od(t,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},fd=class{constructor(e,t,n){this.opts={style:"long",...n},!t&&aC()&&(this.rtf=i5(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):A5(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}},rr=class{static fromOpts(e){return rr.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,n,i=!1){let a=e||Fr.defaultLocale,o=a||(i?"en-US":a5()),l=t||Fr.defaultNumberingSystem,u=n||Fr.defaultOutputCalendar;return new rr(o,l,u,a)}static resetCache(){du=null,ad={},sd={},ud={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n}={}){return rr.create(e,t,n)}constructor(e,t,n,i){let[a,o,l]=o5(e);this.locale=a,this.numberingSystem=t||o||null,this.outputCalendar=n||l||null,this.intl=s5(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=c5(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:rr.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,n=!0){return cc(this,e,n,lC,()=>{let i=t?{month:e,day:"numeric"}:{month:e},a=t?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=u5(o=>this.extract(o,i,"month"))),this.monthsCache[a][e]})}weekdays(e,t=!1,n=!0){return cc(this,e,n,mC,()=>{let i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=t?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=l5(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return cc(this,void 0,e,()=>pC,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[et.utc(2016,11,13,9),et.utc(2016,11,13,19)].map(n=>this.extract(n,t,"dayperiod"))}return this.meridiemCache})}eras(e,t=!0){return cc(this,e,t,dC,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[et.utc(-40,1,1),et.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,t,n){let i=this.dtFormatter(e,t),a=i.formatToParts(),o=a.find(l=>l.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new ld(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new cd(e,this.intl,t)}relFormatter(e={}){return new fd(this.intl,this.isEnglish(),e)}listFormatter(e={}){return r5(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},Jp=null,rn=class extends ho{static get utcInstance(){return Jp===null&&(Jp=new rn(0)),Jp}static instance(e){return e===0?rn.utcInstance:new rn(e)}static parseSpecifier(e){if(e){let t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new rn(Ec(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${gu(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${gu(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return gu(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},md=class extends ho{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Ta(r,e){if(kt(r)||r===null)return e;if(r instanceof ho)return r;if(f5(r)){let t=r.toLowerCase();return t==="default"?e:t==="local"||t==="system"?as.instance:t==="utc"||t==="gmt"?rn.utcInstance:rn.parseSpecifier(t)||Ci.create(r)}else return po(r)?rn.instance(r):typeof r=="object"&&r.offset&&typeof r.offset=="number"?r:new md(r)}var mE=()=>Date.now(),pE="system",dE=null,hE=null,gE=null,vE=60,yE,Fr=class{static get now(){return mE}static set now(e){mE=e}static set defaultZone(e){pE=e}static get defaultZone(){return Ta(pE,as.instance)}static get defaultLocale(){return dE}static set defaultLocale(e){dE=e}static get defaultNumberingSystem(){return hE}static set defaultNumberingSystem(e){hE=e}static get defaultOutputCalendar(){return gE}static set defaultOutputCalendar(e){gE=e}static get twoDigitCutoffYear(){return vE}static set twoDigitCutoffYear(e){vE=e%100}static get throwOnInvalid(){return yE}static set throwOnInvalid(e){yE=e}static resetCaches(){rr.resetCache(),Ci.resetCache()}};function kt(r){return typeof r=="undefined"}function po(r){return typeof r=="number"}function wc(r){return typeof r=="number"&&r%1===0}function f5(r){return typeof r=="string"}function m5(r){return Object.prototype.toString.call(r)==="[object Date]"}function aC(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(r){return!1}}function p5(r){return Array.isArray(r)?r:[r]}function xE(r,e,t){if(r.length!==0)return r.reduce((n,i)=>{let a=[e(i),i];return n&&t(n[0],a[0])===n[0]?n:a},null)[1]}function d5(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function os(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function ra(r,e,t){return wc(r)&&r>=e&&r<=t}function h5(r,e){return r-e*Math.floor(r/e)}function Or(r,e=2){let t=r<0,n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function _a(r){if(!(kt(r)||r===null||r===""))return parseInt(r,10)}function co(r){if(!(kt(r)||r===null||r===""))return parseFloat(r)}function bd(r){if(!(kt(r)||r===null||r==="")){let e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function Dd(r,e,t=!1){let n=10**e;return(t?Math.trunc:Math.round)(r*n)/n}function Du(r){return r%4===0&&(r%100!==0||r%400===0)}function hu(r){return Du(r)?366:365}function vc(r,e){let t=h5(e-1,12)+1,n=r+(e-t)/12;return t===2?Du(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function wd(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function yc(r){let e=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7,t=r-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||n===3?53:52}function pd(r){return r>99?r:r>Fr.twoDigitCutoffYear?1900+r:2e3+r}function oC(r,e,t,n=null){let i=new Date(r),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let o={timeZoneName:e,...a},l=new Intl.DateTimeFormat(t,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return l?l.value:null}function Ec(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);let n=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-n:n;return t*60+i}function sC(r){let e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new Bn(`Invalid unit value ${r}`);return e}function xc(r,e){let t={};for(let n in r)if(os(r,n)){let i=r[n];if(i==null)continue;t[e(n)]=sC(i)}return t}function gu(r,e){let t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),i=r>=0?"+":"-";switch(e){case"short":return`${i}${Or(t,2)}:${Or(n,2)}`;case"narrow":return`${i}${t}${n>0?`:${n}`:""}`;case"techie":return`${i}${Or(t,2)}${Or(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Cc(r){return d5(r,["hour","minute","second","millisecond"])}var g5=["January","February","March","April","May","June","July","August","September","October","November","December"],uC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v5=["J","F","M","A","M","J","J","A","S","O","N","D"];function lC(r){switch(r){case"narrow":return[...v5];case"short":return[...uC];case"long":return[...g5];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var cC=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],y5=["M","T","W","T","F","S","S"];function mC(r){switch(r){case"narrow":return[...y5];case"short":return[...fC];case"long":return[...cC];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var pC=["AM","PM"],x5=["Before Christ","Anno Domini"],b5=["BC","AD"],D5=["B","A"];function dC(r){switch(r){case"narrow":return[...D5];case"short":return[...b5];case"long":return[...x5];default:return null}}function w5(r){return pC[r.hour<12?0:1]}function E5(r,e){return mC(e)[r.weekday-1]}function C5(r,e){return lC(e)[r.month-1]}function F5(r,e){return dC(e)[r.year<0?0:1]}function A5(r,e,t="always",n=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&a){let f=r==="days";switch(e){case 1:return f?"tomorrow":`next ${i[r][0]}`;case-1:return f?"yesterday":`last ${i[r][0]}`;case 0:return f?"today":`this ${i[r][0]}`}}let o=Object.is(e,-0)||e<0,l=Math.abs(e),u=l===1,s=i[r],c=n?u?s[1]:s[2]||s[1]:u?i[r][0]:r;return o?`${l} ${c} ago`:`in ${l} ${c}`}function bE(r,e){let t="";for(let n of r)n.literal?t+=n.val:t+=e(n.val);return t}var S5={D:gc,DD:VE,DDD:UE,DDDD:zE,t:WE,tt:HE,ttt:GE,tttt:jE,T:ZE,TT:YE,TTT:JE,TTTT:XE,f:QE,ff:$E,fff:tC,ffff:nC,F:KE,FF:eC,FFF:rC,FFFF:iC},Yr=class{static create(e,t={}){return new Yr(e,t)}static parseFormat(e){let t=null,n="",i=!1,a=[];for(let o=0;o<e.length;o++){let l=e.charAt(o);l==="'"?(n.length>0&&a.push({literal:i,val:n}),t=null,n="",i=!i):i||l===t?n+=l:(n.length>0&&a.push({literal:!1,val:n}),n=l,t=l)}return n.length>0&&a.push({literal:i,val:n}),a}static macroTokenToFormatOpts(e){return S5[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}formatInterval(e,t={}){return this.loc.dtFormatter(e.start,{...this.opts,...t}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Or(e,t);let n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){let n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(p,h)=>this.loc.extract(e,p,h),o=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",l=()=>n?w5(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(p,h)=>n?C5(e,p):a(h?{month:p}:{month:p,day:"numeric"},"month"),s=(p,h)=>n?E5(e,p):a(h?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),c=p=>{let h=Yr.macroTokenToFormatOpts(p);return h?this.formatWithSystemDefault(e,h):p},f=p=>n?F5(e,p):a({era:p},"era"),m=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return s("short",!0);case"cccc":return s("long",!0);case"ccccc":return s("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return s("short",!1);case"EEEE":return s("long",!1);case"EEEEE":return s("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(p)}};return bE(Yr.parseFormat(t),m)}formatDurationFromString(e,t){let n=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>s=>{let c=n(s);return c?this.num(u.get(c),s.length):s},a=Yr.parseFormat(t),o=a.reduce((u,{literal:s,val:c})=>s?u:u.concat(c),[]),l=e.shiftTo(...o.map(n).filter(u=>u));return bE(a,i(l))}},Wn=class{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},hC=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ss(...r){let e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function us(...r){return e=>r.reduce(([t,n,i],a)=>{let[o,l,u]=a(e,i);return[{...t,...o},l||n,u]},[{},null,1]).slice(0,2)}function ls(r,...e){if(r==null)return[null,null];for(let[t,n]of e){let i=t.exec(r);if(i)return n(i)}return[null,null]}function gC(...r){return(e,t)=>{let n={},i;for(i=0;i<r.length;i++)n[r[i]]=_a(e[t+i]);return[n,null,t+i]}}var vC=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,N5=`(?:${vC.source}?(?:\\[(${hC.source})\\])?)?`,Ed=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,yC=RegExp(`${Ed.source}${N5}`),Cd=RegExp(`(?:T${yC.source})?`),M5=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,_5=/(\d{4})-?W(\d\d)(?:-?(\d))?/,T5=/(\d{4})-?(\d{3})/,I5=gC("weekYear","weekNumber","weekDay"),B5=gC("year","ordinal"),O5=/(\d{4})-(\d\d)-(\d\d)/,xC=RegExp(`${Ed.source} ?(?:${vC.source}|(${hC.source}))?`),R5=RegExp(`(?: ${xC.source})?`);function is(r,e,t){let n=r[e];return kt(n)?t:_a(n)}function k5(r,e){return[{year:is(r,e),month:is(r,e+1,1),day:is(r,e+2,1)},null,e+3]}function cs(r,e){return[{hours:is(r,e,0),minutes:is(r,e+1,0),seconds:is(r,e+2,0),milliseconds:bd(r[e+3])},null,e+4]}function wu(r,e){let t=!r[e]&&!r[e+1],n=Ec(r[e+1],r[e+2]),i=t?null:rn.instance(n);return[{},i,e+3]}function Eu(r,e){let t=r[e]?Ci.create(r[e]):null;return[{},t,e+1]}var P5=RegExp(`^T?${Ed.source}$`),L5=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function q5(r){let[e,t,n,i,a,o,l,u,s]=r,c=e[0]==="-",f=u&&u[0]==="-",m=(p,h=!1)=>p!==void 0&&(h||p&&c)?-p:p;return[{years:m(co(t)),months:m(co(n)),weeks:m(co(i)),days:m(co(a)),hours:m(co(o)),minutes:m(co(l)),seconds:m(co(u),u==="-0"),milliseconds:m(bd(s),f)}]}var V5={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Fd(r,e,t,n,i,a,o){let l={year:e.length===2?pd(_a(e)):_a(e),month:uC.indexOf(t)+1,day:_a(n),hour:_a(i),minute:_a(a)};return o&&(l.second=_a(o)),r&&(l.weekday=r.length>3?cC.indexOf(r)+1:fC.indexOf(r)+1),l}var U5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function z5(r){let[,e,t,n,i,a,o,l,u,s,c,f]=r,m=Fd(e,i,n,t,a,o,l),p;return u?p=V5[u]:s?p=0:p=Ec(c,f),[m,new rn(p)]}function W5(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var H5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,G5=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,j5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function DE(r){let[,e,t,n,i,a,o,l]=r;return[Fd(e,i,n,t,a,o,l),rn.utcInstance]}function Z5(r){let[,e,t,n,i,a,o,l]=r;return[Fd(e,l,t,n,i,a,o),rn.utcInstance]}var Y5=ss(M5,Cd),J5=ss(_5,Cd),X5=ss(T5,Cd),Q5=ss(yC),bC=us(k5,cs,wu,Eu),K5=us(I5,cs,wu,Eu),$5=us(B5,cs,wu,Eu),eL=us(cs,wu,Eu);function tL(r){return ls(r,[Y5,bC],[J5,K5],[X5,$5],[Q5,eL])}function rL(r){return ls(W5(r),[U5,z5])}function nL(r){return ls(r,[H5,DE],[G5,DE],[j5,Z5])}function iL(r){return ls(r,[L5,q5])}var aL=us(cs);function oL(r){return ls(r,[P5,aL])}var sL=ss(O5,R5),uL=ss(xC),lL=us(cs,wu,Eu);function cL(r){return ls(r,[sL,bC],[uL,lL])}var fL="Invalid Duration",DC={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},mL={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...DC},ni=146097/400,ts=146097/4800,pL={years:{quarters:4,months:12,weeks:ni/7,days:ni,hours:ni*24,minutes:ni*24*60,seconds:ni*24*60*60,milliseconds:ni*24*60*60*1e3},quarters:{months:3,weeks:ni/28,days:ni/4,hours:ni*24/4,minutes:ni*24*60/4,seconds:ni*24*60*60/4,milliseconds:ni*24*60*60*1e3/4},months:{weeks:ts/7,days:ts,hours:ts*24,minutes:ts*24*60,seconds:ts*24*60*60,milliseconds:ts*24*60*60*1e3},...DC},fo=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],dL=fo.slice(0).reverse();function Ma(r,e,t=!1){let n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new Je(n)}function hL(r){return r<0?Math.floor(r):Math.ceil(r)}function wC(r,e,t,n,i){let a=r[i][t],o=e[t]/a,l=Math.sign(o)===Math.sign(n[i]),u=!l&&n[i]!==0&&Math.abs(o)<=1?hL(o):Math.trunc(o);n[i]+=u,e[t]-=u*a}function gL(r,e){dL.reduce((t,n)=>kt(e[n])?t:(t&&wC(r,e,t,e,n),n),null)}function vL(r){let e={};for(let[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}var Je=class{constructor(e){let t=e.conversionAccuracy==="longterm"||!1,n=t?pL:mL;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||rr.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return Je.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Bn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Je({values:xc(e,Je.normalizeUnit),loc:rr.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(po(e))return Je.fromMillis(e);if(Je.isDuration(e))return e;if(typeof e=="object")return Je.fromObject(e);throw new Bn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){let[n]=iL(e);return n?Je.fromObject(n,t):Je.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){let[n]=oL(e);return n?Je.fromObject(n,t):Je.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Bn("need to specify a reason the Duration is invalid");let n=e instanceof Wn?e:new Wn(e,t);if(Fr.throwOnInvalid)throw new id(n);return new Je({invalid:n})}static normalizeUnit(e){let t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new hc(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){let n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Yr.create(this.loc,n).formatDurationFromString(this,e):fL}toHuman(e={}){let t=fo.map(n=>{let i=this.values[n];return kt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Dd(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let n=this.shiftTo("hours","minutes","seconds","milliseconds"),i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let a=n.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let t=Je.fromDurationLike(e),n={};for(let i of fo)(os(t.values,i)||os(this.values,i))&&(n[i]=t.get(i)+this.get(i));return Ma(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let t=Je.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;let t={};for(let n of Object.keys(this.values))t[n]=sC(e(this.values[n],n));return Ma(this,{values:t},!0)}get(e){return this[Je.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let t={...this.values,...xc(e,Je.normalizeUnit)};return Ma(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:i}={}){let o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:n};return Ma(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return gL(this.matrix,e),Ma(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=vL(this.normalize().shiftToAll().toObject());return Ma(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Je.normalizeUnit(o));let t={},n={},i=this.toObject(),a;for(let o of fo)if(e.indexOf(o)>=0){a=o;let l=0;for(let s in n)l+=this.matrix[s][o]*n[s],n[s]=0;po(i[o])&&(l+=i[o]);let u=Math.trunc(l);t[o]=u,n[o]=(l*1e3-u*1e3)/1e3;for(let s in i)fo.indexOf(s)>fo.indexOf(o)&&wC(this.matrix,i,s,t,o)}else po(i[o])&&(n[o]=i[o]);for(let o in n)n[o]!==0&&(t[a]+=o===a?n[o]:n[o]/this.matrix[a][o]);return Ma(this,{values:t},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Ma(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(let n of fo)if(!t(this.values[n],e.values[n]))return!1;return!0}},rs="Invalid Interval";function yL(r,e){return!r||!r.isValid?hr.invalid("missing or invalid start"):!e||!e.isValid?hr.invalid("missing or invalid end"):e<r?hr.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}var hr=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Bn("need to specify a reason the Interval is invalid");let n=e instanceof Wn?e:new Wn(e,t);if(Fr.throwOnInvalid)throw new nd(n);return new hr({invalid:n})}static fromDateTimes(e,t){let n=mu(e),i=mu(t),a=yL(n,i);return a==null?new hr({start:n,end:i}):a}static after(e,t){let n=Je.fromDurationLike(t),i=mu(e);return hr.fromDateTimes(i,i.plus(n))}static before(e,t){let n=Je.fromDurationLike(t),i=mu(e);return hr.fromDateTimes(i.minus(n),i)}static fromISO(e,t){let[n,i]=(e||"").split("/",2);if(n&&i){let a,o;try{a=et.fromISO(n,t),o=a.isValid}catch(s){o=!1}let l,u;try{l=et.fromISO(i,t),u=l.isValid}catch(s){u=!1}if(o&&u)return hr.fromDateTimes(a,l);if(o){let s=Je.fromISO(i,t);if(s.isValid)return hr.after(a,s)}else if(u){let s=Je.fromISO(n,t);if(s.isValid)return hr.before(l,s)}}return hr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?hr.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];let t=e.map(mu).filter(o=>this.contains(o)).sort(),n=[],{s:i}=this,a=0;for(;i<this.e;){let o=t[a]||this.e,l=+o>+this.e?this.e:o;n.push(hr.fromDateTimes(i,l)),i=l,a+=1}return n}splitBy(e){let t=Je.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,i=1,a,o=[];for(;n<this.e;){let l=this.start.plus(t.mapUnits(u=>u*i));a=+l>+this.e?this.e:l,o.push(hr.fromDateTimes(n,a)),n=a,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:hr.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;let t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return hr.fromDateTimes(t,n)}static merge(e){let[t,n]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[i,a.union(o)]:[i.concat([a]),o]:[i,o],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0,i=[],a=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...a),l=o.sort((u,s)=>u.time-s.time);for(let u of l)n+=u.type==="s"?1:-1,n===1?t=u.time:(t&&+t!=+u.time&&i.push(hr.fromDateTimes(t,u.time)),t=null);return hr.merge(i)}difference(...e){return hr.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:rs}toLocaleString(e=gc,t={}){return this.isValid?Yr.create(this.s.loc.clone(t),e).formatInterval(this):rs}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:rs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:rs}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:rs}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:rs}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Je.invalid(this.invalidReason)}mapEndpoints(e){return hr.fromDateTimes(e(this.s),e(this.e))}},ns=class{static hasDST(e=Fr.defaultZone){let t=et.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Ci.isValidZone(e)}static normalizeZone(e){return Ta(e,Fr.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||rr.create(t,n,a)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||rr.create(t,n,a)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||rr.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||rr.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return rr.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return rr.create(t,null,"gregory").eras(e)}static features(){return{relative:aC()}}};function wE(r,e){let t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(Je.fromMillis(n).as("days"))}function xL(r,e,t){let n=[["years",(u,s)=>s.year-u.year],["quarters",(u,s)=>s.quarter-u.quarter+(s.year-u.year)*4],["months",(u,s)=>s.month-u.month+(s.year-u.year)*12],["weeks",(u,s)=>{let c=wE(u,s);return(c-c%7)/7}],["days",wE]],i={},a=r,o,l;for(let[u,s]of n)t.indexOf(u)>=0&&(o=u,i[u]=s(r,e),l=a.plus(i),l>e?(i[u]--,r=a.plus(i)):r=l);return[r,i,l,o]}function bL(r,e,t,n){let[i,a,o,l]=xL(r,e,t),u=e-i,s=t.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);s.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(a[l]=(a[l]||0)+u/(o-i)));let c=Je.fromObject(a,n);return s.length>0?Je.fromMillis(u,n).shiftTo(...s).plus(c):c}var Ad={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},EE={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},DL=Ad.hanidec.replace(/[\[|\]]/g,"").split("");function wL(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(r[t].search(Ad.hanidec)!==-1)e+=DL.indexOf(r[t]);else for(let i in EE){let[a,o]=EE[i];n>=a&&n<=o&&(e+=n-a)}}return parseInt(e,10)}else return e}function bi({numberingSystem:r},e=""){return new RegExp(`${Ad[r||"latn"]}${e}`)}var EL="missing Intl.DateTimeFormat.formatToParts support";function jt(r,e=t=>t){return{regex:r,deser:([t])=>e(wL(t))}}var CL=String.fromCharCode(160),EC=`[ ${CL}]`,CC=new RegExp(EC,"g");function FL(r){return r.replace(/\./g,"\\.?").replace(CC,EC)}function CE(r){return r.replace(/\./g,"").replace(CC," ").toLowerCase()}function Di(r,e){return r===null?null:{regex:RegExp(r.map(FL).join("|")),deser:([t])=>r.findIndex(n=>CE(t)===CE(n))+e}}function FE(r,e){return{regex:r,deser:([,t,n])=>Ec(t,n),groups:e}}function Xp(r){return{regex:r,deser:([e])=>e}}function AL(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function SL(r,e){let t=bi(e),n=bi(e,"{2}"),i=bi(e,"{3}"),a=bi(e,"{4}"),o=bi(e,"{6}"),l=bi(e,"{1,2}"),u=bi(e,"{1,3}"),s=bi(e,"{1,6}"),c=bi(e,"{1,9}"),f=bi(e,"{2,4}"),m=bi(e,"{4,6}"),p=g=>({regex:RegExp(AL(g.val)),deser:([v])=>v,literal:!0}),d=(g=>{if(r.literal)return p(g);switch(g.val){case"G":return Di(e.eras("short",!1),0);case"GG":return Di(e.eras("long",!1),0);case"y":return jt(s);case"yy":return jt(f,pd);case"yyyy":return jt(a);case"yyyyy":return jt(m);case"yyyyyy":return jt(o);case"M":return jt(l);case"MM":return jt(n);case"MMM":return Di(e.months("short",!0,!1),1);case"MMMM":return Di(e.months("long",!0,!1),1);case"L":return jt(l);case"LL":return jt(n);case"LLL":return Di(e.months("short",!1,!1),1);case"LLLL":return Di(e.months("long",!1,!1),1);case"d":return jt(l);case"dd":return jt(n);case"o":return jt(u);case"ooo":return jt(i);case"HH":return jt(n);case"H":return jt(l);case"hh":return jt(n);case"h":return jt(l);case"mm":return jt(n);case"m":return jt(l);case"q":return jt(l);case"qq":return jt(n);case"s":return jt(l);case"ss":return jt(n);case"S":return jt(u);case"SSS":return jt(i);case"u":return Xp(c);case"uu":return Xp(l);case"uuu":return jt(t);case"a":return Di(e.meridiems(),0);case"kkkk":return jt(a);case"kk":return jt(f,pd);case"W":return jt(l);case"WW":return jt(n);case"E":case"c":return jt(t);case"EEE":return Di(e.weekdays("short",!1,!1),1);case"EEEE":return Di(e.weekdays("long",!1,!1),1);case"ccc":return Di(e.weekdays("short",!0,!1),1);case"cccc":return Di(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return FE(new RegExp(`([+-]${l.source})(?::(${n.source}))?`),2);case"ZZZ":return FE(new RegExp(`([+-]${l.source})(${n.source})?`),2);case"z":return Xp(/[a-z_+-/]{1,256}?/i);default:return p(g)}})(r)||{invalidReason:EL};return d.token=r,d}var NL={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function ML(r,e){let{type:t,value:n}=r;if(t==="literal")return{literal:!0,val:n};let i=e[t],a=NL[t];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function _L(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function TL(r,e,t){let n=r.match(e);if(n){let i={},a=1;for(let o in t)if(os(t,o)){let l=t[o],u=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(n.slice(a,a+u))),a+=u}return[n,i]}else return[n,{}]}function IL(r){let e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t=null,n;return kt(r.z)||(t=Ci.create(r.z)),kt(r.Z)||(t||(t=new rn(r.Z)),n=r.Z),kt(r.q)||(r.M=(r.q-1)*3+1),kt(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),kt(r.u)||(r.S=bd(r.u)),[Object.keys(r).reduce((a,o)=>{let l=e(o);return l&&(a[l]=r[o]),a},{}),t,n]}var Qp=null;function BL(){return Qp||(Qp=et.fromMillis(1555555555555)),Qp}function OL(r,e){if(r.literal)return r;let t=Yr.macroTokenToFormatOpts(r.val),n=SC(t,e);return n==null||n.includes(void 0)?r:n}function FC(r,e){return Array.prototype.concat(...r.map(t=>OL(t,e)))}function AC(r,e,t){let n=FC(Yr.parseFormat(t),r),i=n.map(o=>SL(o,r)),a=i.find(o=>o.invalidReason);if(a)return{input:e,tokens:n,invalidReason:a.invalidReason};{let[o,l]=_L(i),u=RegExp(o,"i"),[s,c]=TL(e,u,l),[f,m,p]=c?IL(c):[null,null,void 0];if(os(c,"a")&&os(c,"H"))throw new mo("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:u,rawMatches:s,matches:c,result:f,zone:m,specificOffset:p}}}function RL(r,e,t){let{result:n,zone:i,specificOffset:a,invalidReason:o}=AC(r,e,t);return[n,i,a,o]}function SC(r,e){return r?Yr.create(e,r).formatDateTimeParts(BL()).map(i=>ML(i,r)):null}var NC=[0,31,59,90,120,151,181,212,243,273,304,334],MC=[0,31,60,91,121,152,182,213,244,274,305,335];function ii(r,e){return new Wn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function _C(r,e,t){let n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let i=n.getUTCDay();return i===0?7:i}function TC(r,e,t){return t+(Du(r)?MC:NC)[e-1]}function IC(r,e){let t=Du(r)?MC:NC,n=t.findIndex(a=>a<e),i=e-t[n];return{month:n+1,day:i}}function dd(r){let{year:e,month:t,day:n}=r,i=TC(e,t,n),a=_C(e,t,n),o=Math.floor((i-a+10)/7),l;return o<1?(l=e-1,o=yc(l)):o>yc(e)?(l=e+1,o=1):l=e,{weekYear:l,weekNumber:o,weekday:a,...Cc(r)}}function AE(r){let{weekYear:e,weekNumber:t,weekday:n}=r,i=_C(e,1,4),a=hu(e),o=t*7+n-i-3,l;o<1?(l=e-1,o+=hu(l)):o>a?(l=e+1,o-=hu(e)):l=e;let{month:u,day:s}=IC(l,o);return{year:l,month:u,day:s,...Cc(r)}}function Kp(r){let{year:e,month:t,day:n}=r,i=TC(e,t,n);return{year:e,ordinal:i,...Cc(r)}}function SE(r){let{year:e,ordinal:t}=r,{month:n,day:i}=IC(e,t);return{year:e,month:n,day:i,...Cc(r)}}function kL(r){let e=wc(r.weekYear),t=ra(r.weekNumber,1,yc(r.weekYear)),n=ra(r.weekday,1,7);return e?t?n?!1:ii("weekday",r.weekday):ii("week",r.week):ii("weekYear",r.weekYear)}function PL(r){let e=wc(r.year),t=ra(r.ordinal,1,hu(r.year));return e?t?!1:ii("ordinal",r.ordinal):ii("year",r.year)}function BC(r){let e=wc(r.year),t=ra(r.month,1,12),n=ra(r.day,1,vc(r.year,r.month));return e?t?n?!1:ii("day",r.day):ii("month",r.month):ii("year",r.year)}function OC(r){let{hour:e,minute:t,second:n,millisecond:i}=r,a=ra(e,0,23)||e===24&&t===0&&n===0&&i===0,o=ra(t,0,59),l=ra(n,0,59),u=ra(i,0,999);return a?o?l?u?!1:ii("millisecond",i):ii("second",n):ii("minute",t):ii("hour",e)}var $p="Invalid DateTime",NE=864e13;function fc(r){return new Wn("unsupported zone",`the zone "${r.name}" is not supported`)}function ed(r){return r.weekData===null&&(r.weekData=dd(r.c)),r.weekData}function cu(r,e){let t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new et({...t,...e,old:t})}function RC(r,e,t){let n=r-e*60*1e3,i=t.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;let a=t.offset(n);return i===a?[n,i]:[r-Math.min(i,a)*60*1e3,Math.max(i,a)]}function ME(r,e){r+=e*60*1e3;let t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function dc(r,e,t){return RC(wd(r),e,t)}function _E(r,e){let t=r.o,n=r.c.year+Math.trunc(e.years),i=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...r.c,year:n,month:i,day:Math.min(r.c.day,vc(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=Je.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=wd(a),[u,s]=RC(l,t,r.zone);return o!==0&&(u+=o,s=r.zone.offset(u)),{ts:u,o:s}}function fu(r,e,t,n,i,a){let{setZone:o,zone:l}=t;if(r&&Object.keys(r).length!==0){let u=e||l,s=et.fromObject(r,{...t,zone:u,specificOffset:a});return o?s:s.setZone(l)}else return et.invalid(new Wn("unparsable",`the input "${i}" can't be parsed as ${n}`))}function mc(r,e,t=!0){return r.isValid?Yr.create(rr.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function td(r,e){let t=r.c.year>9999||r.c.year<0,n="";return t&&r.c.year>=0&&(n+="+"),n+=Or(r.c.year,t?6:4),e?(n+="-",n+=Or(r.c.month),n+="-",n+=Or(r.c.day)):(n+=Or(r.c.month),n+=Or(r.c.day)),n}function TE(r,e,t,n,i,a){let o=Or(r.c.hour);return e?(o+=":",o+=Or(r.c.minute),(r.c.second!==0||!t)&&(o+=":")):o+=Or(r.c.minute),(r.c.second!==0||!t)&&(o+=Or(r.c.second),(r.c.millisecond!==0||!n)&&(o+=".",o+=Or(r.c.millisecond,3))),i&&(r.isOffsetFixed&&r.offset===0&&!a?o+="Z":r.o<0?(o+="-",o+=Or(Math.trunc(-r.o/60)),o+=":",o+=Or(Math.trunc(-r.o%60))):(o+="+",o+=Or(Math.trunc(r.o/60)),o+=":",o+=Or(Math.trunc(r.o%60)))),a&&(o+="["+r.zone.ianaName+"]"),o}var kC={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},LL={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},qL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},PC=["year","month","day","hour","minute","second","millisecond"],VL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],UL=["year","ordinal","hour","minute","second","millisecond"];function IE(r){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new hc(r);return e}function BE(r,e){let t=Ta(e.zone,Fr.defaultZone),n=rr.fromObject(e),i=Fr.now(),a,o;if(kt(r.year))a=i;else{for(let s of PC)kt(r[s])&&(r[s]=kC[s]);let l=BC(r)||OC(r);if(l)return et.invalid(l);let u=t.offset(i);[a,o]=dc(r,u,t)}return new et({ts:a,zone:t,loc:n,o})}function OE(r,e,t){let n=kt(t.round)?!0:t.round,i=(o,l)=>(o=Dd(o,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,l)),a=o=>t.calendary?e.hasSame(r,o)?0:e.startOf(o).diff(r.startOf(o),o).get(o):e.diff(r,o).get(o);if(t.unit)return i(a(t.unit),t.unit);for(let o of t.units){let l=a(o);if(Math.abs(l)>=1)return i(l,o)}return i(r>e?-0:0,t.units[t.units.length-1])}function RE(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}var et=class{constructor(e){let t=e.zone||Fr.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Wn("invalid input"):null)||(t.isValid?null:fc(t));this.ts=kt(e.ts)?Fr.now():e.ts;let i=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,a]=[e.old.c,e.old.o];else{let l=t.offset(this.ts);i=ME(this.ts,l),n=Number.isNaN(i.year)?new Wn("invalid input"):null,i=n?null:i,a=n?null:l}this._zone=t,this.loc=e.loc||rr.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new et({})}static local(){let[e,t]=RE(arguments),[n,i,a,o,l,u,s]=t;return BE({year:n,month:i,day:a,hour:o,minute:l,second:u,millisecond:s},e)}static utc(){let[e,t]=RE(arguments),[n,i,a,o,l,u,s]=t;return e.zone=rn.utcInstance,BE({year:n,month:i,day:a,hour:o,minute:l,second:u,millisecond:s},e)}static fromJSDate(e,t={}){let n=m5(e)?e.valueOf():NaN;if(Number.isNaN(n))return et.invalid("invalid input");let i=Ta(t.zone,Fr.defaultZone);return i.isValid?new et({ts:n,zone:i,loc:rr.fromObject(t)}):et.invalid(fc(i))}static fromMillis(e,t={}){if(po(e))return e<-NE||e>NE?et.invalid("Timestamp out of range"):new et({ts:e,zone:Ta(t.zone,Fr.defaultZone),loc:rr.fromObject(t)});throw new Bn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(po(e))return new et({ts:e*1e3,zone:Ta(t.zone,Fr.defaultZone),loc:rr.fromObject(t)});throw new Bn("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};let n=Ta(t.zone,Fr.defaultZone);if(!n.isValid)return et.invalid(fc(n));let i=Fr.now(),a=kt(t.specificOffset)?n.offset(i):t.specificOffset,o=xc(e,IE),l=!kt(o.ordinal),u=!kt(o.year),s=!kt(o.month)||!kt(o.day),c=u||s,f=o.weekYear||o.weekNumber,m=rr.fromObject(t);if((c||l)&&f)throw new mo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&l)throw new mo("Can't mix ordinal dates with month/day");let p=f||o.weekday&&!c,h,d,g=ME(i,a);p?(h=VL,d=LL,g=dd(g)):l?(h=UL,d=qL,g=Kp(g)):(h=PC,d=kC);let v=!1;for(let S of h){let A=o[S];kt(A)?v?o[S]=d[S]:o[S]=g[S]:v=!0}let E=p?kL(o):l?PL(o):BC(o),y=E||OC(o);if(y)return et.invalid(y);let D=p?AE(o):l?SE(o):o,[x,b]=dc(D,a,n),C=new et({ts:x,zone:n,o:b,loc:m});return o.weekday&&c&&e.weekday!==C.weekday?et.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${C.toISO()}`):C}static fromISO(e,t={}){let[n,i]=tL(e);return fu(n,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){let[n,i]=rL(e);return fu(n,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){let[n,i]=nL(e);return fu(n,i,t,"HTTP",t)}static fromFormat(e,t,n={}){if(kt(e)||kt(t))throw new Bn("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:a=null}=n,o=rr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[l,u,s,c]=RL(o,e,t);return c?et.invalid(c):fu(l,u,n,`format ${t}`,e,s)}static fromString(e,t,n={}){return et.fromFormat(e,t,n)}static fromSQL(e,t={}){let[n,i]=cL(e);return fu(n,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Bn("need to specify a reason the DateTime is invalid");let n=e instanceof Wn?e:new Wn(e,t);if(Fr.throwOnInvalid)throw new rd(n);return new et({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){let n=SC(e,rr.fromObject(t));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return FC(Yr.parseFormat(e),rr.fromObject(t)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ed(this).weekYear:NaN}get weekNumber(){return this.isValid?ed(this).weekNumber:NaN}get weekday(){return this.isValid?ed(this).weekday:NaN}get ordinal(){return this.isValid?Kp(this.c).ordinal:NaN}get monthShort(){return this.isValid?ns.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ns.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ns.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ns.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Du(this.year)}get daysInMonth(){return vc(this.year,this.month)}get daysInYear(){return this.isValid?hu(this.year):NaN}get weeksInWeekYear(){return this.isValid?yc(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:t,numberingSystem:n,calendar:i}=Yr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(rn.instance(e),t)}toLocal(){return this.setZone(Fr.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=Ta(e,Fr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||n){let a=e.offset(this.ts),o=this.toObject();[i]=dc(o,a,e)}return cu(this,{ts:i,zone:e})}else return et.invalid(fc(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){let i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return cu(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let t=xc(e,IE),n=!kt(t.weekYear)||!kt(t.weekNumber)||!kt(t.weekday),i=!kt(t.ordinal),a=!kt(t.year),o=!kt(t.month)||!kt(t.day),l=a||o,u=t.weekYear||t.weekNumber;if((l||i)&&u)throw new mo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new mo("Can't mix ordinal dates with month/day");let s;n?s=AE({...dd(this.c),...t}):kt(t.ordinal)?(s={...this.toObject(),...t},kt(t.day)&&(s.day=Math.min(vc(s.year,s.month),s.day))):s=SE({...Kp(this.c),...t});let[c,f]=dc(s,this.o,this.zone);return cu(this,{ts:c,o:f})}plus(e){if(!this.isValid)return this;let t=Je.fromDurationLike(e);return cu(this,_E(this,t))}minus(e){if(!this.isValid)return this;let t=Je.fromDurationLike(e).negate();return cu(this,_E(this,t))}startOf(e){if(!this.isValid)return this;let t={},n=Je.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(n==="weeks"&&(t.weekday=1),n==="quarters"){let i=Math.ceil(this.month/3);t.month=(i-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?Yr.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):$p}toLocaleString(e=gc,t={}){return this.isValid?Yr.create(this.loc.clone(t),e).formatDateTime(this):$p}toLocaleParts(e={}){return this.isValid?Yr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;let o=e==="extended",l=td(this,o);return l+="T",l+=TE(this,o,t,n,i,a),l}toISODate({format:e="extended"}={}){return this.isValid?td(this,e==="extended"):null}toISOWeekDate(){return mc(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:a=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+TE(this,o==="extended",t,e,n,a):null}toRFC2822(){return mc(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return mc(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?td(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(n&&(i+=" "),t?i+="z":e&&(i+="ZZ")),mc(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():$p}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return Je.invalid("created by diffing an invalid DateTime");let i={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=p5(t).map(Je.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,u=o?e:this,s=bL(l,u,a,i);return o?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(et.now(),e,t)}until(e){return this.isValid?hr.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;let n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t)<=n&&n<=i.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let t=e.base||et.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),OE(t,this.plus(n),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?OE(e.base||et.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(et.isDateTime))throw new Bn("min requires all arguments be DateTimes");return xE(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(et.isDateTime))throw new Bn("max requires all arguments be DateTimes");return xE(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){let{locale:i=null,numberingSystem:a=null}=n,o=rr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return AC(o,e,t)}static fromStringExplain(e,t,n={}){return et.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return gc}static get DATE_MED(){return VE}static get DATE_MED_WITH_WEEKDAY(){return XP}static get DATE_FULL(){return UE}static get DATE_HUGE(){return zE}static get TIME_SIMPLE(){return WE}static get TIME_WITH_SECONDS(){return HE}static get TIME_WITH_SHORT_OFFSET(){return GE}static get TIME_WITH_LONG_OFFSET(){return jE}static get TIME_24_SIMPLE(){return ZE}static get TIME_24_WITH_SECONDS(){return YE}static get TIME_24_WITH_SHORT_OFFSET(){return JE}static get TIME_24_WITH_LONG_OFFSET(){return XE}static get DATETIME_SHORT(){return QE}static get DATETIME_SHORT_WITH_SECONDS(){return KE}static get DATETIME_MED(){return $E}static get DATETIME_MED_WITH_SECONDS(){return eC}static get DATETIME_MED_WITH_WEEKDAY(){return QP}static get DATETIME_FULL(){return tC}static get DATETIME_FULL_WITH_SECONDS(){return rC}static get DATETIME_HUGE(){return nC}static get DATETIME_HUGE_WITH_SECONDS(){return iC}};function mu(r){if(et.isDateTime(r))return r;if(r&&r.valueOf&&po(r.valueOf()))return et.fromJSDate(r);if(r&&typeof r=="object")return et.fromObject(r);throw new Bn(`Unknown datetime argument: ${r}, of type ${typeof r}`)}var Sd={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},zL={allowHtml:!0};({...Sd,...zL});var vu=class{constructor(e){this.value=e,this.successful=!0}map(e){return new vu(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,t){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},yu=class{constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new yu(e(this.error))}bimap(e,t){return this.mapErr(t)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},bc;(function(r){function e(a){return new vu(a)}r.success=e;function t(a){return new yu(a)}r.failure=t;function n(a,o,l){return a.successful?o.successful?l(a.value,o.value):t(o.error):t(a.error)}r.flatMap2=n;function i(a,o,l){return n(a,o,(u,s)=>e(l(u,s)))}r.map2=i})(bc||(bc={}));var WL=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},$={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(typeof self!="undefined"?self:WL,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=n,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},i.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=0)}([function(t,n,i){function a(w){if(!(this instanceof a))return new a(w);this._=w}var o=a.prototype;function l(w,R){for(var q=0;q<w;q++)R(q)}function u(w,R,q){return function(K,pe){l(pe.length,function(he){K(pe[he],he,pe)})}(function(K,pe,he){R=w(R,K,pe,he)},q),R}function s(w,R){return u(function(q,K,pe,he){return q.concat([w(K,pe,he)])},[],R)}function c(w,R){var q={v:0,buf:R};return l(w,function(){var K;q={v:q.v<<1|(K=q.buf,K[0]>>7),buf:function(pe){var he=u(function(Ae,nt,qt,Br){return Ae.concat(qt===Br.length-1?Buffer.from([nt,0]).readUInt16BE(0):Br.readUInt16BE(qt))},[],pe);return Buffer.from(s(function(Ae){return(Ae<<1&65535)>>8},he))}(q.buf)}}),q}function f(){return typeof Buffer!="undefined"}function m(){if(!f())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function p(w){m();var R=u(function(he,Ae){return he+Ae},0,w);if(R%8!=0)throw new Error("The bits ["+w.join(", ")+"] add up to "+R+" which is not an even number of bytes; the total should be divisible by 8");var q,K=R/8,pe=(q=function(he){return he>48},u(function(he,Ae){return he||(q(Ae)?Ae:he)},null,w));if(pe)throw new Error(pe+" bit range requested exceeds 48 bit (6 byte) Number max.");return new a(function(he,Ae){var nt=K+Ae;return nt>he.length?S(Ae,K.toString()+" bytes"):C(nt,u(function(qt,Br){var kr=c(Br,qt.buf);return{coll:qt.coll.concat(kr.v),buf:kr.buf}},{coll:[],buf:he.slice(Ae,nt)},w).coll)})}function h(w,R){return new a(function(q,K){return m(),K+R>q.length?S(K,R+" bytes for "+w):C(K+R,q.slice(K,K+R))})}function d(w,R){if(typeof(q=R)!="number"||Math.floor(q)!==q||R<0||R>6)throw new Error(w+" requires integer length in range [0, 6].");var q}function g(w){return d("uintBE",w),h("uintBE("+w+")",w).map(function(R){return R.readUIntBE(0,w)})}function v(w){return d("uintLE",w),h("uintLE("+w+")",w).map(function(R){return R.readUIntLE(0,w)})}function E(w){return d("intBE",w),h("intBE("+w+")",w).map(function(R){return R.readIntBE(0,w)})}function y(w){return d("intLE",w),h("intLE("+w+")",w).map(function(R){return R.readIntLE(0,w)})}function D(w){return w instanceof a}function x(w){return{}.toString.call(w)==="[object Array]"}function b(w){return f()&&Buffer.isBuffer(w)}function C(w,R){return{status:!0,index:w,value:R,furthest:-1,expected:[]}}function S(w,R){return x(R)||(R=[R]),{status:!1,index:-1,value:null,furthest:w,expected:R}}function A(w,R){if(!R||w.furthest>R.furthest)return w;var q=w.furthest===R.furthest?function(K,pe){if(function(){if(a._supportsSet!==void 0)return a._supportsSet;var vi=typeof Set!="undefined";return a._supportsSet=vi,vi}()&&Array.from){for(var he=new Set(K),Ae=0;Ae<pe.length;Ae++)he.add(pe[Ae]);var nt=Array.from(he);return nt.sort(),nt}for(var qt={},Br=0;Br<K.length;Br++)qt[K[Br]]=!0;for(var kr=0;kr<pe.length;kr++)qt[pe[kr]]=!0;var gi=[];for(var wn in qt)({}).hasOwnProperty.call(qt,wn)&&gi.push(wn);return gi.sort(),gi}(w.expected,R.expected):R.expected;return{status:w.status,index:w.index,value:w.value,furthest:R.furthest,expected:q}}var F={};function I(w,R){if(b(w))return{offset:R,line:-1,column:-1};w in F||(F[w]={});for(var q=F[w],K=0,pe=0,he=0,Ae=R;Ae>=0;){if(Ae in q){K=q[Ae].line,he===0&&(he=q[Ae].lineStart);break}(w.charAt(Ae)===`
`||w.charAt(Ae)==="\r"&&w.charAt(Ae+1)!==`
`)&&(pe++,he===0&&(he=Ae+1)),Ae--}var nt=K+pe,qt=R-he;return q[R]={line:nt,lineStart:he},{offset:R,line:nt+1,column:qt+1}}function M(w){if(!D(w))throw new Error("not a parser: "+w)}function O(w,R){return typeof w=="string"?w.charAt(R):w[R]}function P(w){if(typeof w!="number")throw new Error("not a number: "+w)}function k(w){if(typeof w!="function")throw new Error("not a function: "+w)}function _(w){if(typeof w!="string")throw new Error("not a string: "+w)}var T=2,z=3,B=8,U=5*B,Y=4*B,J="  ";function L(w,R){return new Array(R+1).join(w)}function X(w,R,q){var K=R-w.length;return K<=0?w:L(q,K)+w}function se(w,R,q,K){return{from:w-R>0?w-R:0,to:w+q>K?K:w+q}}function te(w,R){var q,K,pe,he,Ae,nt=R.index,qt=nt.offset,Br=1;if(qt===w.length)return"Got the end of the input";if(b(w)){var kr=qt-qt%B,gi=qt-kr,wn=se(kr,U,Y+B,w.length),vi=s(function(Mr){return s(function(ga){return X(ga.toString(16),2,"0")},Mr)},function(Mr,ga){var va=Mr.length,Xi=[],ya=0;if(va<=ga)return[Mr.slice()];for(var xa=0;xa<va;xa++)Xi[ya]||Xi.push([]),Xi[ya].push(Mr[xa]),(xa+1)%ga==0&&ya++;return Xi}(w.slice(wn.from,wn.to).toJSON().data,B));he=function(Mr){return Mr.from===0&&Mr.to===1?{from:Mr.from,to:Mr.to}:{from:Mr.from/B,to:Math.floor(Mr.to/B)}}(wn),K=kr/B,q=3*gi,gi>=4&&(q+=1),Br=2,pe=s(function(Mr){return Mr.length<=4?Mr.join(" "):Mr.slice(0,4).join(" ")+"  "+Mr.slice(4).join(" ")},vi),(Ae=(8*(he.to>0?he.to-1:he.to)).toString(16).length)<2&&(Ae=2)}else{var ha=w.split(/\r\n|[\n\r\u2028\u2029]/);q=nt.column-1,K=nt.line-1,he=se(K,T,z,ha.length),pe=ha.slice(he.from,he.to),Ae=he.to.toString().length}var ap=K-he.from;return b(w)&&(Ae=(8*(he.to>0?he.to-1:he.to)).toString(16).length)<2&&(Ae=2),u(function(Mr,ga,va){var Xi,ya=va===ap,xa=ya?"> ":J;return Xi=b(w)?X((8*(he.from+va)).toString(16),Ae,"0"):X((he.from+va+1).toString(),Ae," "),[].concat(Mr,[xa+Xi+" | "+ga],ya?[J+L(" ",Ae)+" | "+X("",q," ")+L("^",Br)]:[])},[],pe).join(`
`)}function me(w,R){return[`
`,"-- PARSING FAILED "+L("-",50),`

`,te(w,R),`

`,(q=R.expected,q.length===1?`Expected:

`+q[0]:`Expected one of the following: 

`+q.join(", ")),`
`].join("");var q}function de(w){return w.flags!==void 0?w.flags:[w.global?"g":"",w.ignoreCase?"i":"",w.multiline?"m":"",w.unicode?"u":"",w.sticky?"y":""].join("")}function fe(){for(var w=[].slice.call(arguments),R=w.length,q=0;q<R;q+=1)M(w[q]);return a(function(K,pe){for(var he,Ae=new Array(R),nt=0;nt<R;nt+=1){if(!(he=A(w[nt]._(K,pe),he)).status)return he;Ae[nt]=he.value,pe=he.index}return A(C(pe,Ae),he)})}function ue(){var w=[].slice.call(arguments);if(w.length===0)throw new Error("seqMap needs at least one argument");var R=w.pop();return k(R),fe.apply(null,w).map(function(q){return R.apply(null,q)})}function xe(){var w=[].slice.call(arguments),R=w.length;if(R===0)return le("zero alternates");for(var q=0;q<R;q+=1)M(w[q]);return a(function(K,pe){for(var he,Ae=0;Ae<w.length;Ae+=1)if((he=A(w[Ae]._(K,pe),he)).status)return he;return he})}function We(w,R){return Ne(w,R).or(j([]))}function Ne(w,R){return M(w),M(R),ue(w,R.then(w).many(),function(q,K){return[q].concat(K)})}function Ve(w){_(w);var R="'"+w+"'";return a(function(q,K){var pe=K+w.length,he=q.slice(K,pe);return he===w?C(pe,he):S(K,R)})}function W(w,R){(function(pe){if(!(pe instanceof RegExp))throw new Error("not a regexp: "+pe);for(var he=de(pe),Ae=0;Ae<he.length;Ae++){var nt=he.charAt(Ae);if(nt!=="i"&&nt!=="m"&&nt!=="u"&&nt!=="s")throw new Error('unsupported regexp flag "'+nt+'": '+pe)}})(w),arguments.length>=2?P(R):R=0;var q=function(pe){return RegExp("^(?:"+pe.source+")",de(pe))}(w),K=""+w;return a(function(pe,he){var Ae=q.exec(pe.slice(he));if(Ae){if(0<=R&&R<=Ae.length){var nt=Ae[0],qt=Ae[R];return C(he+nt.length,qt)}return S(he,"valid match group (0 to "+Ae.length+") in "+K)}return S(he,K)})}function j(w){return a(function(R,q){return C(q,w)})}function le(w){return a(function(R,q){return S(q,w)})}function H(w){if(D(w))return a(function(R,q){var K=w._(R,q);return K.index=q,K.value="",K});if(typeof w=="string")return H(Ve(w));if(w instanceof RegExp)return H(W(w));throw new Error("not a string, regexp, or parser: "+w)}function Q(w){return M(w),a(function(R,q){var K=w._(R,q),pe=R.slice(q,K.index);return K.status?S(q,'not "'+pe+'"'):C(q,null)})}function ne(w){return k(w),a(function(R,q){var K=O(R,q);return q<R.length&&w(K)?C(q+1,K):S(q,"a character/byte matching "+w)})}function ye(w,R){arguments.length<2&&(R=w,w=void 0);var q=a(function(K,pe){return q._=R()._,q._(K,pe)});return w?q.desc(w):q}function ge(){return le("fantasy-land/empty")}o.parse=function(w){if(typeof w!="string"&&!b(w))throw new Error(".parse must be called with a string or Buffer as its argument");var R,q=this.skip(Dt)._(w,0);return R=q.status?{status:!0,value:q.value}:{status:!1,index:I(w,q.furthest),expected:q.expected},delete F[w],R},o.tryParse=function(w){var R=this.parse(w);if(R.status)return R.value;var q=me(w,R),K=new Error(q);throw K.type="ParsimmonError",K.result=R,K},o.assert=function(w,R){return this.chain(function(q){return w(q)?j(q):le(R)})},o.or=function(w){return xe(this,w)},o.trim=function(w){return this.wrap(w,w)},o.wrap=function(w,R){return ue(w,this,R,function(q,K){return K})},o.thru=function(w){return w(this)},o.then=function(w){return M(w),fe(this,w).map(function(R){return R[1]})},o.many=function(){var w=this;return a(function(R,q){for(var K=[],pe=void 0;;){if(!(pe=A(w._(R,q),pe)).status)return A(C(q,K),pe);if(q===pe.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");q=pe.index,K.push(pe.value)}})},o.tieWith=function(w){return _(w),this.map(function(R){if(function(pe){if(!x(pe))throw new Error("not an array: "+pe)}(R),R.length){_(R[0]);for(var q=R[0],K=1;K<R.length;K++)_(R[K]),q+=w+R[K];return q}return""})},o.tie=function(){return this.tieWith("")},o.times=function(w,R){var q=this;return arguments.length<2&&(R=w),P(w),P(R),a(function(K,pe){for(var he=[],Ae=void 0,nt=void 0,qt=0;qt<w;qt+=1){if(nt=A(Ae=q._(K,pe),nt),!Ae.status)return nt;pe=Ae.index,he.push(Ae.value)}for(;qt<R&&(nt=A(Ae=q._(K,pe),nt),Ae.status);qt+=1)pe=Ae.index,he.push(Ae.value);return A(C(pe,he),nt)})},o.result=function(w){return this.map(function(){return w})},o.atMost=function(w){return this.times(0,w)},o.atLeast=function(w){return ue(this.times(w),this.many(),function(R,q){return R.concat(q)})},o.map=function(w){k(w);var R=this;return a(function(q,K){var pe=R._(q,K);return pe.status?A(C(pe.index,w(pe.value)),pe):pe})},o.contramap=function(w){k(w);var R=this;return a(function(q,K){var pe=R.parse(w(q.slice(K)));return pe.status?C(K+q.length,pe.value):pe})},o.promap=function(w,R){return k(w),k(R),this.contramap(w).map(R)},o.skip=function(w){return fe(this,w).map(function(R){return R[0]})},o.mark=function(){return ue(ke,this,ke,function(w,R,q){return{start:w,value:R,end:q}})},o.node=function(w){return ue(ke,this,ke,function(R,q,K){return{name:w,value:q,start:R,end:K}})},o.sepBy=function(w){return We(this,w)},o.sepBy1=function(w){return Ne(this,w)},o.lookahead=function(w){return this.skip(H(w))},o.notFollowedBy=function(w){return this.skip(Q(w))},o.desc=function(w){x(w)||(w=[w]);var R=this;return a(function(q,K){var pe=R._(q,K);return pe.status||(pe.expected=w),pe})},o.fallback=function(w){return this.or(j(w))},o.ap=function(w){return ue(w,this,function(R,q){return R(q)})},o.chain=function(w){var R=this;return a(function(q,K){var pe=R._(q,K);return pe.status?A(w(pe.value)._(q,pe.index),pe):pe})},o.concat=o.or,o.empty=ge,o.of=j,o["fantasy-land/ap"]=o.ap,o["fantasy-land/chain"]=o.chain,o["fantasy-land/concat"]=o.concat,o["fantasy-land/empty"]=o.empty,o["fantasy-land/of"]=o.of,o["fantasy-land/map"]=o.map;var ke=a(function(w,R){return C(R,I(w,R))}),Ee=a(function(w,R){return R>=w.length?S(R,"any character/byte"):C(R+1,O(w,R))}),mt=a(function(w,R){return C(w.length,w.slice(R))}),Dt=a(function(w,R){return R<w.length?S(R,"EOF"):C(R,null)}),It=W(/[0-9]/).desc("a digit"),Ht=W(/[0-9]*/).desc("optional digits"),G=W(/[a-z]/i).desc("a letter"),re=W(/[a-z]*/i).desc("optional letters"),ce=W(/\s*/).desc("optional whitespace"),be=W(/\s+/).desc("whitespace"),Ce=Ve("\r"),De=Ve(`
`),Pe=Ve(`\r
`),we=xe(Pe,De,Ce).desc("newline"),ze=xe(we,Dt);a.all=mt,a.alt=xe,a.any=Ee,a.cr=Ce,a.createLanguage=function(w){var R={};for(var q in w)({}).hasOwnProperty.call(w,q)&&function(K){R[K]=ye(function(){return w[K](R)})}(q);return R},a.crlf=Pe,a.custom=function(w){return a(w(C,S))},a.digit=It,a.digits=Ht,a.empty=ge,a.end=ze,a.eof=Dt,a.fail=le,a.formatError=me,a.index=ke,a.isParser=D,a.lazy=ye,a.letter=G,a.letters=re,a.lf=De,a.lookahead=H,a.makeFailure=S,a.makeSuccess=C,a.newline=we,a.noneOf=function(w){return ne(function(R){return w.indexOf(R)<0}).desc("none of '"+w+"'")},a.notFollowedBy=Q,a.of=j,a.oneOf=function(w){for(var R=w.split(""),q=0;q<R.length;q++)R[q]="'"+R[q]+"'";return ne(function(K){return w.indexOf(K)>=0}).desc(R)},a.optWhitespace=ce,a.Parser=a,a.range=function(w,R){return ne(function(q){return w<=q&&q<=R}).desc(w+"-"+R)},a.regex=W,a.regexp=W,a.sepBy=We,a.sepBy1=Ne,a.seq=fe,a.seqMap=ue,a.seqObj=function(){for(var w,R={},q=0,K=(w=arguments,Array.prototype.slice.call(w)),pe=K.length,he=0;he<pe;he+=1){var Ae=K[he];if(!D(Ae)){if(x(Ae)&&Ae.length===2&&typeof Ae[0]=="string"&&D(Ae[1])){var nt=Ae[0];if(Object.prototype.hasOwnProperty.call(R,nt))throw new Error("seqObj: duplicate key "+nt);R[nt]=!0,q++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(q===0)throw new Error("seqObj expects at least one named parser, found zero");return a(function(qt,Br){for(var kr,gi={},wn=0;wn<pe;wn+=1){var vi,ha;if(x(K[wn])?(vi=K[wn][0],ha=K[wn][1]):(vi=null,ha=K[wn]),!(kr=A(ha._(qt,Br),kr)).status)return kr;vi&&(gi[vi]=kr.value),Br=kr.index}return A(C(Br,gi),kr)})},a.string=Ve,a.succeed=j,a.takeWhile=function(w){return k(w),a(function(R,q){for(var K=q;K<R.length&&w(O(R,K));)K++;return C(K,R.slice(q,K))})},a.test=ne,a.whitespace=be,a["fantasy-land/empty"]=ge,a["fantasy-land/of"]=j,a.Binary={bitSeq:p,bitSeqObj:function(w){m();var R={},q=0,K=s(function(he){if(x(he)){var Ae=he;if(Ae.length!==2)throw new Error("["+Ae.join(", ")+"] should be length 2, got length "+Ae.length);if(_(Ae[0]),P(Ae[1]),Object.prototype.hasOwnProperty.call(R,Ae[0]))throw new Error("duplicate key in bitSeqObj: "+Ae[0]);return R[Ae[0]]=!0,q++,Ae}return P(he),[null,he]},w);if(q<1)throw new Error("bitSeqObj expects at least one named pair, got ["+w.join(", ")+"]");var pe=s(function(he){return he[0]},K);return p(s(function(he){return he[1]},K)).map(function(he){return u(function(Ae,nt){return nt[0]!==null&&(Ae[nt[0]]=nt[1]),Ae},{},s(function(Ae,nt){return[Ae,he[nt]]},pe))})},byte:function(w){if(m(),P(w),w>255)throw new Error("Value specified to byte constructor ("+w+"=0x"+w.toString(16)+") is larger in value than a single byte.");var R=(w>15?"0x":"0x0")+w.toString(16);return a(function(q,K){var pe=O(q,K);return pe===w?C(K+1,pe):S(K,R)})},buffer:function(w){return h("buffer",w).map(function(R){return Buffer.from(R)})},encodedString:function(w,R){return h("string",R).map(function(q){return q.toString(w)})},uintBE:g,uint8BE:g(1),uint16BE:g(2),uint32BE:g(4),uintLE:v,uint8LE:v(1),uint16LE:v(2),uint32LE:v(4),intBE:E,int8BE:E(1),int16BE:E(2),int32BE:E(4),intLE:y,int8LE:y(1),int16LE:y(2),int32LE:y(4),floatBE:h("floatBE",4).map(function(w){return w.readFloatBE(0)}),floatLE:h("floatLE",4).map(function(w){return w.readFloatLE(0)}),doubleBE:h("doubleBE",8).map(function(w){return w.readDoubleBE(0)}),doubleLE:h("doubleLE",8).map(function(w){return w.readDoubleLE(0)})},t.exports=a}])})})($);var Nd=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function LC(r){return r==null?r:r.shiftToAll().normalize()}function kE(r){return r.includes("/")&&(r=r.substring(r.lastIndexOf("/")+1)),r.endsWith(".md")&&(r=r.substring(0,r.length-3)),r}$.exports.alt($.exports.regex(new RegExp(Nd(),"")),$.exports.regex(/[0-9\p{Letter}_-]+/u).map(r=>r.toLocaleLowerCase()),$.exports.whitespace.map(r=>"-"),$.exports.any.map(r=>"")).many().map(r=>r.join(""));var HL=$.exports.alt($.exports.regex(new RegExp(Nd(),"")),$.exports.regex(/[0-9\p{Letter}_-]+/u),$.exports.whitespace.map(r=>" "),$.exports.any.map(r=>" ")).many().map(r=>r.join("").split(/\s+/).join(" ").trim());function GL(r){return HL.tryParse(r)}function jL(r){return r=LC(r),r=Je.fromObject(Object.fromEntries(Object.entries(r.toObject()).filter(([,e])=>e>0))),r.toHuman()}var xu;(function(r){function e(D,x=Sd,b=!1){let C=t(D);if(!C)return x.renderNullAs;switch(C.type){case"null":return x.renderNullAs;case"string":return C.value;case"number":case"boolean":return""+C.value;case"html":return C.value.outerHTML;case"widget":return C.value.markdown();case"link":return C.value.markdown();case"function":return"<function>";case"array":let S="";return b&&(S+="["),S+=C.value.map(A=>e(A,x,!0)).join(", "),b&&(S+="]"),S;case"object":return"{ "+Object.entries(C.value).map(A=>A[0]+": "+e(A[1],x,!0)).join(", ")+" }";case"date":return C.value.second==0&&C.value.hour==0&&C.value.minute==0?C.value.toFormat(x.defaultDateFormat):C.value.toFormat(x.defaultDateTimeFormat);case"duration":return jL(C.value)}}r.toString=e;function t(D){return m(D)?{type:"null",value:D}:s(D)?{type:"number",value:D}:u(D)?{type:"string",value:D}:h(D)?{type:"boolean",value:D}:f(D)?{type:"duration",value:D}:c(D)?{type:"date",value:D}:g(D)?{type:"widget",value:D}:p(D)?{type:"array",value:D}:d(D)?{type:"link",value:D}:y(D)?{type:"function",value:D}:v(D)?{type:"html",value:D}:E(D)?{type:"object",value:D}:void 0}r.wrapValue=t;function n(D,x){if(E(D)){let b={};for(let[C,S]of Object.entries(D))b[C]=n(S,x);return b}else if(p(D)){let b=[];for(let C of D)b.push(n(C,x));return b}else return x(D)}r.mapLeaves=n;function i(D,x,b){var C,S;if(D===void 0&&(D=null),x===void 0&&(x=null),D===null&&x===null)return 0;if(D===null)return-1;if(x===null)return 1;let A=t(D),F=t(x);if(A===void 0&&F===void 0)return 0;if(A===void 0)return-1;if(F===void 0)return 1;if(A.type!=F.type)return A.type.localeCompare(F.type);if(A.value===F.value)return 0;switch(A.type){case"string":return A.value.localeCompare(F.value);case"number":return A.value<F.value?-1:A.value==F.value?0:1;case"null":return 0;case"boolean":return A.value==F.value?0:A.value?1:-1;case"link":let I=A.value,M=F.value,O=b!=null?b:L=>L,P=O(I.path).localeCompare(O(M.path));if(P!=0)return P;let k=I.type.localeCompare(M.type);return k!=0?k:I.subpath&&!M.subpath?1:!I.subpath&&M.subpath?-1:!I.subpath&&!M.subpath?0:((C=I.subpath)!==null&&C!==void 0?C:"").localeCompare((S=M.subpath)!==null&&S!==void 0?S:"");case"date":return A.value<F.value?-1:A.value.equals(F.value)?0:1;case"duration":return A.value<F.value?-1:A.value.equals(F.value)?0:1;case"array":let _=A.value,T=F.value;for(let L=0;L<Math.min(_.length,T.length);L++){let X=i(_[L],T[L]);if(X!=0)return X}return _.length-T.length;case"object":let z=A.value,B=F.value,U=Array.from(Object.keys(z)),Y=Array.from(Object.keys(B));U.sort(),Y.sort();let J=i(U,Y);if(J!=0)return J;for(let L of U){let X=i(z[L],B[L]);if(X!=0)return X}return 0;case"widget":case"html":case"function":return 0}}r.compareValue=i;function a(D){var x;return(x=t(D))===null||x===void 0?void 0:x.type}r.typeOf=a;function o(D){let x=t(D);if(!x)return!1;switch(x.type){case"number":return x.value!=0;case"string":return x.value.length>0;case"boolean":return x.value;case"link":return!!x.value.path;case"date":return x.value.toMillis()!=0;case"duration":return x.value.as("seconds")!=0;case"object":return Object.keys(x.value).length>0;case"array":return x.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}r.isTruthy=o;function l(D){if(D==null)return D;if(r.isArray(D))return[].concat(D.map(x=>l(x)));if(r.isObject(D)){let x={};for(let[b,C]of Object.entries(D))x[b]=l(C);return x}else return D}r.deepCopy=l;function u(D){return typeof D=="string"}r.isString=u;function s(D){return typeof D=="number"}r.isNumber=s;function c(D){return D instanceof et}r.isDate=c;function f(D){return D instanceof Je}r.isDuration=f;function m(D){return D==null}r.isNull=m;function p(D){return Array.isArray(D)}r.isArray=p;function h(D){return typeof D=="boolean"}r.isBoolean=h;function d(D){return D instanceof Zr}r.isLink=d;function g(D){return D instanceof bu}r.isWidget=g;function v(D){return typeof HTMLElement!="undefined"?D instanceof HTMLElement:!1}r.isHtml=v;function E(D){return typeof D=="object"&&!v(D)&&!g(D)&&!p(D)&&!f(D)&&!c(D)&&!d(D)&&D!==void 0&&!m(D)}r.isObject=E;function y(D){return typeof D=="function"}r.isFunction=y})(xu||(xu={}));var PE;(function(r){function e(i){return xu.isObject(i)&&Object.keys(i).length==2&&"key"in i&&"rows"in i}r.isElementGroup=e;function t(i){for(let a of i)if(!e(a))return!1;return!0}r.isGrouping=t;function n(i){if(t(i)){let a=0;for(let o of i)a+=n(o.rows);return a}else return i.length}r.count=n})(PE||(PE={}));var Zr=class{constructor(e){Object.assign(this,e)}static file(e,t=!1,n){return new Zr({path:e,embed:t,display:n,subpath:void 0,type:"file"})}static infer(e,t=!1,n){if(e.includes("#^")){let i=e.split("#^");return Zr.block(i[0],i[1],t,n)}else if(e.includes("#")){let i=e.split("#");return Zr.header(i[0],i[1],t,n)}else return Zr.file(e,t,n)}static header(e,t,n,i){return new Zr({path:e,embed:n,display:i,subpath:GL(t),type:"header"})}static block(e,t,n,i){return new Zr({path:e,embed:n,display:i,subpath:t,type:"block"})}static fromObject(e){return new Zr(e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new Zr(Object.assign({},this,{path:e}))}withDisplay(e){return new Zr(Object.assign({},this,{display:e}))}withHeader(e){return Zr.header(this.path,e,this.embed,this.display)}toFile(){return Zr.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new Zr(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new Zr(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+kE(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var e,t;let n=this.path.replace("|","\\|");return this.type=="header"?n+"#"+((e=this.subpath)===null||e===void 0?void 0:e.replace("|","\\|")):this.type=="block"?n+"#^"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):n}fileName(){return kE(this.path).replace(".md","")}},bu=class{constructor(e){this.$widget=e}},hd=class extends bu{constructor(e,t){super("dataview:list-pair"),this.key=e,this.value=t}markdown(){return`${xu.toString(this.key)}: ${xu.toString(this.value)}`}},gd=class extends bu{constructor(e,t){super("dataview:external-link"),this.url=e,this.display=t}markdown(){var e;return`[${(e=this.display)!==null&&e!==void 0?e:this.url}](${this.url})`}},LE;(function(r){function e(o,l){return new hd(o,l)}r.listPair=e;function t(o,l){return new gd(o,l)}r.externalLink=t;function n(o){return o.$widget==="dataview:list-pair"}r.isListPair=n;function i(o){return o.$widget==="dataview:external-link"}r.isExternalLink=i;function a(o){return n(o)||i(o)}r.isBuiltin=a})(LE||(LE={}));var Cr;(function(r){function e(m){return{type:"variable",name:m}}r.variable=e;function t(m){return{type:"literal",value:m}}r.literal=t;function n(m,p,h){return{type:"binaryop",left:m,op:p,right:h}}r.binaryOp=n;function i(m,p){return{type:"index",object:m,index:p}}r.index=i;function a(m){let p=m.split("."),h=r.variable(p[0]);for(let d=1;d<p.length;d++)h=r.index(h,r.literal(p[d]));return h}r.indexVariable=a;function o(m,p){return{type:"lambda",arguments:m,value:p}}r.lambda=o;function l(m,p){return{type:"function",func:m,arguments:p}}r.func=l;function u(m){return{type:"list",values:m}}r.list=u;function s(m){return{type:"object",values:m}}r.object=s;function c(m){return{type:"negated",child:m}}r.negate=c;function f(m){return m=="<="||m=="<"||m==">"||m==">="||m=="!="||m=="="}r.isCompareOp=f,r.NULL=r.literal(null)})(Cr||(Cr={}));var Vi;(function(r){function e(c){return{type:"tag",tag:c}}r.tag=e;function t(c){return{type:"csv",path:c}}r.csv=t;function n(c){return{type:"folder",folder:c}}r.folder=n;function i(c,f){return{type:"link",file:c,direction:f?"incoming":"outgoing"}}r.link=i;function a(c,f,m){return{type:"binaryop",left:c,op:f,right:m}}r.binaryOp=a;function o(c,f){return{type:"binaryop",left:c,op:"&",right:f}}r.and=o;function l(c,f){return{type:"binaryop",left:c,op:"|",right:f}}r.or=l;function u(c){return{type:"negate",child:c}}r.negate=u;function s(){return{type:"empty"}}r.empty=s})(Vi||(Vi={}));var qE=new RegExp(Nd(),""),vd={year:Je.fromObject({years:1}),years:Je.fromObject({years:1}),yr:Je.fromObject({years:1}),yrs:Je.fromObject({years:1}),month:Je.fromObject({months:1}),months:Je.fromObject({months:1}),mo:Je.fromObject({months:1}),mos:Je.fromObject({months:1}),week:Je.fromObject({weeks:1}),weeks:Je.fromObject({weeks:1}),wk:Je.fromObject({weeks:1}),wks:Je.fromObject({weeks:1}),w:Je.fromObject({weeks:1}),day:Je.fromObject({days:1}),days:Je.fromObject({days:1}),d:Je.fromObject({days:1}),hour:Je.fromObject({hours:1}),hours:Je.fromObject({hours:1}),hr:Je.fromObject({hours:1}),hrs:Je.fromObject({hours:1}),h:Je.fromObject({hours:1}),minute:Je.fromObject({minutes:1}),minutes:Je.fromObject({minutes:1}),min:Je.fromObject({minutes:1}),mins:Je.fromObject({minutes:1}),m:Je.fromObject({minutes:1}),second:Je.fromObject({seconds:1}),seconds:Je.fromObject({seconds:1}),sec:Je.fromObject({seconds:1}),secs:Je.fromObject({seconds:1}),s:Je.fromObject({seconds:1})},yd={now:()=>et.local(),today:()=>et.local().startOf("day"),yesterday:()=>et.local().startOf("day").minus(Je.fromObject({days:1})),tomorrow:()=>et.local().startOf("day").plus(Je.fromObject({days:1})),sow:()=>et.local().startOf("week"),"start-of-week":()=>et.local().startOf("week"),eow:()=>et.local().endOf("week"),"end-of-week":()=>et.local().endOf("week"),soy:()=>et.local().startOf("year"),"start-of-year":()=>et.local().startOf("year"),eoy:()=>et.local().endOf("year"),"end-of-year":()=>et.local().endOf("year"),som:()=>et.local().startOf("month"),"start-of-month":()=>et.local().startOf("month"),eom:()=>et.local().endOf("month"),"end-of-month":()=>et.local().endOf("month")},xd=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function ZL(r){let e=-1;for(;(e=r.indexOf("|",e+1))>=0;)if(!(e>0&&r[e-1]=="\\"))return[r.substring(0,e).replace(/\\\|/g,"|"),r.substring(e+1)];return[r.replace(/\\\|/g,"|"),void 0]}function YL(r){let[e,t]=ZL(r);return Zr.infer(e,!1,t)}function pu(r,e,t){return $.exports.seqMap(r,$.exports.seq($.exports.optWhitespace,e,$.exports.optWhitespace,r).many(),(n,i)=>{if(i.length==0)return n;let a=t(n,i[0][1],i[0][3]);for(let o=1;o<i.length;o++)a=t(a,i[o][1],i[o][3]);return a})}function JL(r,...e){return $.exports.custom((t,n)=>(i,a)=>{let o=r._(i,a);if(!o.status)return o;for(let l of e){let u=l(o.value)._(i,o.index);if(!u.status)return o;o=u}return o})}var wi=$.exports.createLanguage({number:r=>$.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:r=>$.exports.string('"').then($.exports.alt(r.escapeCharacter,$.exports.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip($.exports.string('"')).desc("string"),escapeCharacter:r=>$.exports.string("\\").then($.exports.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:r=>$.exports.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:r=>$.exports.seqMap($.exports.string("#"),$.exports.alt($.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,t)=>e+t.join("")).desc("tag ('#hello/stuff')"),identifier:r=>$.exports.seqMap($.exports.alt($.exports.regexp(/\p{Letter}/u),$.exports.regexp(qE).desc("text")),$.exports.alt($.exports.regexp(/[0-9\p{Letter}_-]/u),$.exports.regexp(qE).desc("text")).many(),(e,t)=>e+t.join("")).desc("variable identifier"),link:r=>$.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>YL(e)).desc("file link"),embedLink:r=>$.exports.seqMap($.exports.string("!").atMost(1),r.link,(e,t)=>(e.length>0&&(t.embed=!0),t)).desc("file link"),binaryPlusMinus:r=>$.exports.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:r=>$.exports.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:r=>$.exports.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:r=>$.exports.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:r=>$.exports.seqMap($.exports.regexp(/\d{4}/),$.exports.string("-"),$.exports.regexp(/\d{2}/),(e,t,n)=>et.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:r=>$.exports.alt(...Object.keys(yd).sort((e,t)=>t.length-e.length).map($.exports.string)),date:r=>JL(r.rootDate,e=>$.exports.seqMap($.exports.string("-"),$.exports.regexp(/\d{2}/),(t,n)=>e.set({day:Number.parseInt(n)})),e=>$.exports.seqMap($.exports.string("T"),$.exports.regexp(/\d{2}/),(t,n)=>e.set({hour:Number.parseInt(n)})),e=>$.exports.seqMap($.exports.string(":"),$.exports.regexp(/\d{2}/),(t,n)=>e.set({minute:Number.parseInt(n)})),e=>$.exports.seqMap($.exports.string(":"),$.exports.regexp(/\d{2}/),(t,n)=>e.set({second:Number.parseInt(n)})),e=>$.exports.alt($.exports.seqMap($.exports.string("."),$.exports.regexp(/\d{3}/),(t,n)=>e.set({millisecond:Number.parseInt(n)})),$.exports.succeed(e)),e=>$.exports.alt($.exports.seqMap($.exports.string("+").or($.exports.string("-")),$.exports.regexp(/\d{1,2}(:\d{2})?/),(t,n)=>e.setZone("UTC"+t+n,{keepLocalTime:!0})),$.exports.seqMap($.exports.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),$.exports.seqMap($.exports.string("["),$.exports.regexp(/[0-9A-Za-z+-\/]+/u),$.exports.string("]"),(t,n,i)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:r=>$.exports.alt(r.dateShorthand.map(e=>yd[e]()),r.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:r=>$.exports.alt(...Object.keys(vd).sort((e,t)=>t.length-e.length).map($.exports.string)),duration:r=>$.exports.seqMap(r.number,$.exports.optWhitespace,r.durationType,(e,t,n)=>vd[n].mapUnits(i=>i*e)).sepBy1($.exports.string(",").trim($.exports.optWhitespace).or($.exports.optWhitespace)).map(e=>e.reduce((t,n)=>t.plus(n))).desc("duration like 4hr2min"),rawNull:r=>$.exports.string("null"),tagSource:r=>r.tag.map(e=>Vi.tag(e)),csvSource:r=>$.exports.seqMap($.exports.string("csv(").skip($.exports.optWhitespace),r.string,$.exports.string(")"),(e,t,n)=>Vi.csv(t)),linkIncomingSource:r=>r.link.map(e=>Vi.link(e.path,!0)),linkOutgoingSource:r=>$.exports.seqMap($.exports.string("outgoing(").skip($.exports.optWhitespace),r.link,$.exports.string(")"),(e,t,n)=>Vi.link(t.path,!1)),folderSource:r=>r.string.map(e=>Vi.folder(e)),parensSource:r=>$.exports.seqMap($.exports.string("("),$.exports.optWhitespace,r.source,$.exports.optWhitespace,$.exports.string(")"),(e,t,n,i,a)=>n),negateSource:r=>$.exports.seqMap($.exports.alt($.exports.string("-"),$.exports.string("!")),r.atomSource,(e,t)=>Vi.negate(t)),atomSource:r=>$.exports.alt(r.parensSource,r.negateSource,r.linkOutgoingSource,r.linkIncomingSource,r.folderSource,r.tagSource,r.csvSource),binaryOpSource:r=>pu(r.atomSource,r.binaryBooleanOp.map(e=>e),Vi.binaryOp),source:r=>r.binaryOpSource,variableField:r=>r.identifier.chain(e=>xd.includes(e.toUpperCase())?$.exports.fail("Variable fields cannot be a keyword ("+xd.join(" or ")+")"):$.exports.succeed(Cr.variable(e))).desc("variable"),numberField:r=>r.number.map(e=>Cr.literal(e)).desc("number"),stringField:r=>r.string.map(e=>Cr.literal(e)).desc("string"),boolField:r=>r.bool.map(e=>Cr.literal(e)).desc("boolean"),dateField:r=>$.exports.seqMap($.exports.string("date("),$.exports.optWhitespace,r.datePlus,$.exports.optWhitespace,$.exports.string(")"),(e,t,n,i,a)=>Cr.literal(n)).desc("date"),durationField:r=>$.exports.seqMap($.exports.string("dur("),$.exports.optWhitespace,r.duration,$.exports.optWhitespace,$.exports.string(")"),(e,t,n,i,a)=>Cr.literal(n)).desc("duration"),nullField:r=>r.rawNull.map(e=>Cr.NULL),linkField:r=>r.link.map(e=>Cr.literal(e)),listField:r=>r.field.sepBy($.exports.string(",").trim($.exports.optWhitespace)).wrap($.exports.string("[").skip($.exports.optWhitespace),$.exports.optWhitespace.then($.exports.string("]"))).map(e=>Cr.list(e)).desc("list ('[1, 2, 3]')"),objectField:r=>$.exports.seqMap(r.identifier.or(r.string),$.exports.string(":").trim($.exports.optWhitespace),r.field,(e,t,n)=>({name:e,value:n})).sepBy($.exports.string(",").trim($.exports.optWhitespace)).wrap($.exports.string("{").skip($.exports.optWhitespace),$.exports.optWhitespace.then($.exports.string("}"))).map(e=>{let t={};for(let n of e)t[n.name]=n.value;return Cr.object(t)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:r=>$.exports.alt(r.date,r.duration.map(e=>LC(e)),r.string,r.tag,r.embedLink,r.bool,r.number,r.rawNull),inlineFieldList:r=>r.atomInlineField.sepBy($.exports.string(",").trim($.exports.optWhitespace).lookahead(r.atomInlineField)),inlineField:r=>$.exports.alt($.exports.seqMap(r.atomInlineField,$.exports.string(",").trim($.exports.optWhitespace),r.inlineFieldList,(e,t,n)=>[e].concat(n)),r.atomInlineField),atomField:r=>$.exports.alt(r.embedLink.map(e=>Cr.literal(e)),r.negatedField,r.linkField,r.listField,r.objectField,r.lambdaField,r.parensField,r.boolField,r.numberField,r.stringField,r.dateField,r.durationField,r.nullField,r.variableField),indexField:r=>$.exports.seqMap(r.atomField,$.exports.alt(r.dotPostfix,r.indexPostfix,r.functionPostfix).many(),(e,t)=>{let n=e;for(let i of t)switch(i.type){case"dot":n=Cr.index(n,Cr.literal(i.field));break;case"index":n=Cr.index(n,i.field);break;case"function":n=Cr.func(n,i.fields);break}return n}),negatedField:r=>$.exports.seqMap($.exports.string("!"),r.indexField,(e,t)=>Cr.negate(t)).desc("negated field"),parensField:r=>$.exports.seqMap($.exports.string("("),$.exports.optWhitespace,r.field,$.exports.optWhitespace,$.exports.string(")"),(e,t,n,i,a)=>n),lambdaField:r=>$.exports.seqMap(r.identifier.sepBy($.exports.string(",").trim($.exports.optWhitespace)).wrap($.exports.string("(").trim($.exports.optWhitespace),$.exports.string(")").trim($.exports.optWhitespace)),$.exports.string("=>").trim($.exports.optWhitespace),r.field,(e,t,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:r=>$.exports.seqMap($.exports.string("."),r.identifier,(e,t)=>({type:"dot",field:t})),indexPostfix:r=>$.exports.seqMap($.exports.string("["),$.exports.optWhitespace,r.field,$.exports.optWhitespace,$.exports.string("]"),(e,t,n,i,a)=>({type:"index",field:n})),functionPostfix:r=>$.exports.seqMap($.exports.string("("),$.exports.optWhitespace,r.field.sepBy($.exports.string(",").trim($.exports.optWhitespace)),$.exports.optWhitespace,$.exports.string(")"),(e,t,n,i,a)=>({type:"function",fields:n})),binaryMulDivField:r=>pu(r.indexField,r.binaryMulDiv,Cr.binaryOp),binaryPlusMinusField:r=>pu(r.binaryMulDivField,r.binaryPlusMinus,Cr.binaryOp),binaryCompareField:r=>pu(r.binaryPlusMinusField,r.binaryCompareOp,Cr.binaryOp),binaryBooleanField:r=>pu(r.binaryCompareField,r.binaryBooleanOp,Cr.binaryOp),binaryOpField:r=>r.binaryBooleanField,field:r=>r.binaryOpField});function XL(r){try{return bc.success(wi.field.tryParse(r))}catch(e){return bc.failure(""+e)}}var Dc;(function(r){function e(n,i){return{name:n,field:i}}r.named=e;function t(n,i){return{field:n,direction:i}}r.sortBy=t})(Dc||(Dc={}));function QL(r){return $.exports.custom((e,t)=>(n,i)=>{let a=r._(n,i);return a.status?Object.assign({},a,{value:[a.value,n.substring(i,a.index)]}):a})}function KL(r){return r.split(/[\r\n]+/).map(e=>e.trim()).join("")}var $L=$.exports.createLanguage({queryType:r=>$.exports.alt($.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:r=>$.exports.seqMap(wi.field.skip($.exports.whitespace),$.exports.regexp(/AS/i).skip($.exports.whitespace),wi.identifier.or(wi.string),(e,t,n)=>Dc.named(n,e)),namedField:r=>$.exports.alt(r.explicitNamedField,QL(wi.field).map(([e,t])=>Dc.named(KL(t),e))),sortField:r=>$.exports.seqMap(wi.field.skip($.exports.optWhitespace),$.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,t)=>{let n=t.length==0?"ascending":t[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:r=>r.queryType.skip($.exports.whitespace).chain(e=>{switch(e){case"table":return $.exports.seqMap($.exports.regexp(/WITHOUT\s+ID/i).skip($.exports.optWhitespace).atMost(1),$.exports.sepBy(r.namedField,$.exports.string(",").trim($.exports.optWhitespace)),(t,n)=>({type:"table",fields:n,showId:t.length==0}));case"list":return $.exports.seqMap($.exports.regexp(/WITHOUT\s+ID/i).skip($.exports.optWhitespace).atMost(1),wi.field.atMost(1),(t,n)=>({type:"list",format:n.length==1?n[0]:void 0,showId:t.length==0}));case"task":return $.exports.succeed({type:"task"});case"calendar":return $.exports.seqMap(r.namedField,t=>({type:"calendar",showId:!0,field:t}));default:return $.exports.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:r=>$.exports.seqMap($.exports.regexp(/FROM/i),$.exports.whitespace,wi.source,(e,t,n)=>n),whereClause:r=>$.exports.seqMap($.exports.regexp(/WHERE/i),$.exports.whitespace,wi.field,(e,t,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:r=>$.exports.seqMap($.exports.regexp(/SORT/i),$.exports.whitespace,r.sortField.sepBy1($.exports.string(",").trim($.exports.optWhitespace)),(e,t,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:r=>$.exports.seqMap($.exports.regexp(/LIMIT/i),$.exports.whitespace,wi.field,(e,t,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:r=>$.exports.seqMap($.exports.regexp(/FLATTEN/i).skip($.exports.whitespace),r.namedField,(e,t)=>({type:"flatten",field:t})).desc("FLATTEN <value> [AS <name>]"),groupByClause:r=>$.exports.seqMap($.exports.regexp(/GROUP BY/i).skip($.exports.whitespace),r.namedField,(e,t)=>({type:"group",field:t})).desc("GROUP BY <value> [AS <name>]"),clause:r=>$.exports.alt(r.fromClause,r.whereClause,r.sortByClause,r.limitClause,r.groupByClause,r.flattenClause),query:r=>$.exports.seqMap(r.headerClause.trim($.exports.optWhitespace),r.fromClause.trim($.exports.optWhitespace).atMost(1),r.clause.trim($.exports.optWhitespace).many(),(e,t,n)=>({header:e,source:t.length==0?Vi.folder(""):t[0],operations:n,settings:Sd}))}),e7=r=>{var e;return r?(e=r.plugins.plugins.dataview)===null||e===void 0?void 0:e.api:window.DataviewAPI},t7=r=>r.plugins.enabledPlugins.has("dataview");Ui.DATE_SHORTHANDS=yd;Ui.DURATION_TYPES=vd;Ui.EXPRESSION=wi;Ui.KEYWORDS=xd;Ui.QUERY_LANGUAGE=$L;Ui.getAPI=e7;Ui.isPluginEnabled=t7;Ui.parseField=XL});var lh=xr((sh,uh)=>{(function(r,e){typeof sh=="object"&&typeof uh!="undefined"?uh.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self,r["'typed'"]=e())})(sh,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let n="Argument is not a typed-function.";function i(){function o(G){return typeof G=="object"&&G!==null&&G.constructor===Object}let l=[{name:"number",test:function(G){return typeof G=="number"}},{name:"string",test:function(G){return typeof G=="string"}},{name:"boolean",test:function(G){return typeof G=="boolean"}},{name:"Function",test:function(G){return typeof G=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(G){return G instanceof Date}},{name:"RegExp",test:function(G){return G instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(G){return G===null}},{name:"undefined",test:function(G){return G===void 0}}],u={name:"any",test:r,isAny:!0},s,c,f=0,m={createCount:0};function p(G){let re=s.get(G);if(re)return re;let ce='Unknown type "'+G+'"',be=G.toLowerCase(),Ce;for(Ce of c)if(Ce.toLowerCase()===be){ce+='. Did you mean "'+Ce+'" ?';break}throw new TypeError(ce)}function h(G){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",ce=re?p(re).index:c.length,be=[];for(let De=0;De<G.length;++De){if(!G[De]||typeof G[De].name!="string"||typeof G[De].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Pe=G[De].name;if(s.has(Pe))throw new TypeError('Duplicate type name "'+Pe+'"');be.push(Pe),s.set(Pe,{name:Pe,test:G[De].test,isAny:G[De].isAny,index:ce+De,conversionsTo:[]})}let Ce=c.slice(ce);c=c.slice(0,ce).concat(be).concat(Ce);for(let De=ce+be.length;De<c.length;++De)s.get(c[De]).index=De}function d(){s=new Map,c=[],f=0,h([u],!1)}d(),h(l);function g(){let G;for(G of c)s.get(G).conversionsTo=[];f=0}function v(G){let re=c.filter(ce=>{let be=s.get(ce);return!be.isAny&&be.test(G)});return re.length?re:["any"]}function E(G){return G&&typeof G=="function"&&"_typedFunctionData"in G}function y(G,re,ce){if(!E(G))throw new TypeError(n);let be=ce&&ce.exact,Ce=Array.isArray(re)?re.join(","):re,De=F(Ce),Pe=b(De);if(!be||Pe in G.signatures){let R=G._typedFunctionData.signatureMap.get(Pe);if(R)return R}let we=De.length,ze;if(be){ze=[];let R;for(R in G.signatures)ze.push(G._typedFunctionData.signatureMap.get(R))}else ze=G._typedFunctionData.signatures;for(let R=0;R<we;++R){let q=De[R],K=[],pe;for(pe of ze){let he=P(pe.params,R);if(!(!he||q.restParam&&!he.restParam)){if(!he.hasAny){let Ae=A(he);if(q.types.some(nt=>!Ae.has(nt.name)))continue}K.push(pe)}}if(ze=K,ze.length===0)break}let w;for(w of ze)if(w.params.length<=we)return w;throw new TypeError("Signature not found (signature: "+(G.name||"unnamed")+"("+b(De,", ")+"))")}function D(G,re,ce){return y(G,re,ce).implementation}function x(G,re){let ce=p(re);if(ce.test(G))return G;let be=ce.conversionsTo;if(be.length===0)throw new Error("There are no conversions to "+re+" defined.");for(let Ce=0;Ce<be.length;Ce++)if(p(be[Ce].from).test(G))return be[Ce].convert(G);throw new Error("Cannot convert "+G+" to "+re)}function b(G){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return G.map(ce=>ce.name).join(re)}function C(G){let re=G.indexOf("...")===0,be=(re?G.length>3?G.slice(3):"any":G).split("|").map(we=>p(we.trim())),Ce=!1,De=re?"...":"";return{types:be.map(function(we){return Ce=we.isAny||Ce,De+=we.name+"|",{name:we.name,typeIndex:we.index,test:we.test,isAny:we.isAny,conversion:null,conversionIndex:-1}}),name:De.slice(0,-1),hasAny:Ce,hasConversion:!1,restParam:re}}function S(G){let re=G.types.map(Pe=>Pe.name),ce=L(re),be=G.hasAny,Ce=G.name,De=ce.map(function(Pe){let we=p(Pe.from);return be=we.isAny||be,Ce+="|"+Pe.from,{name:Pe.from,typeIndex:we.index,test:we.test,isAny:we.isAny,conversion:Pe,conversionIndex:Pe.index}});return{types:G.types.concat(De),name:Ce,hasAny:be,hasConversion:De.length>0,restParam:G.restParam}}function A(G){return G.typeSet||(G.typeSet=new Set,G.types.forEach(re=>G.typeSet.add(re.name))),G.typeSet}function F(G){let re=[];if(typeof G!="string")throw new TypeError("Signatures must be strings");let ce=G.trim();if(ce==="")return re;let be=ce.split(",");for(let Ce=0;Ce<be.length;++Ce){let De=C(be[Ce].trim());if(De.restParam&&Ce!==be.length-1)throw new SyntaxError('Unexpected rest parameter "'+be[Ce]+'": only allowed for the last parameter');if(De.types.length===0)return null;re.push(De)}return re}function I(G){let re=W(G);return re?re.restParam:!1}function M(G){if(!G||G.types.length===0)return r;if(G.types.length===1)return p(G.types[0].name).test;if(G.types.length===2){let re=p(G.types[0].name).test,ce=p(G.types[1].name).test;return function(Ce){return re(Ce)||ce(Ce)}}else{let re=G.types.map(function(ce){return p(ce.name).test});return function(be){for(let Ce=0;Ce<re.length;Ce++)if(re[Ce](be))return!0;return!1}}}function O(G){let re,ce,be;if(I(G)){re=Ve(G).map(M);let Ce=re.length,De=M(W(G)),Pe=function(we){for(let ze=Ce;ze<we.length;ze++)if(!De(we[ze]))return!1;return!0};return function(ze){for(let w=0;w<re.length;w++)if(!re[w](ze[w]))return!1;return Pe(ze)&&ze.length>=Ce+1}}else return G.length===0?function(De){return De.length===0}:G.length===1?(ce=M(G[0]),function(De){return ce(De[0])&&De.length===1}):G.length===2?(ce=M(G[0]),be=M(G[1]),function(De){return ce(De[0])&&be(De[1])&&De.length===2}):(re=G.map(M),function(De){for(let Pe=0;Pe<re.length;Pe++)if(!re[Pe](De[Pe]))return!1;return De.length===re.length})}function P(G,re){return re<G.length?G[re]:I(G)?W(G):null}function k(G,re){let ce=P(G,re);return ce?A(ce):new Set}function _(G){return G.conversion===null||G.conversion===void 0}function T(G,re){let ce=new Set;return G.forEach(be=>{let Ce=k(be.params,re),De;for(De of Ce)ce.add(De)}),ce.has("any")?["any"]:Array.from(ce)}function z(G,re,ce){let be,Ce,De=G||"unnamed",Pe=ce,we;for(we=0;we<re.length;we++){let q=[];if(Pe.forEach(K=>{let pe=P(K.params,we),he=M(pe);(we<K.params.length||I(K.params))&&he(re[we])&&q.push(K)}),q.length===0){if(Ce=T(Pe,we),Ce.length>0){let K=v(re[we]);return be=new TypeError("Unexpected type of argument in function "+De+" (expected: "+Ce.join(" or ")+", actual: "+K.join(" | ")+", index: "+we+")"),be.data={category:"wrongType",fn:De,index:we,actual:K,expected:Ce},be}}else Pe=q}let ze=Pe.map(function(q){return I(q.params)?1/0:q.params.length});if(re.length<Math.min.apply(null,ze))return Ce=T(Pe,we),be=new TypeError("Too few arguments in function "+De+" (expected: "+Ce.join(" or ")+", index: "+re.length+")"),be.data={category:"tooFewArgs",fn:De,index:re.length,expected:Ce},be;let w=Math.max.apply(null,ze);if(re.length>w)return be=new TypeError("Too many arguments in function "+De+" (expected: "+w+", actual: "+re.length+")"),be.data={category:"tooManyArgs",fn:De,index:re.length,expectedLength:w},be;let R=[];for(let q=0;q<re.length;++q)R.push(v(re[q]).join("|"));return be=new TypeError('Arguments of type "'+R.join(", ")+'" do not match any of the defined signatures of function '+De+"."),be.data={category:"mismatch",actual:R},be}function B(G){let re=c.length+1;for(let ce=0;ce<G.types.length;ce++)_(G.types[ce])&&(re=Math.min(re,G.types[ce].typeIndex));return re}function U(G){let re=f+1;for(let ce=0;ce<G.types.length;ce++)_(G.types[ce])||(re=Math.min(re,G.types[ce].conversionIndex));return re}function Y(G,re){if(G.hasAny){if(!re.hasAny)return 1}else if(re.hasAny)return-1;if(G.restParam){if(!re.restParam)return 1}else if(re.restParam)return-1;if(G.hasConversion){if(!re.hasConversion)return 1}else if(re.hasConversion)return-1;let ce=B(G)-B(re);if(ce<0)return-1;if(ce>0)return 1;let be=U(G)-U(re);return be<0?-1:be>0?1:0}function J(G,re){let ce=G.params,be=re.params,Ce=W(ce),De=W(be),Pe=I(ce),we=I(be);if(Pe&&Ce.hasAny){if(!we||!De.hasAny)return 1}else if(we&&De.hasAny)return-1;let ze=0,w=0,R;for(R of ce)R.hasAny&&++ze,R.hasConversion&&++w;let q=0,K=0;for(R of be)R.hasAny&&++q,R.hasConversion&&++K;if(ze!==q)return ze-q;if(Pe&&Ce.hasConversion){if(!we||!De.hasConversion)return 1}else if(we&&De.hasConversion)return-1;if(w!==K)return w-K;if(Pe){if(!we)return 1}else if(we)return-1;let pe=(ce.length-be.length)*(Pe?-1:1);if(pe!==0)return pe;let he=[],Ae=0;for(let qt=0;qt<ce.length;++qt){let Br=Y(ce[qt],be[qt]);he.push(Br),Ae+=Br}if(Ae!==0)return Ae;let nt;for(nt of he)if(nt!==0)return nt;return 0}function L(G){if(G.length===0)return[];let re=G.map(p);G.length>1&&re.sort((Ce,De)=>Ce.index-De.index);let ce=re[0].conversionsTo;if(G.length===1)return ce;ce=ce.concat([]);let be=new Set(G);for(let Ce=1;Ce<re.length;++Ce){let De;for(De of re[Ce].conversionsTo)be.has(De.from)||(ce.push(De),be.add(De.from))}return ce}function X(G,re){let ce=re;if(G.some(Ce=>Ce.hasConversion)){let Ce=I(G),De=G.map(se);ce=function(){let we=[],ze=Ce?arguments.length-1:arguments.length;for(let w=0;w<ze;w++)we[w]=De[w](arguments[w]);return Ce&&(we[ze]=arguments[ze].map(De[ze])),re.apply(this,we)}}let be=ce;if(I(G)){let Ce=G.length-1;be=function(){return ce.apply(this,j(arguments,0,Ce).concat([j(arguments,Ce)]))}}return be}function se(G){let re,ce,be,Ce,De=[],Pe=[];switch(G.types.forEach(function(we){we.conversion&&(De.push(p(we.conversion.from).test),Pe.push(we.conversion.convert))}),Pe.length){case 0:return function(ze){return ze};case 1:return re=De[0],be=Pe[0],function(ze){return re(ze)?be(ze):ze};case 2:return re=De[0],ce=De[1],be=Pe[0],Ce=Pe[1],function(ze){return re(ze)?be(ze):ce(ze)?Ce(ze):ze};default:return function(ze){for(let w=0;w<Pe.length;w++)if(De[w](ze))return Pe[w](ze);return ze}}}function te(G){function re(ce,be,Ce){if(be<ce.length){let De=ce[be],Pe=[];if(De.restParam){let we=De.types.filter(_);we.length<De.types.length&&Pe.push({types:we,name:"..."+we.map(ze=>ze.name).join("|"),hasAny:we.some(ze=>ze.isAny),hasConversion:!1,restParam:!0}),Pe.push(De)}else Pe=De.types.map(function(we){return{types:[we],name:we.name,hasAny:we.isAny,hasConversion:we.conversion,restParam:!1}});return H(Pe,function(we){return re(ce,be+1,Ce.concat([we]))})}else return[Ce]}return re(G,0,[])}function me(G,re){let ce=Math.max(G.length,re.length);for(let we=0;we<ce;we++){let ze=k(G,we),w=k(re,we),R=!1,q;for(q of w)if(ze.has(q)){R=!0;break}if(!R)return!1}let be=G.length,Ce=re.length,De=I(G),Pe=I(re);return De?Pe?be===Ce:Ce>=be:Pe?be>=Ce:be===Ce}function de(G){return G.map(re=>ke(re)?ye(re.referToSelf.callback):ge(re)?ne(re.referTo.references,re.referTo.callback):re)}function fe(G,re,ce){let be=[],Ce;for(Ce of G){let De=ce[Ce];if(typeof De!="number")throw new TypeError('No definition for referenced signature "'+Ce+'"');if(De=re[De],typeof De!="function")return!1;be.push(De)}return be}function ue(G,re,ce){let be=de(G),Ce=new Array(be.length).fill(!1),De=!0;for(;De;){De=!1;let Pe=!0;for(let we=0;we<be.length;++we){if(Ce[we])continue;let ze=be[we];if(ke(ze))be[we]=ze.referToSelf.callback(ce),be[we].referToSelf=ze.referToSelf,Ce[we]=!0,Pe=!1;else if(ge(ze)){let w=fe(ze.referTo.references,be,re);w?(be[we]=ze.referTo.callback.apply(this,w),be[we].referTo=ze.referTo,Ce[we]=!0,Pe=!1):De=!0}}if(Pe&&De)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return be}function xe(G){let re=/\bthis(\(|\.signatures\b)/;Object.keys(G).forEach(ce=>{let be=G[ce];if(re.test(be.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function We(G,re){if(m.createCount++,Object.keys(re).length===0)throw new SyntaxError("No signatures provided");m.warnAgainstDeprecatedThis&&xe(re);let ce=[],be=[],Ce={},De=[],Pe;for(Pe in re){if(!Object.prototype.hasOwnProperty.call(re,Pe))continue;let $t=F(Pe);if(!$t)continue;ce.forEach(function(js){if(me(js,$t))throw new TypeError('Conflicting signatures "'+b(js)+'" and "'+b($t)+'".')}),ce.push($t);let Tn=be.length;be.push(re[Pe]);let Zk=$t.map(S),xl;for(xl of te(Zk)){let js=b(xl);De.push({params:xl,name:js,fn:Tn}),xl.every(Yk=>!Yk.hasConversion)&&(Ce[js]=Tn)}}De.sort(J);let we=ue(be,Ce,Gs),ze;for(ze in Ce)Object.prototype.hasOwnProperty.call(Ce,ze)&&(Ce[ze]=we[Ce[ze]]);let w=[],R=new Map;for(ze of De)R.has(ze.name)||(ze.fn=we[ze.fn],w.push(ze),R.set(ze.name,ze));let q=w[0]&&w[0].params.length<=2&&!I(w[0].params),K=w[1]&&w[1].params.length<=2&&!I(w[1].params),pe=w[2]&&w[2].params.length<=2&&!I(w[2].params),he=w[3]&&w[3].params.length<=2&&!I(w[3].params),Ae=w[4]&&w[4].params.length<=2&&!I(w[4].params),nt=w[5]&&w[5].params.length<=2&&!I(w[5].params),qt=q&&K&&pe&&he&&Ae&&nt;for(let $t=0;$t<w.length;++$t)w[$t].test=O(w[$t].params);let Br=q?M(w[0].params[0]):e,kr=K?M(w[1].params[0]):e,gi=pe?M(w[2].params[0]):e,wn=he?M(w[3].params[0]):e,vi=Ae?M(w[4].params[0]):e,ha=nt?M(w[5].params[0]):e,ap=q?M(w[0].params[1]):e,Mr=K?M(w[1].params[1]):e,ga=pe?M(w[2].params[1]):e,va=he?M(w[3].params[1]):e,Xi=Ae?M(w[4].params[1]):e,ya=nt?M(w[5].params[1]):e;for(let $t=0;$t<w.length;++$t)w[$t].implementation=X(w[$t].params,w[$t].fn);let xa=q?w[0].implementation:t,Tk=K?w[1].implementation:t,Ik=pe?w[2].implementation:t,Bk=he?w[3].implementation:t,Ok=Ae?w[4].implementation:t,Rk=nt?w[5].implementation:t,kk=q?w[0].params.length:-1,Pk=K?w[1].params.length:-1,Lk=pe?w[2].params.length:-1,qk=he?w[3].params.length:-1,Vk=Ae?w[4].params.length:-1,Uk=nt?w[5].params.length:-1,zk=qt?6:0,Wk=w.length,Hk=w.map($t=>$t.test),Gk=w.map($t=>$t.implementation),jk=function(){for(let Tn=zk;Tn<Wk;Tn++)if(Hk[Tn](arguments))return Gk[Tn].apply(this,arguments);return m.onMismatch(G,arguments,w)};function Gs($t,Tn){return arguments.length===kk&&Br($t)&&ap(Tn)?xa.apply(this,arguments):arguments.length===Pk&&kr($t)&&Mr(Tn)?Tk.apply(this,arguments):arguments.length===Lk&&gi($t)&&ga(Tn)?Ik.apply(this,arguments):arguments.length===qk&&wn($t)&&va(Tn)?Bk.apply(this,arguments):arguments.length===Vk&&vi($t)&&Xi(Tn)?Ok.apply(this,arguments):arguments.length===Uk&&ha($t)&&ya(Tn)?Rk.apply(this,arguments):jk.apply(this,arguments)}try{Object.defineProperty(Gs,"name",{value:G})}catch($t){}return Gs.signatures=Ce,Gs._typedFunctionData={signatures:w,signatureMap:R},Gs}function Ne(G,re,ce){throw z(G,re,ce)}function Ve(G){return j(G,0,G.length-1)}function W(G){return G[G.length-1]}function j(G,re,ce){return Array.prototype.slice.call(G,re,ce)}function le(G,re){for(let ce=0;ce<G.length;ce++)if(re(G[ce]))return G[ce]}function H(G,re){return Array.prototype.concat.apply([],G.map(re))}function Q(){let G=Ve(arguments).map(ce=>b(F(ce))),re=W(arguments);if(typeof re!="function")throw new TypeError("Callback function expected as last argument");return ne(G,re)}function ne(G,re){return{referTo:{references:G,callback:re}}}function ye(G){if(typeof G!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:G}}}function ge(G){return G&&typeof G.referTo=="object"&&Array.isArray(G.referTo.references)&&typeof G.referTo.callback=="function"}function ke(G){return G&&typeof G.referToSelf=="object"&&typeof G.referToSelf.callback=="function"}function Ee(G,re){if(!G)return re;if(re&&re!==G){let ce=new Error("Function names do not match (expected: "+G+", actual: "+re+")");throw ce.data={actual:re,expected:G},ce}return G}function mt(G){let re;for(let ce in G)Object.prototype.hasOwnProperty.call(G,ce)&&(E(G[ce])||typeof G[ce].signature=="string")&&(re=Ee(re,G[ce].name));return re}function Dt(G,re){let ce;for(ce in re)if(Object.prototype.hasOwnProperty.call(re,ce)){if(ce in G&&re[ce]!==G[ce]){let be=new Error('Signature "'+ce+'" is defined twice');throw be.data={signature:ce,sourceFunction:re[ce],destFunction:G[ce]},be}G[ce]=re[ce]}}let It=m;m=function(G){let re=typeof G=="string",ce=re?1:0,be=re?G:"",Ce={};for(let De=ce;De<arguments.length;++De){let Pe=arguments[De],we={},ze;if(typeof Pe=="function"?(ze=Pe.name,typeof Pe.signature=="string"?we[Pe.signature]=Pe:E(Pe)&&(we=Pe.signatures)):o(Pe)&&(we=Pe,re||(ze=mt(Pe))),Object.keys(we).length===0){let w=new TypeError("Argument to 'typed' at index "+De+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw w.data={index:De,argument:Pe},w}re||(be=Ee(be,ze)),Dt(Ce,we)}return We(be||"",Ce)},m.create=i,m.createCount=It.createCount,m.onMismatch=Ne,m.throwMismatchError=Ne,m.createError=z,m.clear=d,m.clearConversions=g,m.addTypes=h,m._findType=p,m.referTo=Q,m.referToSelf=ye,m.convert=x,m.findSignature=y,m.find=D,m.isTypedFunction=E,m.warnAgainstDeprecatedThis=!0,m.addType=function(G,re){let ce="any";re!==!1&&s.has("Object")&&(ce="Object"),m.addTypes([G],ce)};function Ht(G){if(!G||typeof G.from!="string"||typeof G.to!="string"||typeof G.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(G.to===G.from)throw new SyntaxError('Illegal to define conversion from "'+G.from+'" to itself.')}return m.addConversion=function(G){Ht(G);let re=p(G.to);if(re.conversionsTo.every(function(ce){return ce.from!==G.from}))re.conversionsTo.push({from:G.from,convert:G.convert,index:f++});else throw new Error('There is already a conversion from "'+G.from+'" to "'+re.name+'"')},m.addConversions=function(G){G.forEach(m.addConversion)},m.removeConversion=function(G){Ht(G);let re=p(G.to),ce=le(re.conversionsTo,Ce=>Ce.from===G.from);if(!ce)throw new Error("Attempt to remove nonexistent conversion from "+G.from+" to "+G.to);if(ce.convert!==G.convert)throw new Error("Conversion to remove does not match existing conversion");let be=re.conversionsTo.indexOf(ce);re.conversionsTo.splice(be,1)},m.resolve=function(G,re){if(!E(G))throw new TypeError(n);let ce=G._typedFunctionData.signatures;for(let be=0;be<ce.length;++be)if(ce[be].test(re))return ce[be];return null},m}var a=i();return a})});var vA=xr((Th,gA)=>{(function(r){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},t=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var c=Math.PI/4;if(-c>s||s>c)return Math.cos(s)-1;var f=s*s;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,c){var f=Math.abs(s),m=Math.abs(c);return f<3e3&&m<3e3?Math.sqrt(f*f+m*m):(f<m?(f=m,m=s/c):m=c/s,f*Math.sqrt(1+m*m))},a=function(){throw SyntaxError("Invalid Param")};function o(s,c){var f=Math.abs(s),m=Math.abs(c);return s===0?Math.log(m):c===0?Math.log(f):f<3e3&&m<3e3?Math.log(s*s+c*c)*.5:(s=s/2,c=c/2,.5*Math.log(s*s+c*c)+Math.LN2)}var l=function(s,c){var f={re:0,im:0};if(s==null)f.re=f.im=0;else if(c!==void 0)f.re=s,f.im=c;else switch(typeof s){case"object":if("im"in s&&"re"in s)f.re=s.re,f.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return u.INFINITY;f.re=s.abs*Math.cos(s.arg),f.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return u.INFINITY;f.re=s.r*Math.cos(s.phi),f.im=s.r*Math.sin(s.phi)}else s.length===2?(f.re=s[0],f.im=s[1]):a();break;case"string":f.im=f.re=0;var m=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,h=0;m===null&&a();for(var d=0;d<m.length;d++){var g=m[d];g===" "||g==="	"||g===`
`||(g==="+"?p++:g==="-"?h++:g==="i"||g==="I"?(p+h===0&&a(),m[d+1]!==" "&&!isNaN(m[d+1])?(f.im+=parseFloat((h%2?"-":"")+m[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),p=h=0):((p+h===0||isNaN(g))&&a(),m[d+1]==="i"||m[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+g),d++):f.re+=parseFloat((h%2?"-":"")+g),p=h=0))}p+h>0&&a();break;case"number":f.im=0,f.re=s;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function u(s,c){if(!(this instanceof u))return new u(s,c);var f=l(s,c);this.re=f.re,this.im=f.im}u.prototype={re:0,im:0,sign:function(){var s=this.abs();return new u(this.re/s,this.im/s)},add:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re+f.re,this.im+f.im)},sub:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re-f.re,this.im-f.im)},mul:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:f.im===0&&this.im===0?new u(this.re*f.re,0):new u(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(s,c){var f=new u(s,c);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return u.NAN;if(this.isInfinite()||f.isZero())return u.INFINITY;if(this.isZero()||f.isInfinite())return u.ZERO;s=this.re,c=this.im;var m=f.re,p=f.im,h,d;return p===0?new u(s/m,c/m):Math.abs(m)<Math.abs(p)?(d=m/p,h=m*d+p,new u((s*d+c)/h,(c*d-s)/h)):(d=p/m,h=p*d+m,new u((s+c*d)/h,(c-s*d)/h))},pow:function(s,c){var f=new u(s,c);if(s=this.re,c=this.im,f.isZero())return u.ONE;if(f.im===0){if(c===0&&s>0)return new u(Math.pow(s,f.re),0);if(s===0)switch((f.re%4+4)%4){case 0:return new u(Math.pow(c,f.re),0);case 1:return new u(0,Math.pow(c,f.re));case 2:return new u(-Math.pow(c,f.re),0);case 3:return new u(0,-Math.pow(c,f.re))}}if(s===0&&c===0&&f.re>0&&f.im>=0)return u.ZERO;var m=Math.atan2(c,s),p=o(s,c);return s=Math.exp(f.re*p-f.im*m),c=f.im*p+f.re*m,new u(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){var s=this.re,c=this.im,f=this.abs(),m,p;if(s>=0){if(c===0)return new u(Math.sqrt(s),0);m=.5*Math.sqrt(2*(f+s))}else m=Math.abs(c)/Math.sqrt(2*(f-s));return s<=0?p=.5*Math.sqrt(2*(f-s)):p=Math.abs(c)/Math.sqrt(2*(f+s)),new u(m,c<0?-p:p)},exp:function(){var s=Math.exp(this.re);return this.im,new u(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,c=this.im;return new u(Math.expm1(s)*Math.cos(c)+n(c),Math.exp(s)*Math.sin(c))},log:function(){var s=this.re,c=this.im;return c===0&&s>0,new u(o(s,c),Math.atan2(c,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,c=this.im;return new u(Math.sin(s)*e(c),Math.cos(s)*t(c))},cos:function(){var s=this.re,c=this.im;return new u(Math.cos(s)*e(c),-Math.sin(s)*t(c))},tan:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)+e(c);return new u(Math.sin(s)/f,t(c)/f)},cot:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)-e(c);return new u(-Math.sin(s)/f,t(c)/f)},sec:function(){var s=this.re,c=this.im,f=.5*e(2*c)+.5*Math.cos(2*s);return new u(Math.cos(s)*e(c)/f,Math.sin(s)*t(c)/f)},csc:function(){var s=this.re,c=this.im,f=.5*e(2*c)-.5*Math.cos(2*s);return new u(Math.sin(s)*e(c)/f,-Math.cos(s)*t(c)/f)},asin:function(){var s=this.re,c=this.im,f=new u(c*c-s*s+1,-2*s*c).sqrt(),m=new u(f.re-c,f.im+s).log();return new u(m.im,-m.re)},acos:function(){var s=this.re,c=this.im,f=new u(c*c-s*s+1,-2*s*c).sqrt(),m=new u(f.re-c,f.im+s).log();return new u(Math.PI/2-m.im,m.re)},atan:function(){var s=this.re,c=this.im;if(s===0){if(c===1)return new u(0,1/0);if(c===-1)return new u(0,-1/0)}var f=s*s+(1-c)*(1-c),m=new u((1-c*c-s*s)/f,-2*s/f).log();return new u(-.5*m.im,.5*m.re)},acot:function(){var s=this.re,c=this.im;if(c===0)return new u(Math.atan2(1,s),0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).atan():new u(s!==0?s/0:0,c!==0?-c/0:0).atan()},asec:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(0,1/0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).acos():new u(s!==0?s/0:0,c!==0?-c/0:0).acos()},acsc:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(Math.PI/2,1/0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).asin():new u(s!==0?s/0:0,c!==0?-c/0:0).asin()},sinh:function(){var s=this.re,c=this.im;return new u(t(s)*Math.cos(c),e(s)*Math.sin(c))},cosh:function(){var s=this.re,c=this.im;return new u(e(s)*Math.cos(c),t(s)*Math.sin(c))},tanh:function(){var s=2*this.re,c=2*this.im,f=e(s)+Math.cos(c);return new u(t(s)/f,Math.sin(c)/f)},coth:function(){var s=2*this.re,c=2*this.im,f=e(s)-Math.cos(c);return new u(t(s)/f,-Math.sin(c)/f)},csch:function(){var s=this.re,c=this.im,f=Math.cos(2*c)-e(2*s);return new u(-2*t(s)*Math.cos(c)/f,2*e(s)*Math.sin(c)/f)},sech:function(){var s=this.re,c=this.im,f=Math.cos(2*c)+e(2*s);return new u(2*e(s)*Math.cos(c)/f,-2*t(s)*Math.sin(c)/f)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var c=this.asin();return this.re=-this.im,this.im=s,s=c.re,c.re=-c.im,c.im=s,c},acosh:function(){var s=this.acos();if(s.im<=0){var c=s.re;s.re=-s.im,s.im=c}else{var c=s.im;s.im=-s.re,s.re=c}return s},atanh:function(){var s=this.re,c=this.im,f=s>1&&c===0,m=1-s,p=1+s,h=m*m+c*c,d=h!==0?new u((p*m-c*c)/h,(c*m+p*c)/h):new u(s!==-1?s/0:0,c!==0?c/0:0),g=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,g)/2,f&&(d.im=-d.im),d},acoth:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(0,Math.PI/2);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).atanh():new u(s!==0?s/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var s=this.re,c=this.im;if(c===0)return new u(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).asinh():new u(s!==0?s/0:0,c!==0?-c/0:0).asinh()},asech:function(){var s=this.re,c=this.im;if(this.isZero())return u.INFINITY;var f=s*s+c*c;return f!==0?new u(s/f,-c/f).acosh():new u(s!==0?s/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var s=this.re,c=this.im,f=s*s+c*c;return new u(s/f,-c/f)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new u(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new u(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new u(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,c){var f=new u(s,c);return Math.abs(f.re-this.re)<=u.EPSILON&&Math.abs(f.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var s=this.re,c=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<u.EPSILON&&(s=0),Math.abs(c)<u.EPSILON&&(c=0),c===0?f+s:(s!==0?(f+=s,f+=" ",c<0?(c=-c,f+="-"):f+="+",f+=" "):c<0&&(c=-c,f+="-"),c!==1&&(f+=c),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return u}):typeof Th=="object"?(Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,gA.exports=u):r.Complex=u})(Th)});var xA=xr((Bh,yA)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function n(d,g){if(isNaN(d=parseInt(d,10)))throw p();return d*g}function i(d,g){if(g===0)throw m();var v=Object.create(f.prototype);v.s=d<0?-1:1,d=d<0?-d:d;var E=c(d,g);return v.n=d/E,v.d=g/E,v}function a(d){for(var g={},v=d,E=2,y=4;y<=v;){for(;v%E===0;)v/=E,g[E]=(g[E]||0)+1;y+=1+2*E++}return v!==d?v>1&&(g[v]=(g[v]||0)+1):g[d]=(g[d]||0)+1,g}var o=function(d,g){var v=0,E=1,y=1,D=0,x=0,b=0,C=1,S=1,A=0,F=1,I=1,M=1,O=1e7,P;if(d!=null)if(g!==void 0){if(v=d,E=g,y=v*E,v%1!==0||E%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)v=d.n,E=d.d,"s"in d&&(v*=d.s);else if(0 in d)v=d[0],1 in d&&(E=d[1]);else throw p();y=v*E;break}case"number":{if(d<0&&(y=d,d=-d),d%1===0)v=d;else if(d>0){for(d>=1&&(S=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=S);F<=O&&M<=O;)if(P=(A+I)/(F+M),d===P){F+M<=O?(v=A+I,E=F+M):M>F?(v=I,E=M):(v=A,E=F);break}else d>P?(A+=I,F+=M):(I+=A,M+=F),F>O?(v=I,E=M):(v=A,E=F);v*=S}else(isNaN(d)||isNaN(g))&&(E=v=NaN);break}case"string":{if(F=d.match(/\d+|./g),F===null)throw p();if(F[A]==="-"?(y=-1,A++):F[A]==="+"&&A++,F.length===A+1?x=n(F[A++],y):F[A+1]==="."||F[A]==="."?(F[A]!=="."&&(D=n(F[A++],y)),A++,(A+1===F.length||F[A+1]==="("&&F[A+3]===")"||F[A+1]==="'"&&F[A+3]==="'")&&(x=n(F[A],y),C=Math.pow(10,F[A].length),A++),(F[A]==="("&&F[A+2]===")"||F[A]==="'"&&F[A+2]==="'")&&(b=n(F[A+1],y),S=Math.pow(10,F[A+1].length)-1,A+=3)):F[A+1]==="/"||F[A+1]===":"?(x=n(F[A],y),C=n(F[A+2],1),A+=3):F[A+3]==="/"&&F[A+1]===" "&&(D=n(F[A],y),x=n(F[A+2],y),C=n(F[A+4],1),A+=5),F.length<=A){E=C*S,y=v=b+E*D+S*x;break}}default:throw p()}if(E===0)throw m();t.s=y<0?-1:1,t.n=Math.abs(v),t.d=Math.abs(E)};function l(d,g,v){for(var E=1;g>0;d=d*d%v,g>>=1)g&1&&(E=E*d%v);return E}function u(d,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var v=10%g,E=1;v!==1;E++)if(v=v*10%g,E>e)return 0;return E}function s(d,g,v){for(var E=1,y=l(10,v,g),D=0;D<300;D++){if(E===y)return D;E=E*10%g,y=y*10%g}return 0}function c(d,g){if(!d)return g;if(!g)return d;for(;;){if(d%=g,!d)return g;if(g%=d,!g)return d}}function f(d,g){if(o(d,g),this instanceof f)d=c(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return i(t.s*t.n,t.d)}var m=function(){return new Error("Division by Zero")},p=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,g){return o(d,g),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,g){return o(d,g),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,g){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,g),t.n===0&&this.d===0)throw m();return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,g){return o(d,g),i(c(t.n,this.n)*c(t.d,this.d),t.d*this.d)},lcm:function(d,g){return o(d,g),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,c(t.n,this.n)*c(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,g){if(o(d,g),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var v=a(this.n),E=a(this.d),y=1,D=1;for(var x in v)if(x!=="1"){if(x==="0"){y=0;break}if(v[x]*=t.n,v[x]%t.d===0)v[x]/=t.d;else return null;y*=Math.pow(x,v[x])}for(var x in E)if(x!=="1"){if(E[x]*=t.n,E[x]%t.d===0)E[x]/=t.d;else return null;D*=Math.pow(x,E[x])}return t.s<0?i(D,y):i(y,D)},equals:function(d,g){return o(d,g),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,g){o(d,g);var v=this.s*this.n*t.d-t.s*t.n*this.d;return(0<v)-(v<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var g=this.abs(),v=g.toContinued(),E=1;E<v.length;E++){for(var y=i(v[E-1],1),D=E-2;D>=0;D--)y=y.inverse().add(v[D]);if(Math.abs(y.sub(g).valueOf())<d)return y.mul(this.s)}return this},divisible:function(d,g){return o(d,g),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var g,v="",E=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=E:(d&&(g=Math.floor(E/y))>0&&(v+=g,v+=" ",E%=y),v+=E,v+="/",v+=y),v},toLatex:function(d){var g,v="",E=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=E:(d&&(g=Math.floor(E/y))>0&&(v+=g,E%=y),v+="\\frac{",v+=E,v+="}{",v+=y,v+="}"),v},toContinued:function(){var d,g=this.n,v=this.d,E=[];if(isNaN(g)||isNaN(v))return E;do E.push(Math.floor(g/v)),d=g%v,g=v,v=d;while(g!==1);return E},toString:function(d){var g=this.n,v=this.d;if(isNaN(g)||isNaN(v))return"NaN";d=d||15;var E=u(g,v),y=s(g,v,E),D=this.s<0?"-":"";if(D+=g/v|0,g%=v,g*=10,g&&(D+="."),E){for(var x=y;x--;)D+=g/v|0,g%=v,g*=10;D+="(";for(var x=E;x--;)D+=g/v|0,g%=v,g*=10;D+=")"}else for(var x=d;g&&x--;)D+=g/v|0,g%=v,g*=10;return D}},typeof Bh=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,yA.exports=f):r.Fraction=f})(Bh)});var BN=xr((sbe,IN)=>{IN.exports=function r(e,t){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,l=/^0/,u=function(y){return r.insensitive&&(""+y).toLowerCase()||""+y},s=u(e).replace(i,"")||"",c=u(t).replace(i,"")||"",f=s.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(s.match(o),16)||f.length!==1&&s.match(a)&&Date.parse(s),h=parseInt(c.match(o),16)||p&&c.match(a)&&Date.parse(c)||null,d,g;if(h){if(p<h)return-1;if(p>h)return 1}for(var v=0,E=Math.max(f.length,m.length);v<E;v++){if(d=!(f[v]||"").match(l)&&parseFloat(f[v])||f[v]||0,g=!(m[v]||"").match(l)&&parseFloat(m[v])||m[v]||0,isNaN(d)!==isNaN(g))return isNaN(d)?1:-1;if(typeof d!=typeof g&&(d+="",g+=""),d<g)return-1;if(d>g)return 1}return 0}});var kM=xr((CFe,RM)=>{"use strict";var n1=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},EG={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},CG={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},FG=function(e,t){return n1({},e,t)};RM.exports=function(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,n=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?FG:i,o=String(r),l="",u=a(n1({},EG),n?n1({},CG):{}),s=Object.keys(u),c=function(){var m=!1;s.forEach(function(p,h){m||o.length>=p.length&&o.slice(0,p.length)===p&&(l+=u[s[h]],o=o.slice(p.length,o.length),m=!0)}),m||(l+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return l}});var mO=xr((fO,ix)=>{(function(r,e,t){function n(l){var u=this,s=o();u.next=function(){var c=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=c-(u.c=c|0)},u.c=1,u.s0=s(" "),u.s1=s(" "),u.s2=s(" "),u.s0-=s(l),u.s0<0&&(u.s0+=1),u.s1-=s(l),u.s1<0&&(u.s1+=1),u.s2-=s(l),u.s2<0&&(u.s2+=1),s=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var s=new n(l),c=u&&u.state,f=s.next;return f.int32=function(){return s.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,s),f.state=function(){return i(s,{})}),f}function o(){var l=4022871197,u=function(s){s=String(s);for(var c=0;c<s.length;c++){l+=s.charCodeAt(c);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return u}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(fO,typeof ix=="object"&&ix,typeof define=="function"&&define)});var dO=xr((pO,ax)=>{(function(r,e,t){function n(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var c=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^c^c>>>8},o===(o|0)?l.x=o:u+=o;for(var s=0;s<u.length+64;s++)l.x^=u.charCodeAt(s)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(pO,typeof ax=="object"&&ax,typeof define=="function"&&define)});var gO=xr((hO,ox)=>{(function(r,e,t){function n(o){var l=this,u="";l.next=function(){var c=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(c^c<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var s=0;s<u.length+64;s++)l.x^=u.charCodeAt(s)|0,s==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(hO,typeof ox=="object"&&ox,typeof define=="function"&&define)});var yO=xr((vO,sx)=>{(function(r,e,t){function n(o){var l=this;l.next=function(){var s=l.x,c=l.i,f,m,p;return f=s[c],f^=f>>>7,m=f^f<<24,f=s[c+1&7],m^=f^f>>>10,f=s[c+3&7],m^=f^f>>>3,f=s[c+4&7],m^=f^f<<7,f=s[c+7&7],f=f^f<<13,m^=f^f<<9,s[c]=m,l.i=c+1&7,m};function u(s,c){var f,m,p=[];if(c===(c|0))m=p[0]=c;else for(c=""+c,f=0;f<c.length;++f)p[f&7]=p[f&7]<<15^c.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?m=p[7]=-1:m=p[f],s.x=p,s.i=0,f=256;f>0;--f)s.next()}u(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(s.x&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})(vO,typeof sx=="object"&&sx,typeof define=="function"&&define)});var bO=xr((xO,ux)=>{(function(r,e,t){function n(o){var l=this;l.next=function(){var s=l.w,c=l.X,f=l.i,m,p;return l.w=s=s+1640531527|0,p=c[f+34&127],m=c[f=f+1&127],p^=p<<13,m^=m<<17,p^=p>>>15,m^=m>>>12,p=c[f]=p^m,l.i=f,p+(s^s>>>16)|0};function u(s,c){var f,m,p,h,d,g=[],v=128;for(c===(c|0)?(m=c,c=null):(c=c+"\0",m=0,v=Math.max(v,c.length)),p=0,h=-32;h<v;++h)c&&(m^=c.charCodeAt((h+32)%c.length)),h===0&&(d=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,h>=0&&(d=d+1640531527|0,f=g[h&127]^=m+d,p=f==0?p+1:0);for(p>=128&&(g[(c&&c.length||0)&127]=-1),p=127,h=4*128;h>0;--h)m=g[p+34&127],f=g[p=p+1&127],m^=m<<13,f^=f<<17,m^=m>>>15,f^=f>>>12,g[p]=m^f;s.w=d,s.X=g,s.i=p}u(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(s.X&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(xO,typeof ux=="object"&&ux,typeof define=="function"&&define)});var wO=xr((DO,lx)=>{(function(r,e,t){function n(o){var l=this,u="";l.next=function(){var c=l.b,f=l.c,m=l.d,p=l.a;return c=c<<25^c>>>7^f,f=f-m|0,m=m<<24^m>>>8^p,p=p-c|0,l.b=c=c<<20^c>>>12^f,l.c=f=f-m|0,l.d=m<<16^f>>>16^p,l.a=p-c|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var s=0;s<u.length+20;s++)l.b^=u.charCodeAt(s)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(DO,typeof lx=="object"&&lx,typeof define=="function"&&define)});var CO=xr((EO,Am)=>{(function(r,e,t){var n=256,i=6,a=52,o="random",l=t.pow(n,i),u=t.pow(2,a),s=u*2,c=n-1,f;function m(y,D,x){var b=[];D=D==!0?{entropy:!0}:D||{};var C=g(d(D.entropy?[y,E(e)]:y==null?v():y,3),b),S=new p(b),A=function(){for(var F=S.g(i),I=l,M=0;F<u;)F=(F+M)*n,I*=n,M=S.g(1);for(;F>=s;)F/=2,I/=2,M>>>=1;return(F+M)/I};return A.int32=function(){return S.g(4)|0},A.quick=function(){return S.g(4)/4294967296},A.double=A,g(E(S.S),e),(D.pass||x||function(F,I,M,O){return O&&(O.S&&h(O,S),F.state=function(){return h(S,{})}),M?(t[o]=F,I):F})(A,C,"global"in D?D.global:this==t,D.state)}function p(y){var D,x=y.length,b=this,C=0,S=b.i=b.j=0,A=b.S=[];for(x||(y=[x++]);C<n;)A[C]=C++;for(C=0;C<n;C++)A[C]=A[S=c&S+y[C%x]+(D=A[C])],A[S]=D;(b.g=function(F){for(var I,M=0,O=b.i,P=b.j,k=b.S;F--;)I=k[O=c&O+1],M=M*n+k[c&(k[O]=k[P=c&P+I])+(k[P]=I)];return b.i=O,b.j=P,M})(n)}function h(y,D){return D.i=y.i,D.j=y.j,D.S=y.S.slice(),D}function d(y,D){var x=[],b=typeof y,C;if(D&&b=="object")for(C in y)try{x.push(d(y[C],D-1))}catch(S){}return x.length?x:b=="string"?y:y+"\0"}function g(y,D){for(var x=y+"",b,C=0;C<x.length;)D[c&C]=c&(b^=D[c&C]*19)+x.charCodeAt(C++);return E(D)}function v(){try{var y;return f&&(y=f.randomBytes)?y=y(n):(y=new Uint8Array(n),(r.crypto||r.msCrypto).getRandomValues(y)),E(y)}catch(b){var D=r.navigator,x=D&&D.plugins;return[+new Date,r,x,r.screen,E(e)]}}function E(y){return String.fromCharCode.apply(0,y)}if(g(t.random(),e),typeof Am=="object"&&Am.exports){Am.exports=m;try{f=require("crypto")}catch(y){}}else typeof define=="function"&&define.amd?define(function(){return m}):t["seed"+o]=m})(typeof self!="undefined"?self:EO,[],Math)});var AO=xr((U8e,FO)=>{var zj=mO(),Wj=dO(),Hj=gO(),Gj=yO(),jj=bO(),Zj=wO(),Fo=CO();Fo.alea=zj;Fo.xor128=Wj;Fo.xorwow=Hj;Fo.xorshift7=Gj;Fo.xor4096=jj;Fo.tychei=Zj;FO.exports=Fo});var cY={};t6(cY,{default:()=>ip});module.exports=r6(cY);var _k=require("obsidian");var $n=require("obsidian");var nw=["January","February","March","April","May","June","July","August","September","October","November","December"],ro=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],yi={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",useUsDateInputOrder:!1,firstWeekday:ro[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,inputFieldTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var Rw=require("obsidian");function Me(){}function Dl(r,e){for(let t in e)r[t]=e[t];return r}function op(r){return r()}function wl(){return Object.create(null)}function Ke(r){r.forEach(op)}function Un(r){return typeof r=="function"}function Ie(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}var bl;function To(r,e){return r===e?!0:(bl||(bl=document.createElement("a")),bl.href=e,r===bl.href)}function iw(r){return Object.keys(r).length===0}function Qr(r,e,t,n){if(r){let i=aw(r,e,t,n);return r[0](i)}}function aw(r,e,t,n){return r[1]&&n?Dl(t.ctx.slice(),r[1](n(e))):t.ctx}function Kr(r,e,t,n){if(r[2]&&n){let i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let l=0;l<o;l+=1)a[l]=e.dirty[l]|i[l];return a}return e.dirty|i}return e.dirty}function $r(r,e,t,n,i,a){if(i){let o=aw(e,t,n,a);r.p(o,i)}}function en(r){if(r.ctx.length>32){let e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function no(r){return r&&Un(r.destroy)?r.destroy:Me}var Ys=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Io=class{constructor(e){Wr(this,"_listeners","WeakMap"in Ys?new WeakMap:void 0);Wr(this,"_observer");Wr(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var n;for(let i of t)Io.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};Io.entries="WeakMap"in Ys?new WeakMap:void 0;var ow=!1;function sw(){ow=!0}function uw(){ow=!1}function ie(r,e){r.appendChild(e)}function Bt(r,e,t){let n=lw(r);if(!n.getElementById(e)){let i=ee("style");i.id=e,i.textContent=t,a6(n,i)}}function lw(r){if(!r)return document;let e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function a6(r,e){return ie(r.head||r,e),e.sheet}function oe(r,e,t){r.insertBefore(e,t||null)}function ae(r){r.parentNode&&r.parentNode.removeChild(r)}function Rt(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function ee(r){return document.createElement(r)}function zn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ye(r){return document.createTextNode(r)}function Le(){return Ye(" ")}function cr(){return Ye("")}function Fe(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function V(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Ri(r){return r===""?null:+r}function cw(r){return Array.from(r.childNodes)}function it(r,e){e=""+e,r.data!==e&&(r.data=e)}function Ct(r,e){r.value=e==null?"":e}function Js(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Hr(r,e,t){for(let n=0;n<r.options.length;n+=1){let i=r.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function ki(r){let e=r.querySelector(":checked");return e&&e.__value}function st(r,e,t){r.classList.toggle(e,!!t)}function El(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}function fw(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var ba;function Qi(r){ba=r}function Cl(){if(!ba)throw new Error("Function called outside component initialization");return ba}function En(r){Cl().$$.on_mount.push(r)}function Fl(r){Cl().$$.on_destroy.push(r)}function Pr(){let r=Cl();return(e,t,{cancelable:n=!1}={})=>{let i=r.$$.callbacks[e];if(i){let a=El(e,t,{cancelable:n});return i.slice().forEach(o=>{o.call(r,a)}),!a.defaultPrevented}return!0}}function _r(r,e){let t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}var io=[];var Vt=[],Oo=[],lp=[],c6=Promise.resolve(),cp=!1;function mw(){cp||(cp=!0,c6.then(Al))}function fn(r){Oo.push(r)}function Cn(r){lp.push(r)}var up=new Set,Bo=0;function Al(){if(Bo!==0)return;let r=ba;do{try{for(;Bo<io.length;){let e=io[Bo];Bo++,Qi(e),f6(e.$$)}}catch(e){throw io.length=0,Bo=0,e}for(Qi(null),io.length=0,Bo=0;Vt.length;)Vt.pop()();for(let e=0;e<Oo.length;e+=1){let t=Oo[e];up.has(t)||(up.add(t),t())}Oo.length=0}while(io.length);for(;lp.length;)lp.pop()();cp=!1,up.clear(),Qi(r)}function f6(r){if(r.fragment!==null){r.update(),Ke(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(fn)}}function pw(r){let e=[],t=[];Oo.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Oo=e}var Sl=new Set,ao;function fr(){ao={r:0,c:[],p:ao}}function mr(){ao.r||Ke(ao.c),ao=ao.p}function _e(r,e){r&&r.i&&(Sl.delete(r),r.i(e))}function qe(r,e,t,n){if(r&&r.o){if(Sl.has(r))return;Sl.add(r),ao.c.push(()=>{Sl.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function at(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function dw(r,e){r.d(1),e.delete(r.key)}function hw(r,e){qe(r,1,1,()=>{e.delete(r.key)})}function Nl(r,e,t,n,i,a,o,l,u,s,c,f){let m=r.length,p=a.length,h=m,d={};for(;h--;)d[r[h].key]=h;let g=[],v=new Map,E=new Map,y=[];for(h=p;h--;){let C=f(i,a,h),S=t(C),A=o.get(S);A?n&&y.push(()=>A.p(C,e)):(A=s(S,C),A.c()),v.set(S,g[h]=A),S in d&&E.set(S,Math.abs(h-d[S]))}let D=new Set,x=new Set;function b(C){_e(C,1),C.m(l,c),o.set(C.key,C),c=C.first,p--}for(;m&&p;){let C=g[p-1],S=r[m-1],A=C.key,F=S.key;C===S?(c=C.first,m--,p--):v.has(F)?!o.has(A)||D.has(A)?b(C):x.has(F)?m--:E.get(A)>E.get(F)?(x.add(A),b(C)):(D.add(F),m--):(u(S,o),m--)}for(;m--;){let C=r[m];v.has(C.key)||u(C,o)}for(;p;)b(g[p-1]);return Ke(y),g}var m6=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],p6=new Set([...m6]);function Fn(r,e,t){let n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function pt(r){r&&r.c()}function ct(r,e,t){let{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),fn(()=>{let a=r.$$.on_mount.map(op).filter(Un);r.$$.on_destroy?r.$$.on_destroy.push(...a):Ke(a),r.$$.on_mount=[]}),i.forEach(fn)}function ft(r,e){let t=r.$$;t.fragment!==null&&(pw(t.after_update),Ke(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function h6(r,e){r.$$.dirty[0]===-1&&(io.push(r),mw(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Be(r,e,t,n,i,a,o=null,l=[-1]){let u=ba;Qi(r);let s=r.$$={fragment:null,ctx:[],props:a,update:Me,not_equal:i,bound:wl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:wl(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};o&&o(s.root);let c=!1;if(s.ctx=t?t(r,e.props||{},(f,m,...p)=>{let h=p.length?p[0]:m;return s.ctx&&i(s.ctx[f],s.ctx[f]=h)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](h),c&&h6(r,f)),m}):[],s.update(),c=!0,Ke(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){sw();let f=cw(e.target);s.fragment&&s.fragment.l(f),f.forEach(ae)}else s.fragment&&s.fragment.c();e.intro&&_e(r.$$.fragment),ct(r,e.target,e.anchor),uw(),Al()}Qi(u)}var g6;typeof HTMLElement=="function"&&(g6=class extends HTMLElement{constructor(e,t,n){super();Wr(this,"$$ctor");Wr(this,"$$s");Wr(this,"$$c");Wr(this,"$$cn",!1);Wr(this,"$$d",{});Wr(this,"$$r",!1);Wr(this,"$$p_d",{});Wr(this,"$$l",{});Wr(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){let i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=ee("slot"),a!=="default"&&V(o,"name",a)},m:function(s,c){oe(s,o,c)},d:function(s){s&&ae(o)}}}};if(await Promise.resolve(),!this.$$cn)return;let t={},n=fw(this);for(let a of this.$$s)a in n&&(t[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=fp(o,a.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=fp(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let l=this.$$c.$on(a,o);this.$$l_u.set(o,l)}this.$$l={}}}attributeChangedCallback(e,t,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=fp(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function fp(r,e,t,n){var a;let i=(a=t[r])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[r])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var Te=class{constructor(){Wr(this,"$$");Wr(this,"$$set")}$destroy(){ft(this,1),this.$destroy=Me}$on(e,t){if(!Un(t))return Me;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!iw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var gw="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gw);function y6(r){Bt(r,"svelte-r9r5oc",".nopadding.svelte-r9r5oc{padding:0}.icon-xs.svelte-r9r5oc{--icon-size:var(--icon-xs);--icon-stroke:var(--icon-xs-stroke-width)}.icon-sm.svelte-r9r5oc{--icon-size:var(--icon-s);--icon-stroke:var(--icon-s-stroke-width)}.icon-md.svelte-r9r5oc{--icon-size:var(--icon-m);--icon-stroke:var(--icon-m-stroke-width)}.icon-lg.svelte-r9r5oc{--icon-size:var(--icon-l);--icon-stroke:var(--icon-l-stroke-width)}")}function x6(r){let e,t,n,i;return{c(){e=ee("div"),V(e,"class","clickable-icon svelte-r9r5oc"),V(e,"aria-label",r[3]),V(e,"aria-disabled",r[5]),st(e,"nopadding",r[4]),st(e,"is-active",r[2]),st(e,"icon-xs",r[1]==="xs"),st(e,"icon-sm",r[1]==="sm"),st(e,"icon-md",r[1]==="md"),st(e,"icon-lg",r[1]==="lg")},m(a,o){oe(a,e,o),n||(i=[no(t=oo.call(null,e,r[0])),Fe(e,"click",r[6])],n=!0)},p(a,[o]){o&8&&V(e,"aria-label",a[3]),o&32&&V(e,"aria-disabled",a[5]),t&&Un(t.update)&&o&1&&t.update.call(null,a[0]),o&16&&st(e,"nopadding",a[4]),o&4&&st(e,"is-active",a[2]),o&2&&st(e,"icon-xs",a[1]==="xs"),o&2&&st(e,"icon-sm",a[1]==="sm"),o&2&&st(e,"icon-md",a[1]==="md"),o&2&&st(e,"icon-lg",a[1]==="lg")},i:Me,o:Me,d(a){a&&ae(e),n=!1,Ke(i)}}}function b6(r,e,t){let{icon:n}=e,{size:i="md"}=e,{active:a=!1}=e,{tooltip:o=""}=e,{nopadding:l=!1}=e,{disabled:u=!1}=e,{onClick:s=()=>{}}=e;function c(f){u||s(f)}return r.$$set=f=>{"icon"in f&&t(0,n=f.icon),"size"in f&&t(1,i=f.size),"active"in f&&t(2,a=f.active),"tooltip"in f&&t(3,o=f.tooltip),"nopadding"in f&&t(4,l=f.nopadding),"disabled"in f&&t(5,u=f.disabled),"onClick"in f&&t(7,s=f.onClick)},[n,i,a,o,l,u,c,s]}var pp=class extends Te{constructor(e){super(),Be(this,e,b6,x6,Ie,{icon:0,size:1,active:2,tooltip:3,nopadding:4,disabled:5,onClick:7},y6)}},Ro=pp;var dp=require("obsidian");function oo(r,e){return(0,dp.setIcon)(r,e),{update(t){(0,dp.setIcon)(r,t)}}}function C6(r){Bt(r,"svelte-su9mt0",".embed.svelte-su9mt0{all:unset;box-sizing:border-box;padding:6px;font-weight:400;font-family:var(--font-default);color:var(--text-normal)}.embed.svelte-su9mt0:focus{box-shadow:none}.noPadding.svelte-su9mt0{padding:0}.error.svelte-su9mt0{border-color:var(--background-modifier-error)}.error.svelte-su9mt0:hover{border-color:var(--background-modifier-error-hover)}.error.svelte-su9mt0:focus{box-shadow:0 0 0 2px var(--background-modifier-error);border-color:var(--background-modifier-error)}small.svelte-su9mt0{margin-top:var(--size-4-1);font-size:var(--font-ui-smaller);color:var(--text-muted);display:block}.errorText.svelte-su9mt0{color:var(--text-error)}")}function bw(r){let e,t;return{c(){e=ee("small"),t=Ye(r[9]),V(e,"class","svelte-su9mt0"),st(e,"errorText",r[6])},m(n,i){oe(n,e,i),ie(e,t)},p(n,i){i&512&&it(t,n[9]),i&64&&st(e,"errorText",n[6])},d(n){n&&ae(e)}}}function F6(r){let e,t,n,i,a,o,l,u=!!r[9]&&bw(r);return{c(){e=ee("div"),t=ee("input"),i=Le(),u&&u.c(),t.value=r[2],V(t,"type",r[1]),V(t,"placeholder",r[4]),t.readOnly=r[3],V(t,"style",n=`width: ${r[5]}`),V(t,"class","svelte-su9mt0"),st(t,"error",r[6]),st(t,"embed",r[7]),st(t,"noPadding",r[8]),V(e,"style",a=`width: ${r[5]}`)},m(s,c){oe(s,e,c),ie(e,t),r[16](t),ie(e,i),u&&u.m(e,null),o||(l=[Fe(t,"input",r[11]),Fe(t,"focus",r[12]),Fe(t,"blur",r[13]),Fe(t,"keydown",r[14]),Fe(t,"keyup",r[15])],o=!0)},p(s,[c]){c&4&&t.value!==s[2]&&(t.value=s[2]),c&2&&V(t,"type",s[1]),c&16&&V(t,"placeholder",s[4]),c&8&&(t.readOnly=s[3]),c&32&&n!==(n=`width: ${s[5]}`)&&V(t,"style",n),c&64&&st(t,"error",s[6]),c&128&&st(t,"embed",s[7]),c&256&&st(t,"noPadding",s[8]),s[9]?u?u.p(s,c):(u=bw(s),u.c(),u.m(e,null)):u&&(u.d(1),u=null),c&32&&a!==(a=`width: ${s[5]}`)&&V(e,"style",a)},i:Me,o:Me,d(s){s&&ae(e),r[16](null),u&&u.d(),o=!1,Ke(l)}}}function A6(r,e,t){let{type:n}=e,{value:i}=e,{ref:a=null}=e,{readonly:o=!1}=e,{placeholder:l=""}=e,{autoFocus:u=!1}=e,{width:s="auto"}=e,{error:c=!1}=e,{embed:f=!1}=e,{noPadding:m=!1}=e,{helperText:p=""}=e,h=Pr();En(()=>{u&&a&&a.focus()});function d(x){_r.call(this,r,x)}function g(x){_r.call(this,r,x)}function v(x){_r.call(this,r,x)}function E(x){_r.call(this,r,x)}function y(x){_r.call(this,r,x)}function D(x){Vt[x?"unshift":"push"](()=>{a=x,t(0,a)})}return r.$$set=x=>{"type"in x&&t(1,n=x.type),"value"in x&&t(2,i=x.value),"ref"in x&&t(0,a=x.ref),"readonly"in x&&t(3,o=x.readonly),"placeholder"in x&&t(4,l=x.placeholder),"autoFocus"in x&&t(10,u=x.autoFocus),"width"in x&&t(5,s=x.width),"error"in x&&t(6,c=x.error),"embed"in x&&t(7,f=x.embed),"noPadding"in x&&t(8,m=x.noPadding),"helperText"in x&&t(9,p=x.helperText)},r.$$.update=()=>{if(r.$$.dirty&4)e:h("input",i)},[a,n,i,o,l,s,c,f,m,p,u,d,g,v,E,y,D]}var hp=class extends Te{constructor(e){super(),Be(this,e,A6,F6,Ie,{type:1,value:2,ref:0,readonly:3,placeholder:4,autoFocus:10,width:5,error:6,embed:7,noPadding:8,helperText:9},C6)}},gp=hp;function S6(r){let e,t,n,i;function a(u){r[11](u)}function o(u){r[12](u)}let l={type:"text",readonly:r[2],noPadding:r[9],placeholder:r[3],autoFocus:r[4],width:r[5],embed:r[8],error:r[6],helperText:r[7]};return r[1]!==void 0&&(l.ref=r[1]),r[0]!==void 0&&(l.value=r[0]),e=new gp({props:l}),Vt.push(()=>Fn(e,"ref",a)),Vt.push(()=>Fn(e,"value",o)),e.$on("input",r[10]),e.$on("focus",r[13]),e.$on("blur",r[14]),e.$on("keydown",r[15]),e.$on("keyup",r[16]),{c(){pt(e.$$.fragment)},m(u,s){ct(e,u,s),i=!0},p(u,[s]){let c={};s&4&&(c.readonly=u[2]),s&512&&(c.noPadding=u[9]),s&8&&(c.placeholder=u[3]),s&16&&(c.autoFocus=u[4]),s&32&&(c.width=u[5]),s&256&&(c.embed=u[8]),s&64&&(c.error=u[6]),s&128&&(c.helperText=u[7]),!t&&s&2&&(t=!0,c.ref=u[1],Cn(()=>t=!1)),!n&&s&1&&(n=!0,c.value=u[0],Cn(()=>n=!1)),e.$set(c)},i(u){i||(_e(e.$$.fragment,u),i=!0)},o(u){qe(e.$$.fragment,u),i=!1},d(u){ft(e,u)}}}function N6(r,e,t){let{value:n}=e,{readonly:i=!1}=e,{placeholder:a=""}=e,{autoFocus:o=!1}=e,{width:l="auto"}=e,{error:u=!1}=e,{helperText:s=""}=e,{embed:c=!1}=e,{noPadding:f=!1}=e,{ref:m=null}=e,p=Pr();function h(x){x.currentTarget instanceof HTMLInputElement&&t(0,n=x.currentTarget.value)}function d(x){m=x,t(1,m)}function g(x){n=x,t(0,n)}function v(x){_r.call(this,r,x)}function E(x){_r.call(this,r,x)}function y(x){_r.call(this,r,x)}function D(x){_r.call(this,r,x)}return r.$$set=x=>{"value"in x&&t(0,n=x.value),"readonly"in x&&t(2,i=x.readonly),"placeholder"in x&&t(3,a=x.placeholder),"autoFocus"in x&&t(4,o=x.autoFocus),"width"in x&&t(5,l=x.width),"error"in x&&t(6,u=x.error),"helperText"in x&&t(7,s=x.helperText),"embed"in x&&t(8,c=x.embed),"noPadding"in x&&t(9,f=x.noPadding),"ref"in x&&t(1,m=x.ref)},r.$$.update=()=>{if(r.$$.dirty&1)e:p("input",n)},[n,m,i,a,o,l,u,s,c,f,h,d,g,v,E,y,D]}var vp=class extends Te{constructor(e){super(),Be(this,e,N6,S6,Ie,{value:0,readonly:2,placeholder:3,autoFocus:4,width:5,error:6,helperText:7,embed:8,noPadding:9,ref:1})}},Da=vp;function T6(r){Bt(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function I6(r){let e,t,n,i,a=r[5].default,o=Qr(a,r,r[4],null);return{c(){e=ee("button"),o&&o.c(),V(e,"aria-label",r[3]),e.disabled=r[2],V(e,"class","svelte-12xcpmj"),st(e,"mod-cta",r[1]==="primary"),st(e,"mod-warning",r[1]==="destructive"),st(e,"mod-plain",r[1]==="plain"),st(e,"disabled",r[2])},m(l,u){oe(l,e,u),o&&o.m(e,null),r[7](e),t=!0,n||(i=Fe(e,"click",r[6]),n=!0)},p(l,[u]){o&&o.p&&(!t||u&16)&&$r(o,a,l,l[4],t?Kr(a,l[4],u,null):en(l[4]),null),(!t||u&8)&&V(e,"aria-label",l[3]),(!t||u&4)&&(e.disabled=l[2]),(!t||u&2)&&st(e,"mod-cta",l[1]==="primary"),(!t||u&2)&&st(e,"mod-warning",l[1]==="destructive"),(!t||u&2)&&st(e,"mod-plain",l[1]==="plain"),(!t||u&4)&&st(e,"disabled",l[2])},i(l){t||(_e(o,l),t=!0)},o(l){qe(o,l),t=!1},d(l){l&&ae(e),o&&o.d(l),r[7](null),n=!1,i()}}}function B6(r,e,t){let{$$slots:n={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:l=""}=e,{ref:u=null}=e;function s(f){_r.call(this,r,f)}function c(f){Vt[f?"unshift":"push"](()=>{u=f,t(0,u)})}return r.$$set=f=>{"variant"in f&&t(1,a=f.variant),"disabled"in f&&t(2,o=f.disabled),"tooltip"in f&&t(3,l=f.tooltip),"ref"in f&&t(0,u=f.ref),"$$scope"in f&&t(4,i=f.$$scope)},[u,a,o,l,i,n,s,c]}var yp=class extends Te{constructor(e){super(),Be(this,e,B6,I6,Ie,{variant:1,disabled:2,tooltip:3,ref:0},T6)}},Gr=yp;var L6=wr(ww());function G6(r){let e,t,n=r[1].default,i=Qr(n,r,r[0],null);return{c(){e=ee("div"),i&&i.c(),V(e,"class","modal-button-container")},m(a,o){oe(a,e,o),i&&i.m(e,null),t=!0},p(a,[o]){i&&i.p&&(!t||o&1)&&$r(i,n,a,a[0],t?Kr(n,a[0],o,null):en(a[0]),null)},i(a){t||(_e(i,a),t=!0)},o(a){qe(i,a),t=!1},d(a){a&&ae(e),i&&i.d(a)}}}function j6(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,n]}var Dp=class extends Te{constructor(e){super(),Be(this,e,j6,G6,Ie,{})}},ko=Dp;function Cw(r,e,t){let n=r.slice();return n[2]=e[t],n}function Fw(r,e,t){let n=r.slice();return n[5]=e[t],n}function Aw(r){let e,t,n;return{c(){e=ee("p"),t=ee("code"),n=Ye(r[1]),V(t,"class","language-none meta-bind-none")},m(i,a){oe(i,e,a),ie(e,t),ie(t,n)},p(i,a){a&2&&it(n,i[1])},d(i){i&&ae(e)}}}function Sw(r){let e,t,n,i=at(r[0].getWarnings()),a=[];for(let o=0;o<i.length;o+=1)a[o]=Nw(Fw(r,i,o));return{c(){e=ee("h6"),e.textContent="Warnings",t=Le();for(let o=0;o<a.length;o+=1)a[o].c();n=cr()},m(o,l){oe(o,e,l),oe(o,t,l);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(o,l);oe(o,n,l)},p(o,l){if(l&1){i=at(o[0].getWarnings());let u;for(u=0;u<i.length;u+=1){let s=Fw(o,i,u);a[u]?a[u].p(s,l):(a[u]=Nw(s),a[u].c(),a[u].m(n.parentNode,n))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}},d(o){o&&(ae(e),ae(t),ae(n)),Rt(a,o)}}}function Nw(r){let e,t,n=r[5].message+"",i,a,o,l,u=r[5].stack+"",s;return{c(){e=ee("pre"),t=ee("code"),i=Ye(n),a=Le(),o=ee("pre"),l=ee("code"),s=Ye(u),V(t,"class","language-none mb-none"),V(e,"class","mb-pre"),V(l,"class","language-none mb-none"),V(o,"class","mb-pre")},m(c,f){oe(c,e,f),ie(e,t),ie(t,i),oe(c,a,f),oe(c,o,f),ie(o,l),ie(l,s)},p(c,f){f&1&&n!==(n=c[5].message+"")&&it(i,n),f&1&&u!==(u=c[5].stack+"")&&it(s,u)},d(c){c&&(ae(e),ae(a),ae(o))}}}function Mw(r){let e,t,n,i=at(r[0].getErrors()),a=[];for(let o=0;o<i.length;o+=1)a[o]=_w(Cw(r,i,o));return{c(){e=ee("h6"),e.textContent="Errors",t=Le();for(let o=0;o<a.length;o+=1)a[o].c();n=cr()},m(o,l){oe(o,e,l),oe(o,t,l);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(o,l);oe(o,n,l)},p(o,l){if(l&1){i=at(o[0].getErrors());let u;for(u=0;u<i.length;u+=1){let s=Cw(o,i,u);a[u]?a[u].p(s,l):(a[u]=_w(s),a[u].c(),a[u].m(n.parentNode,n))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}},d(o){o&&(ae(e),ae(t),ae(n)),Rt(a,o)}}}function _w(r){let e,t,n=r[2].message+"",i,a,o,l,u=r[2].stack+"",s;return{c(){e=ee("pre"),t=ee("code"),i=Ye(n),a=Le(),o=ee("pre"),l=ee("code"),s=Ye(u),V(t,"class","language-none mb-none"),V(e,"class","mb-pre"),V(l,"class","language-none mb-none"),V(o,"class","mb-pre")},m(c,f){oe(c,e,f),ie(e,t),ie(t,i),oe(c,a,f),oe(c,o,f),ie(o,l),ie(l,s)},p(c,f){f&1&&n!==(n=c[2].message+"")&&it(i,n),f&1&&u!==(u=c[2].stack+"")&&it(s,u)},d(c){c&&(ae(e),ae(a),ae(o))}}}function eP(r){let e,t=r[0].hasWarnings(),n,i=r[0].hasErrors(),a,o=r[1]&&Aw(r),l=t&&Sw(r),u=i&&Mw(r);return{c(){o&&o.c(),e=Le(),l&&l.c(),n=Le(),u&&u.c(),a=cr()},m(s,c){o&&o.m(s,c),oe(s,e,c),l&&l.m(s,c),oe(s,n,c),u&&u.m(s,c),oe(s,a,c)},p(s,[c]){s[1]?o?o.p(s,c):(o=Aw(s),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),c&1&&(t=s[0].hasWarnings()),t?l?l.p(s,c):(l=Sw(s),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),c&1&&(i=s[0].hasErrors()),i?u?u.p(s,c):(u=Mw(s),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},i:Me,o:Me,d(s){s&&(ae(e),ae(n),ae(a)),o&&o.d(s),l&&l.d(s),u&&u.d(s)}}}function tP(r,e,t){let{errorCollection:n}=e,{declaration:i}=e;return r.$$set=a=>{"errorCollection"in a&&t(0,n=a.errorCollection),"declaration"in a&&t(1,i=a.declaration)},[n,i]}var wp=class extends Te{constructor(e){super(),Be(this,e,tP,eP,Ie,{errorCollection:0,declaration:1})}},Po=wp;function Tw(r,e,t){let n=r.slice();return n[12]=e[t],n[13]=e,n[14]=t,n}function Iw(r){let e,t,n,i,a,o,l,u,s;function c(p){r[7](p,r[12],r[13],r[14])}let f={placeholder:"INPUT[slider(addLabels)]",width:"100%"};r[12]!==void 0&&(f.value=r[12]),n=new Da({props:f}),Vt.push(()=>Fn(n,"value",c));function m(){return r[8](r[12])}return l=new Ro({props:{icon:"x",onClick:m,tooltip:"Delete"}}),{c(){e=ee("tr"),t=ee("td"),pt(n.$$.fragment),a=Le(),o=ee("td"),pt(l.$$.fragment),u=Le(),Js(t,"width","100%")},m(p,h){oe(p,e,h),ie(e,t),ct(n,t,null),ie(e,a),ie(e,o),ct(l,o,null),ie(e,u),s=!0},p(p,h){r=p;let d={};!i&&h&1&&(i=!0,d.value=r[12],Cn(()=>i=!1)),n.$set(d);let g={};h&1&&(g.onClick=m),l.$set(g)},i(p){s||(_e(n.$$.fragment,p),_e(l.$$.fragment,p),s=!0)},o(p){qe(n.$$.fragment,p),qe(l.$$.fragment,p),s=!1},d(p){p&&ae(e),ft(n),ft(l)}}}function rP(r){let e;return{c(){e=Ye("Add Folder")},m(t,n){oe(t,e,n)},d(t){t&&ae(e)}}}function Bw(r){let e,t,n,i,a;return i=new Po({props:{errorCollection:r[1],declaration:void 0}}),{c(){e=ee("div"),t=ee("h3"),t.textContent="Some Folder Paths are invalid",n=Le(),pt(i.$$.fragment),V(t,"class","mod-error")},m(o,l){oe(o,e,l),ie(e,t),ie(e,n),ct(i,e,null),a=!0},p(o,l){let u={};l&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(_e(i.$$.fragment,o),a=!0)},o(o){qe(i.$$.fragment,o),a=!1},d(o){o&&ae(e),ft(i)}}}function nP(r){let e;return{c(){e=Ye("Save")},m(t,n){oe(t,e,n)},d(t){t&&ae(e)}}}function iP(r){let e;return{c(){e=Ye("Cancel")},m(t,n){oe(t,e,n)},d(t){t&&ae(e)}}}function aP(r){let e,t,n,i;return e=new Gr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[nP]},$$scope:{ctx:r}}}),e.$on("click",r[10]),n=new Gr({props:{tooltip:"Revert Changes",$$slots:{default:[iP]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){pt(e.$$.fragment),t=Le(),pt(n.$$.fragment)},m(a,o){ct(e,a,o),oe(a,t,o),ct(n,a,o),i=!0},p(a,o){let l={};o&32768&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let u={};o&32768&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(_e(e.$$.fragment,a),_e(n.$$.fragment,a),i=!0)},o(a){qe(e.$$.fragment,a),qe(n.$$.fragment,a),i=!1},d(a){a&&ae(t),ft(e,a),ft(n,a)}}}function oP(r){let e,t,n,i,a,o,l,u,s,c,f,m=at(r[0]),p=[];for(let g=0;g<m.length;g+=1)p[g]=Iw(Tw(r,m,g));let h=g=>qe(p[g],1,1,()=>{p[g]=null});l=new Gr({props:{variant:"primary",tooltip:"Add new excluded Folder",$$slots:{default:[rP]},$$scope:{ctx:r}}}),l.$on("click",r[9]);let d=r[1]&&Bw(r);return c=new ko({props:{$$slots:{default:[aP]},$$scope:{ctx:r}}}),{c(){e=ee("div"),t=ee("table"),n=ee("thead"),n.innerHTML="<tr><th>Folder Path</th> <th></th></tr>",i=Le(),a=ee("tbody");for(let g=0;g<p.length;g+=1)p[g].c();o=Le(),pt(l.$$.fragment),u=Le(),d&&d.c(),s=Le(),pt(c.$$.fragment)},m(g,v){oe(g,e,v),ie(e,t),ie(t,n),ie(t,i),ie(t,a);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(a,null);ie(e,o),ct(l,e,null),ie(e,u),d&&d.m(e,null),ie(e,s),ct(c,e,null),f=!0},p(g,[v]){if(v&5){m=at(g[0]);let D;for(D=0;D<m.length;D+=1){let x=Tw(g,m,D);p[D]?(p[D].p(x,v),_e(p[D],1)):(p[D]=Iw(x),p[D].c(),_e(p[D],1),p[D].m(a,null))}for(fr(),D=m.length;D<p.length;D+=1)h(D);mr()}let E={};v&32768&&(E.$$scope={dirty:v,ctx:g}),l.$set(E),g[1]?d?(d.p(g,v),v&2&&_e(d,1)):(d=Bw(g),d.c(),_e(d,1),d.m(e,s)):d&&(fr(),qe(d,1,1,()=>{d=null}),mr());let y={};v&32768&&(y.$$scope={dirty:v,ctx:g}),c.$set(y)},i(g){if(!f){for(let v=0;v<m.length;v+=1)_e(p[v]);_e(l.$$.fragment,g),_e(d),_e(c.$$.fragment,g),f=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)qe(p[v]);qe(l.$$.fragment,g),qe(d),qe(c.$$.fragment,g),f=!1},d(g){g&&ae(e),Rt(p,g),ft(l),d&&d.d(),ft(c)}}}function sP(r,e,t){let{excludedFolders:n}=e,{modal:i}=e,a;function o(d){t(0,n=n.filter(g=>g!==d))}function l(){n.push(""),t(0,n)}function u(){t(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}function c(d,g,v,E){v[E]=d,t(0,n)}let f=d=>o(d),m=()=>l(),p=()=>u(),h=()=>s();return r.$$set=d=>{"excludedFolders"in d&&t(0,n=d.excludedFolders),"modal"in d&&t(6,i=d.modal)},[n,a,o,l,u,s,i,c,f,m,p,h]}var Ep=class extends Te{constructor(e){super(),Be(this,e,sP,oP,Ie,{excludedFolders:0,modal:6})}},Ow=Ep;var Kn=class extends Error{constructor(t,n,i,a={}){super("");this.errorLevel=t,this.effect=n,this.cause=i,this.context=a,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},br=class extends Kn{getErrorType(){return"MB_INTERNAL_ERROR"}},Yt=class extends Kn{getErrorType(){return"MB_PARSING_ERROR"}};var Ml=class extends Kn{getErrorType(){return"MB_BIND_TARGET_ERROR"}};var mn=class extends Kn{getErrorType(){return"MB_ARGUMENT_ERROR"}},Xs=class extends Kn{getErrorType(){return"MB_JS_ERROR"}},Ki=class extends Kn{getErrorType(){return"MB_EXPRESSION_ERROR"}};var Er=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof Kn?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(t=>t.errorLevel==="ERROR"||t.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var _l=class extends Rw.Modal{constructor(t,n){super(t);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new Ow({target:this.contentEl,props:{excludedFolders:this.plugin.settings.excludedFolders.slice(),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(t){for(let n of t)if(n===""){let i=new Er("Excluded Folders");return i.add(new Error(`Invalid Folder Path '${n}'. Folder path may not be empty.`)),i}this.plugin.settings.excludedFolders=t,this.plugin.saveSettings()}};var Uw=require("obsidian");function uP(r){let e,t,n,i,a,o,l,u,s,c,f,m;function p(v){r[2](v)}let h={placeholder:"template-name"};r[0].name!==void 0&&(h.value=r[0].name),n=new Da({props:h}),Vt.push(()=>Fn(n,"value",p));function d(v){r[3](v)}let g={placeholder:"INPUT[slider(addLabels)]",width:"100%"};return r[0].declaration!==void 0&&(g.value=r[0].declaration),l=new Da({props:g}),Vt.push(()=>Fn(l,"value",d)),f=new Ro({props:{icon:"x",onClick:r[4],tooltip:"Delete Template"}}),{c(){e=ee("tr"),t=ee("td"),pt(n.$$.fragment),a=Le(),o=ee("td"),pt(l.$$.fragment),s=Le(),c=ee("td"),pt(f.$$.fragment),Js(o,"width","100%")},m(v,E){oe(v,e,E),ie(e,t),ct(n,t,null),ie(e,a),ie(e,o),ct(l,o,null),ie(e,s),ie(e,c),ct(f,c,null),m=!0},p(v,[E]){let y={};!i&&E&1&&(i=!0,y.value=v[0].name,Cn(()=>i=!1)),n.$set(y);let D={};!u&&E&1&&(u=!0,D.value=v[0].declaration,Cn(()=>u=!1)),l.$set(D)},i(v){m||(_e(n.$$.fragment,v),_e(l.$$.fragment,v),_e(f.$$.fragment,v),m=!0)},o(v){qe(n.$$.fragment,v),qe(l.$$.fragment,v),qe(f.$$.fragment,v),m=!1},d(v){v&&ae(e),ft(n),ft(l),ft(f)}}}function lP(r,e,t){let{template:n}=e,i=Pr();function a(){console.log("dispatch"),i("delete-template",{name:n.name})}function o(s){r.$$.not_equal(n.name,s)&&(n.name=s,t(0,n))}function l(s){r.$$.not_equal(n.declaration,s)&&(n.declaration=s,t(0,n))}let u=()=>a();return r.$$set=s=>{"template"in s&&t(0,n=s.template)},[n,a,o,l,u]}var Cp=class extends Te{constructor(e){super(),Be(this,e,lP,uP,Ie,{template:0})}},kw=Cp;function Pw(r,e,t){let n=r.slice();return n[11]=e[t],n}function Lw(r){let e,t;return e=new kw({props:{template:r[11]}}),e.$on("delete-template",r[7]),{c(){pt(e.$$.fragment)},m(n,i){ct(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.template=n[11]),e.$set(a)},i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){qe(e.$$.fragment,n),t=!1},d(n){ft(e,n)}}}function cP(r){let e;return{c(){e=Ye("Add Template")},m(t,n){oe(t,e,n)},d(t){t&&ae(e)}}}function qw(r){let e,t,n,i,a;return i=new Po({props:{errorCollection:r[1],declaration:void 0}}),{c(){e=ee("div"),t=ee("h3"),t.textContent="Some Templates Failed to Parse",n=Le(),pt(i.$$.fragment),V(t,"class","mod-error")},m(o,l){oe(o,e,l),ie(e,t),ie(e,n),ct(i,e,null),a=!0},p(o,l){let u={};l&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(_e(i.$$.fragment,o),a=!0)},o(o){qe(i.$$.fragment,o),a=!1},d(o){o&&ae(e),ft(i)}}}function fP(r){let e;return{c(){e=Ye("Save")},m(t,n){oe(t,e,n)},d(t){t&&ae(e)}}}function mP(r){let e;return{c(){e=Ye("Cancel")},m(t,n){oe(t,e,n)},d(t){t&&ae(e)}}}function pP(r){let e,t,n,i;return e=new Gr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[fP]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new Gr({props:{tooltip:"Revert Changes",$$slots:{default:[mP]},$$scope:{ctx:r}}}),n.$on("click",r[10]),{c(){pt(e.$$.fragment),t=Le(),pt(n.$$.fragment)},m(a,o){ct(e,a,o),oe(a,t,o),ct(n,a,o),i=!0},p(a,o){let l={};o&16384&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let u={};o&16384&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(_e(e.$$.fragment,a),_e(n.$$.fragment,a),i=!0)},o(a){qe(e.$$.fragment,a),qe(n.$$.fragment,a),i=!1},d(a){a&&ae(t),ft(e,a),ft(n,a)}}}function dP(r){let e,t,n,i,a,o,l,u,s,c,f,m=at(r[0]),p=[];for(let g=0;g<m.length;g+=1)p[g]=Lw(Pw(r,m,g));let h=g=>qe(p[g],1,1,()=>{p[g]=null});l=new Gr({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[cP]},$$scope:{ctx:r}}}),l.$on("click",r[8]);let d=r[1]&&qw(r);return c=new ko({props:{$$slots:{default:[pP]},$$scope:{ctx:r}}}),{c(){e=ee("div"),t=ee("table"),n=ee("thead"),n.innerHTML="<tr><th>Template Name</th> <th>Template Declaration</th> <th></th></tr>",i=Le(),a=ee("tbody");for(let g=0;g<p.length;g+=1)p[g].c();o=Le(),pt(l.$$.fragment),u=Le(),d&&d.c(),s=Le(),pt(c.$$.fragment)},m(g,v){oe(g,e,v),ie(e,t),ie(t,n),ie(t,i),ie(t,a);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(a,null);ie(e,o),ct(l,e,null),ie(e,u),d&&d.m(e,null),ie(e,s),ct(c,e,null),f=!0},p(g,[v]){if(v&5){m=at(g[0]);let D;for(D=0;D<m.length;D+=1){let x=Pw(g,m,D);p[D]?(p[D].p(x,v),_e(p[D],1)):(p[D]=Lw(x),p[D].c(),_e(p[D],1),p[D].m(a,null))}for(fr(),D=m.length;D<p.length;D+=1)h(D);mr()}let E={};v&16384&&(E.$$scope={dirty:v,ctx:g}),l.$set(E),g[1]?d?(d.p(g,v),v&2&&_e(d,1)):(d=qw(g),d.c(),_e(d,1),d.m(e,s)):d&&(fr(),qe(d,1,1,()=>{d=null}),mr());let y={};v&16384&&(y.$$scope={dirty:v,ctx:g}),c.$set(y)},i(g){if(!f){for(let v=0;v<m.length;v+=1)_e(p[v]);_e(l.$$.fragment,g),_e(d),_e(c.$$.fragment,g),f=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)qe(p[v]);qe(l.$$.fragment,g),qe(d),qe(c.$$.fragment,g),f=!1},d(g){g&&ae(e),Rt(p,g),ft(l),d&&d.d(),ft(c)}}}function hP(r,e,t){let{inputFieldTemplates:n}=e,{modal:i}=e,a;function o(h){t(0,n=n.filter(d=>d.name!==h))}function l(){n.push({name:"",declaration:""}),t(0,n)}function u(){t(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}let c=h=>o(h.detail.name),f=()=>l(),m=()=>u(),p=()=>s();return r.$$set=h=>{"inputFieldTemplates"in h&&t(0,n=h.inputFieldTemplates),"modal"in h&&t(6,i=h.modal)},[n,a,o,l,u,s,i,c,f,m,p]}var Fp=class extends Te{constructor(e){super(),Be(this,e,hP,dP,Ie,{inputFieldTemplates:0,modal:6})}},Vw=Fp;var Tl=class extends Uw.Modal{constructor(t,n){super(t);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new Vw({target:this.contentEl,props:{inputFieldTemplates:JSON.parse(JSON.stringify(this.plugin.settings.inputFieldTemplates)),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(t){let n=this.plugin.api.inputFieldParser.parseTemplates(t);if(n.hasErrors())return n;this.plugin.settings.inputFieldTemplates=t,this.plugin.saveSettings()}};var Il=class extends $n.PluginSettingTab{constructor(t,n){super(t,n);this.plugin=n}display(){let{containerEl:t}=this;t.empty(),t.createEl("h2",{text:"Meta Bind Plugin Settings"}),new $n.Setting(t).setName("Sync interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${yi.syncInterval}; Minimum: ${yi.minSyncInterval}; Maximum: ${yi.maxSyncInterval}`).addText(n=>{n.setValue(this.plugin.settings.syncInterval.toString()),n.onChange(i=>{this.plugin.settings.syncInterval=Number.parseInt(i),Number.isNaN(this.plugin.settings.syncInterval)&&(this.plugin.settings.syncInterval=yi.syncInterval),this.plugin.settings.syncInterval<yi.minSyncInterval&&(this.plugin.settings.syncInterval=yi.minSyncInterval),this.plugin.settings.syncInterval>yi.maxSyncInterval&&(this.plugin.settings.syncInterval=yi.maxSyncInterval),this.plugin.saveSettings()})}),new $n.Setting(t).setName("Date format").setDesc("The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.").addText(n=>{n.setValue(this.plugin.settings.preferredDateFormat),n.onChange(i=>{this.plugin.settings.preferredDateFormat=i,this.plugin.saveSettings()})}),new $n.Setting(t).setName("Use US date input field order").setDesc("When enabled the month input is before the day input.").addToggle(n=>{n.setValue(this.plugin.settings.useUsDateInputOrder),n.onChange(i=>{this.plugin.settings.useUsDateInputOrder=i,this.plugin.saveSettings()})}),new $n.Setting(t).setName("First Weekday").setDesc("Specify the first weekday for the datepicker.").addDropdown(n=>{for(let i of ro)n.addOption(i.name,i.name);n.setValue(this.plugin.settings.firstWeekday.name),n.onChange(i=>{this.plugin.settings.firstWeekday=ro.find(a=>a.name===i),this.plugin.saveSettings()})}),new $n.Setting(t).setName("Templates").setDesc("You can specify templates here, and access them using `INPUT[template_name][overrides (optional)]` in your notes.").addButton(n=>{n.setButtonText("Edit Templates"),n.onClick(()=>{new Tl(this.app,this.plugin).open()})}),new $n.Setting(t).setName("Excluded Folders").setDesc("You can specify excluded folders here. The plugin will not work within excluded folders.").addButton(n=>{n.setButtonText("Edit Excluded Folders"),n.onClick(()=>{new _l(this.app,this.plugin).open()})}),new $n.Setting(t).setName("Enable JS Input Fields").setDesc("Enable the processing of JavaScript input fields. This is potentially DANGEROUS, thus it's disabled by default. RESTART REQUIRED.").addToggle(n=>{n.setValue(this.plugin.settings.enableJs),n.onChange(i=>{this.plugin.settings.enableJs=i,this.plugin.saveSettings()})}),t.createEl("h3",{text:"Advanced Settings"}),new $n.Setting(t).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle(n=>{n.setValue(this.plugin.settings.devMode),n.onChange(i=>{this.plugin.settings.devMode=i,this.plugin.saveSettings()})}),new $n.Setting(t).setName("Disable Code Block Restrictions").setDesc("Disable restrictions on which input fields can be created in which code blocks. Not recommended unless you know what you are doing.").addToggle(n=>{n.setValue(this.plugin.settings.ignoreCodeBlockRestrictions),n.onChange(i=>{this.plugin.settings.ignoreCodeBlockRestrictions=i,this.plugin.saveSettings()})})}};var Yw=wr(_p());var Hw=typeof self=="object"?self:globalThis,yP=(r,e)=>{let t=(i,a)=>(r.set(a,i),i),n=i=>{if(r.has(i))return r.get(i);let[a,o]=e[i];switch(a){case 0:case-1:return t(o,i);case 1:{let l=t([],i);for(let u of o)l.push(n(u));return l}case 2:{let l=t({},i);for(let[u,s]of o)l[n(u)]=n(s);return l}case 3:return t(new Date(o),i);case 4:{let{source:l,flags:u}=o;return t(new RegExp(l,u),i)}case 5:{let l=t(new Map,i);for(let[u,s]of o)l.set(n(u),n(s));return l}case 6:{let l=t(new Set,i);for(let u of o)l.add(n(u));return l}case 7:{let{name:l,message:u}=o;return t(new Hw[l](u),i)}case 8:return t(BigInt(o),i);case"BigInt":return t(Object(BigInt(o)),i)}return t(new Hw[a](o),i)};return n},Op=r=>yP(new Map,r)(0);var qo="",{toString:xP}={},{keys:bP}=Object,eu=r=>{let e=typeof r;if(e!=="object"||!r)return[0,e];let t=xP.call(r).slice(8,-1);switch(t){case"Array":return[1,qo];case"Object":return[2,qo];case"Date":return[3,qo];case"RegExp":return[4,qo];case"Map":return[5,qo];case"Set":return[6,qo]}return t.includes("Array")?[1,t]:t.includes("Error")?[7,t]:[2,t]},Pl=([r,e])=>r===0&&(e==="function"||e==="symbol"),DP=(r,e,t,n)=>{let i=(o,l)=>{let u=n.push(o)-1;return t.set(l,u),u},a=o=>{if(t.has(o))return t.get(o);let[l,u]=eu(o);switch(l){case 0:{let c=o;switch(u){case"bigint":l=8,c=o.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([-1],o)}return i([l,c],o)}case 1:{if(u)return i([u,[...o]],o);let c=[],f=i([l,c],o);for(let m of o)c.push(a(m));return f}case 2:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());let c=[],f=i([l,c],o);for(let m of bP(o))(r||!Pl(eu(o[m])))&&c.push([a(m),a(o[m])]);return f}case 3:return i([l,o.toISOString()],o);case 4:{let{source:c,flags:f}=o;return i([l,{source:c,flags:f}],o)}case 5:{let c=[],f=i([l,c],o);for(let[m,p]of o)(r||!(Pl(eu(m))||Pl(eu(p))))&&c.push([a(m),a(p)]);return f}case 6:{let c=[],f=i([l,c],o);for(let m of o)(r||!Pl(eu(m)))&&c.push(a(m));return f}}let{message:s}=o;return i([l,{name:u,message:s}],o)};return a},Rp=(r,{json:e,lossy:t}={})=>{let n=[];return DP(!(e||t),!!e,new Map,n)(r),n};var Gw=typeof structuredClone=="function"?(r,e)=>e&&("json"in e||"lossy"in e)?Op(Rp(r,e)):structuredClone(r):(r,e)=>Op(Rp(r,e));var nu=wr(so()),Ca=wr(wa());"structuredClone"in globalThis||(globalThis.structuredClone=Gw);function iu(r,e,t){return Math.min(Math.max(r,e),t)}function Yl(r,e,t){return r!==void 0?Math.min(Math.max(r,e),t):void 0}function qp(r,e,t,n,i){return(r-e)/(t-e)*(i-n)+n}function Vp(r,e){return(r%e+e)%e}function Jw(r,e){if(r==null&&e==null)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Up(r,e){for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function au(r){return!!r}function Jl(r){return!r}function ou(r,e){return r===e||r.includes(e)||e.includes(r)}function Xw(r,e){var a;if(r[0]==="")throw new Error("can not traverse to parent on self reference");let t=r.slice(0,-1),n=(a=r.at(-1))!=null?a:"",i=(0,Yw.traverseObjectByPath)(t,e);return{parent:{key:t,value:i},child:{key:n,value:i[n]}}}function zo(r){return app.vault.adapter.getResourcePath(r)}function zp(r){let e=Reflect.ownKeys(r);for(let t of e){let n=r[t];(n&&typeof n=="object"||typeof n=="function")&&zp(n)}return Object.freeze(r)}var Qw=Ca.P.sequenceMap((r,e)=>r===void 0?e:-e,Ca.P.string("-").optional(),Ca.P.or(Ca.P.sequenceMap((r,e,t)=>Number(r+e+t),nu.P_UTILS.digits(),Ca.P.string("."),nu.P_UTILS.digits()),nu.P_UTILS.digits().map(r=>Number(r)))).thenEof(),cte=Ca.P.sequenceMap((r,e)=>r===void 0?e:-e,Ca.P.string("-").optional(),nu.P_UTILS.digits().map(r=>Number(r))).thenEof();function ea(r){if(r.toLowerCase()==="null")return null;if(r==="true")return!0;if(r==="false")return!1;{let e=Qw.tryParse(r);return e.success?e.value:r}}function Xl(r){return r===void 0?"":r===null?"null":typeof r=="string"?r:typeof r=="boolean"?r?"true":"false":r.toString()}function Fa(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"}function Wo(r){if(r!=null){if(Fa(r))return[r];if(typeof r=="object"&&Array.isArray(r))return r.filter(e=>Fa(e))}}function Ho(r){if(typeof r=="number")return r;if(typeof r=="string"){let e=Qw.tryParse(r);if(e.success)return e.value}}function Aa(r){return Fa(r)?r==null?void 0:r.toString():void 0}function Sa(r){return Fa(r)?r:void 0}var Na=class{constructor(){this.listeners=[]}registerListener(e){let t=e;return t.uuid=self.crypto.randomUUID(),this.listeners.push(t),t}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(t=>t.uuid!==e)}notifyListeners(e){for(let t of this.listeners)t.callback(e)}},Lr=class extends Na{constructor(t){super();this.value=t}get(){return this.value}set(t){this.value=t,this.notifyListeners(t)}},Ql=class extends Na{constructor(t,n){super();this.dependency=t,this.value=n(t.get()),this.dependencyListener=t.registerListener({callback:i=>this.set(n(i))})}get(){return this.value}set(t){this.value=t,this.notifyListeners(t)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var Kw=require("obsidian");var Li=class extends Kw.MarkdownRenderChild{constructor(t,n,i,a,o){super(t);this.renderChildType=n,this.plugin=i,this.filePath=a,this.uuid=o,this.errorCollection=new Er(this.uuid)}};var $w=require("obsidian");var Kl=class extends $w.Modal{constructor(t,n,i){super(t);this.errorCollection=n,this.declaration=i}onOpen(){this.modalEl.addClass("mb-error-collection-modal"),this.titleEl.innerText="Meta Bind Field",this.component=new Po({target:this.contentEl,props:{errorCollection:this.errorCollection,declaration:this.declaration}})}onClose(){var t;(t=this.component)==null||t.$destroy()}};function eE(r){let e,t,n,i,a;function o(s,c){return c&1&&(t=null),c&1&&(n=null),t==null&&(t=!!s[0].hasErrors()),t?TP:(n==null&&(n=!!s[0].hasWarnings()),n?_P:MP)}let l=o(r,-1),u=l(r);return{c(){e=ee("div"),u.c(),V(e,"class","mb-error-collection"),V(e,"role","button"),V(e,"tabindex","0")},m(s,c){oe(s,e,c),u.m(e,null),i||(a=[Fe(e,"click",r[4]),Fe(e,"keydown",r[5])],i=!0)},p(s,c){l!==(l=o(s,c))&&(u.d(1),u=l(s),u&&(u.c(),u.m(e,null)))},d(s){s&&ae(e),u.d(),i=!1,Ke(a)}}}function MP(r){let e,t,n,i;return{c(){e=zn("svg"),t=zn("circle"),n=zn("path"),i=zn("path"),V(t,"cx","12"),V(t,"cy","12"),V(t,"r","10"),V(n,"d","M12 16v-4"),V(i,"d","M12 8h.01"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width","24"),V(e,"height","24"),V(e,"viewBox","0 0 24 24"),V(e,"fill","none"),V(e,"stroke","currentColor"),V(e,"stroke-width","2"),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class","lucide lucide-info")},m(a,o){oe(a,e,o),ie(e,t),ie(e,n),ie(e,i)},d(a){a&&ae(e)}}}function _P(r){let e,t,n,i;return{c(){e=zn("svg"),t=zn("path"),n=zn("line"),i=zn("line"),V(t,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),V(n,"x1","12"),V(n,"x2","12"),V(n,"y1","9"),V(n,"y2","13"),V(i,"x1","12"),V(i,"x2","12.01"),V(i,"y1","17"),V(i,"y2","17"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width","24"),V(e,"height","24"),V(e,"viewBox","0 0 24 24"),V(e,"fill","none"),V(e,"stroke","currentColor"),V(e,"stroke-width","2"),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class","lucide lucide-alert-triangle")},m(a,o){oe(a,e,o),ie(e,t),ie(e,n),ie(e,i)},d(a){a&&ae(e)}}}function TP(r){let e,t,n,i,a,o;return{c(){e=zn("svg"),t=zn("circle"),n=zn("line"),i=zn("line"),a=Le(),o=ee("span"),o.textContent="[META_BIND_ERROR]",V(t,"cx","12"),V(t,"cy","12"),V(t,"r","10"),V(n,"x1","12"),V(n,"x2","12"),V(n,"y1","8"),V(n,"y2","12"),V(i,"x1","12"),V(i,"x2","12.01"),V(i,"y1","16"),V(i,"y2","16"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width","24"),V(e,"height","24"),V(e,"viewBox","0 0 24 24"),V(e,"fill","none"),V(e,"stroke","currentColor"),V(e,"stroke-width","2"),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class","lucide lucide-alert-circle"),V(o,"class","mb-error")},m(l,u){oe(l,e,u),ie(e,t),ie(e,n),ie(e,i),oe(l,a,u),oe(l,o,u)},d(l){l&&(ae(e),ae(a),ae(o))}}}function IP(r){let e=!r[0].isEmpty(),t,n=e&&eE(r);return{c(){n&&n.c(),t=cr()},m(i,a){n&&n.m(i,a),oe(i,t,a)},p(i,[a]){a&1&&(e=!i[0].isEmpty()),e?n?n.p(i,a):(n=eE(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Me,o:Me,d(i){i&&ae(t),n&&n.d(i)}}}function BP(r,e,t){let{app:n}=e,{errorCollection:i}=e,{declaration:a}=e;function o(){new Kl(n,i,a).open()}let l=()=>o(),u=s=>{s.key===" "&&o()};return r.$$set=s=>{"app"in s&&t(2,n=s.app),"errorCollection"in s&&t(0,i=s.errorCollection),"declaration"in s&&t(3,a=s.declaration)},[i,o,n,a,l,u]}var Wp=class extends Te{constructor(e){super(),Be(this,e,BP,IP,Ie,{app:2,errorCollection:0,declaration:3})}},uo=Wp;var Go=(x=>(x.TOGGLE="toggle",x.SLIDER="slider",x.TEXT="text",x.TEXT_AREA_DEPRECATED="text_area",x.TEXT_AREA="textArea",x.SELECT="select",x.MULTI_SELECT_DEPRECATED="multi_select",x.MULTI_SELECT="multiSelect",x.DATE="date",x.TIME="time",x.DATE_PICKER_DEPRECATED="date_picker",x.DATE_PICKER="datePicker",x.NUMBER="number",x.SUGGESTER="suggester",x.EDITOR="editor",x.IMAGE_SUGGESTER="imageSuggester",x.PROGRESS_BAR="progressBar",x.INLINE_SELECT="inlineSelect",x.LIST="list",x.LIST_SUGGESTER="listSuggester",x.INVALID="invalid",x))(Go||{}),Tr=(g=>(g.CLASS="class",g.ADD_LABELS="addLabels",g.MIN_VALUE="minValue",g.MAX_VALUE="maxValue",g.STEP_SIZE="stepSize",g.OPTION="option",g.TITLE="title",g.OPTION_QUERY="optionQuery",g.SHOWCASE="showcase",g.ON_VALUE="onValue",g.OFF_VALUE="offValue",g.DEFAULT_VALUE="defaultValue",g.PLACEHOLDER="placeholder",g.USE_LINKS="useLinks",g.LIMIT="limit",g.INVALID="invalid",g))(Tr||{}),tE={["toggle"]:{type:"toggle",allowInBlock:!0,allowInline:!0},["slider"]:{type:"slider",allowInBlock:!0,allowInline:!0},["text"]:{type:"text",allowInBlock:!0,allowInline:!0},["text_area"]:{type:"text_area",allowInBlock:!0,allowInline:!0},["textArea"]:{type:"textArea",allowInBlock:!0,allowInline:!0},["select"]:{type:"select",allowInBlock:!0,allowInline:!1},["multi_select"]:{type:"multi_select",allowInBlock:!0,allowInline:!1},["multiSelect"]:{type:"multiSelect",allowInBlock:!0,allowInline:!1},["date"]:{type:"date",allowInBlock:!0,allowInline:!0},["time"]:{type:"time",allowInBlock:!0,allowInline:!0},["date_picker"]:{type:"date_picker",allowInBlock:!0,allowInline:!0},["datePicker"]:{type:"datePicker",allowInBlock:!0,allowInline:!0},["number"]:{type:"number",allowInBlock:!0,allowInline:!0},["suggester"]:{type:"suggester",allowInBlock:!0,allowInline:!0},["editor"]:{type:"editor",allowInBlock:!0,allowInline:!1},["imageSuggester"]:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},["progressBar"]:{type:"progressBar",allowInBlock:!0,allowInline:!1},["inlineSelect"]:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},["list"]:{type:"list",allowInBlock:!0,allowInline:!1},["listSuggester"]:{type:"listSuggester",allowInBlock:!0,allowInline:!1},["invalid"]:{type:"invalid",allowInBlock:!1,allowInline:!1}},Jt={["addLabels"]:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},["class"]:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},["defaultValue"]:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},["maxValue"]:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},["minValue"]:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},["stepSize"]:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},["offValue"]:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},["onValue"]:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},["option"]:{type:"option",allowedFieldTypes:["select","multi_select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},["optionQuery"]:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},["placeholder"]:{type:"placeholder",allowedFieldTypes:["text","textArea","text_area","number","list"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},["showcase"]:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},["title"]:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},["useLinks"]:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},["limit"]:{type:"limit",allowedFieldTypes:["text","textArea","list"],values:[[{name:"value",allowed:["number"],description:"character limit for text fields"}]],allowMultiple:!1},["invalid"]:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}};var lo=class extends Li{constructor(t,n,i,a,o,l){var u;super(t,n,a,o,l);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.inputFieldDeclaration=i,this.inputSignal=new Lr(void 0),this.outputSignal=new Lr(void 0),!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this.inputFieldDeclaration.inputFieldType,n,this),(u=this.inputField)==null||u.registerListener({callback:s=>this.outputSignal.set(s)})}catch(s){this.errorCollection.add(s)}}registerSelfToMetadataManager(){var t;!((t=this.inputFieldDeclaration)!=null&&t.isBound)||!this.inputFieldDeclaration.bindTarget||(this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.inputFieldDeclaration.bindTarget,this.filePath)),this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:n=>this.updateMetadataManager(n)}))}unregisterSelfFromMetadataManager(){var t,n;!((t=this.inputFieldDeclaration)!=null&&t.isBound)||!this.inputFieldDeclaration.bindTarget||(this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(n=this.metadataSubscription)==null||n.unsubscribe())}updateMetadataManager(t){var n,i;!((n=this.inputFieldDeclaration)!=null&&n.isBound)||!this.inputFieldDeclaration.bindTarget||(i=this.metadataSubscription)==null||i.update(t)}getArguments(t){if(this.inputFieldDeclaration.errorCollection.hasErrors())throw new br("ERROR","can not retrieve arguments","inputFieldDeclaration has errors");return this.inputFieldDeclaration.argumentContainer.getAll(t)}getArgument(t){return this.getArguments(t).at(0)}shouldAddCardContainer(){let t=this.inputFieldDeclaration.inputFieldType==="select"||this.inputFieldDeclaration.inputFieldType==="multi_select"||this.inputFieldDeclaration.inputFieldType==="multiSelect"||this.inputFieldDeclaration.inputFieldType==="list",n=au(this.getArgument("showcase"))||au(this.getArgument("title"));return this.renderChildType==="block"&&(t||n)}hasValidBindTarget(){var t;return au((t=this.inputFieldDeclaration)==null?void 0:t.isBound)&&au(this.inputFieldDeclaration.bindTarget)}onload(){var l;if(console.log("meta-bind | InputFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-input"),this.containerEl.empty(),!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new br("CRITICAL","can't render input field","input field is undefined")),this.errorCollection.hasErrors()){new uo({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}});return}let t,n=this.getArgument("showcase"),i=this.getArgument("title");if(this.shouldAddCardContainer()){let u=this.containerEl.createDiv({cls:"mb-card"});i&&u.createEl("h3",{text:i.value}),t=u}else t=this.containerEl;new uo({target:t,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.hasValidBindTarget()&&this.registerSelfToMetadataManager(),this.plugin.mdrcManager.registerMDRC(this);let a=createDiv();a.addClass("mb-input-wrapper"),(l=this.inputField)==null||l.mount(a);let o=this.getArguments("class");o&&a.addClasses(o.map(u=>u.value).flat()),t.appendChild(a),this.shouldAddCardContainer()&&n&&t.createEl("code",{text:this.fullDeclaration,cls:"mb-none"})}onunload(){var t;console.log("meta-bind | InputFieldMarkdownRenderChild >> unload",this),(t=this.inputField)==null||t.unmount(),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind input field",cls:"mb-error"}),super.onunload()}};var Hp=require("obsidian"),qr=class{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Hp.moment)(e,qr.dateFormat)}static getDefaultDate(){return(0,Hp.moment)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};var su=wr(_p());var $l=class{constructor(e,t,n,i){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.updateCache(e,this)}notify(e){this.callbackSignal.set(e)}getDependencies(){return[]}},ec=class{constructor(e,t,n,i,a,o){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o}init(){for(let e of this.dependencies){let t=this.uuid+"/"+self.crypto.randomUUID();this.dependencySubscriptions.push(this.metadataManager.subscribe(t,e.callbackSignal,e.bindTarget)),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}async computeValue(){let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),t=await this.computeFunction(e);this.callbackSignal.set(t),this.metadataManager.updateCache(t,this)}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}};var OP=5,RP=5*60;function Gp(r,e){return r===void 0||e===void 0||r.filePath!==e.filePath?!1:rE(r.metadataPath,e.metadataPath,e.listenToChildren)}function rE(r,e,t){return Jw(r,e)||Up(e,r)?!0:t&&Up(r,e)}function kP(r){return r===void 0?"undefined":`${r.filePath}#${r.metadataPath}`}var tc=class{constructor(e){this.plugin=e,this.cache=new Map,this.plugin.registerEvent(this.plugin.app.metadataCache.on("changed",(t,n,i)=>this.updateCacheOnFrontmatterUpdate(t.path,n,i))),this.interval=window.setInterval(()=>this.update(),this.plugin.settings.syncInterval)}subscribeSubscription(e){var n;if(e.bindTarget===void 0)return;let t=this.getCacheForFile(e.bindTarget.filePath);if(t)console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to existing file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath}`),t.inactive=!1,t.cyclesSinceInactive=0,t.listeners.push(e),e.notify((0,su.traverseObjectByPath)(e.bindTarget.metadataPath,t.metadata));else{console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to newly created file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath}`);let i=this.plugin.app.vault.getAbstractFileByPath(e.bindTarget.filePath),a=(n=this.plugin.app.metadataCache.getFileCache(i))==null?void 0:n.frontmatter,o={file:i,metadata:a!=null?a:{},listeners:[e],cyclesSinceLastChange:0,cyclesSinceInactive:0,inactive:!1,changed:!1};console.log(`meta-bind | MetadataManager >> loaded metadata for file ${i.path}`,o.metadata),e.notify((0,su.traverseObjectByPath)(e.bindTarget.metadataPath,o.metadata)),this.createCacheForFile(e.bindTarget.filePath,o)}}subscribe(e,t,n){let i=new $l(e,t,this,n);return this.subscribeSubscription(i),i}subscribeComputed(e,t,n,i,a){let o=new ec(e,t,this,n,i,a);return this.checkForLoops(o),o.init(),this.subscribeSubscription(o),o}checkForLoops(e){for(let t of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,t])}recCheckForLoops(e){let t=e.first(),n=e.last();if(!(n===void 0||t===void 0)){if(Gp(t.bindTarget,n.bindTarget))throw new Ml("ERROR","bind target dependency loop detected",`the loop is as follows: ${e.map(i=>`"${kP(i.bindTarget)}"`).join(" -> ")}`);for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(t=>this.getAllSubscriptionsToBindTarget(t.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let t=this.getCacheForFile(e.filePath);if(!t)return[];let n=[];for(let i of t.listeners)Gp(i.bindTarget,e)&&n.push(i);return t.listeners.filter(i=>Gp(i.bindTarget,e))}unsubscribe(e){if(e.bindTarget===void 0)return;let t=e.bindTarget.filePath,n=this.getCacheForFile(t);n&&(console.debug(`meta-bind | MetadataManager >> unregistered ${e.uuid} to from file cache ${t}`),n.listeners=n.listeners.filter(i=>i.uuid!==e.uuid),n.listeners.length===0&&(console.debug(`meta-bind | MetadataManager >> marked unused file cache as inactive ${t}`),n.inactive=!0))}getCacheForFile(e){return this.cache.get(e)}createCacheForFile(e,t){if(this.cache.has(e))throw new br("CRITICAL","can not create metadata file cache","cache for file already exists");this.cache.set(e,t)}update(){let e=[];for(let[t,n]of this.cache)n.changed&&this.updateFrontmatter(n),n.cyclesSinceLastChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>RP&&e.push(t);for(let t of e)this.cache.delete(t)}async updateFrontmatter(e){console.debug(`meta-bind | MetadataManager >> updating frontmatter of "${e.file.path}" to`,e.metadata);try{await this.plugin.app.fileManager.processFrontMatter(e.file,t=>{e.changed=!1,Object.assign(t,e.metadata)})}catch(t){e.changed=!1,console.warn("failed to update frontmatter",t)}}updateCache(e,t){if(t.bindTarget===void 0)return;let n=t.bindTarget.metadataPath,i=t.bindTarget.filePath;console.debug(`meta-bind | MetadataManager >> updating "${JSON.stringify(n)}" in "${i}" metadata cache to`,e);let a=this.getCacheForFile(i);if(!a)return;let{parent:o,child:l}=Xw(n,a.metadata);if(o.value==null)throw Error(`The parent of "${JSON.stringify(n)}" does not exist in Object, please create the parent first`);o.value[l.key]=e,a.cyclesSinceLastChange=0,a.changed=!0,this.notifyListeners(a,n,t.uuid)}updateCacheOnFrontmatterUpdate(e,t,n){let i=this.getCacheForFile(e);if(!i||i.cyclesSinceLastChange<OP)return;let a=Object.assign({},n.frontmatter);delete a.position,console.debug(`meta-bind | MetadataManager >> updating "${e}" on frontmatter update`,a),i.metadata=a,this.notifyListeners(i)}notifyListeners(e,t,n){for(let i of e.listeners)if(!(n&&n===i.uuid)&&i.bindTarget!==void 0)if(t){if(rE(t,i.bindTarget.metadataPath,i.bindTarget.listenToChildren)){let a=(0,su.traverseObjectByPath)(i.bindTarget.metadataPath,e.metadata);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata value`,a),i.notify(a)}}else{let a=(0,su.traverseObjectByPath)(i.bindTarget.metadataPath,e.metadata);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata`,i.bindTarget.metadataPath,e.metadata,a),i.notify(a)}}};var dr=wr(wa()),Zo=wr(so());var tn=wr(wa()),oE=wr(so());var jr=wr(wa()),jo=wr(so()),xi=jr.P.regexp(/^[a-z][a-z0-9_-]*/i).map(r=>r).describe("identifier"),nE=jr.P.sequenceMap((r,e)=>r+e.map(t=>t[0]+t[1]).join(""),xi,jr.P.sequence(jo.P_UTILS.optionalWhitespace(),xi).many()).describe("identifier with spaces"),PP=jr.P.string("\\").then(jo.P_UTILS.any()).map(r=>r==="'"?"'":r==="\\"?"\\":"\\"+r);function iE(r){return jr.P.string(r).then(jr.P.or(PP,jr.P.noneOf(r+"\\")).many().map(e=>e.join(""))).skip(jr.P.string(r))}var LP=iE("'"),aE=iE('"');function ri(r,e){return{value:r,position:e}}var qP=jr.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),VP=jr.P.or(LP,qP).node(ri),UP=jr.P.separateBy(VP,jr.P.string(",").trim(jo.P_UTILS.optionalWhitespace())),zP=jr.P.sequenceMap((r,e)=>({name:r,value:e}),xi.node(ri),UP.trim(jo.P_UTILS.optionalWhitespace()).wrap(jr.P.string("("),jr.P.string(")")).optional([])),uu=jr.P.separateBy(zP,jr.P.string(",").trim(jo.P_UTILS.optionalWhitespace()));var WP=tn.P.manyNotOf("{}[]#^|:?").box("file path"),sE=xi.node(ri),jp=tn.P.or(oE.P_UTILS.digits(),aE).wrap(tn.P.string("["),tn.P.string("]")).node(ri),HP=tn.P.or(tn.P.sequenceMap((r,e)=>({file:void 0,boundToLocalScope:r==="^",listenToChildren:!1,path:e}),tn.P.string("^").optional(),jp.atLeast(1)),tn.P.sequenceMap((r,e,t)=>({file:void 0,boundToLocalScope:r==="^",listenToChildren:!1,path:[e,...t]}),tn.P.string("^").skip(tn.P.string(".")).optional(),sE,jp.many())),GP=tn.P.sequenceMap((r,e)=>[r,...e],sE,jp.many()),jP=tn.P.sequenceMap((r,e)=>(r.path=r.path.concat(e.flat()),r),HP,tn.P.string(".").then(GP).many()),ta=tn.P.sequenceMap((r,e)=>(e.file=r==null?void 0:r[0],e),tn.P.sequence(WP.node(ri),tn.P.string("#")).optional(),jP);var uE=dr.P.manyNotOf("{}[]").describe("MathJS"),ZP=dr.P.sequenceMap((r,e)=>[r,...e.flat()],uE,dr.P.sequence(ta.wrap(dr.P.string("{"),dr.P.string("}")),uE).many()),YP=dr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{viewFieldType:r,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},xi.node(ri).optional().describe("input field type"),uu.trim(Zo.P_UTILS.optionalWhitespace()).wrap(dr.P.string("("),dr.P.string(")")).optional([]),dr.P.sequence(dr.P.string(":"),ta).optional()),Zp=dr.P.sequenceMap((r,e,t)=>t===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(t.templateDeclaration=e,t),dr.P.string("VIEW"),ZP.wrap(dr.P.string("["),dr.P.string("]")),YP.wrap(dr.P.string("["),dr.P.string("]")).optional(),Zo.P_UTILS.eof()),JP=dr.P.sequenceMap((r,e,t,n)=>(e!==void 0&&(r.listenToChildren=!0),{bindTarget:r,name:n}),ta.wrap(dr.P.string("{"),dr.P.string("}")),dr.P.string(" and children").optional(),dr.P.string(" as "),xi),lE=dr.P.sequenceMap((r,e,t,n)=>({bindTargetMappings:r,code:n}),JP.separateBy(Zo.P_UTILS.whitespace()),Zo.P_UTILS.whitespace(),dr.P.string("---"),Zo.P_UTILS.remaining());var tr=class extends Kn{constructor(t,n,i,a,o){super(t,"failed to parse",i,{});this.str=a,this.position=o,this.source=n,this.updateMessage2()}getErrorType(){return"MB_PARSING_ERROR"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let n=this.str.split(`
`)[this.position.from.line-1],i=`${this.position.from.line} |   `;this.message+=`
${i}${n}`,this.message+=`
${this.getUnderline(i.length,n.length)} (${this.cause})
`}}getUnderline(t,n){if(this.position===void 0)return"";let i=" ".repeat(this.position.from.column+t-1),a=this.position.to.line===this.position.from.line?this.position.to.column:n,o="^".repeat(a-this.position.from.column);return i+o}};var lu=(n=>(n.MATH="math",n.TEXT="text",n.INVALID="invalid",n))(lu||{}),Yo=(n=>(n.RENDER_MARKDOWN="renderMarkdown",n.HIDDEN="hidden",n.INVALID="invalid",n))(Yo||{}),rc={["renderMarkdown"]:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},["hidden"]:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},["invalid"]:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}};var Jo=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let t of Object.values(Tr))e[t]=0;for(let t of this.arguments){let n=t.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new Yt("CRITICAL","failed to validate argument container",`argument '${n.type}' does not allow duplicates`)}}mergeByOverride(e){for(let t of e.arguments){let n=t.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(t)}return this.validate(),this}mergeByThrow(e){for(let t of e.arguments){let n=t.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new Yt("ERROR","failed to merge argument container","can not merge FieldArgumentContainers, since arguments overlap");this.arguments.push(t)}return this.validate(),this}getAll(e){return this.arguments.filter(t=>t.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var Xo=class extends Jo{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Qo=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,t){if(t.find(n=>n.length===e.length)===void 0)throw new mn("WARNING",`Failed to parse argument value for argument '${this.getConfig().type}'.`,`Expected argument values to follow the form ${t.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`)}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var Ko=class extends Qo{};var nc=class extends Ko{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return rc.renderMarkdown}};var ic=class extends Ko{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return rc.hidden}};var cE={["renderMarkdown"]:nc,["hidden"]:ic},ac=class{static createViewFieldArgument(e){if(e in cE){let t=cE[e];if(t)return new t}throw new Yt("ERROR","can not crate view field argument",`unknown argument '${e}'`)}};var oc=class{constructor(e,t){this.unvalidatedDeclaration=e,this.plugin=t,this.errorCollection=new Er("view field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a=this.validateTemplateDeclaration(e),o={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,viewFieldType:t,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let t of Object.entries(lu))if(t[1]===(e==null?void 0:e.value))return t[1];return e!=null&&e.position?this.errorCollection.add(new tr("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)):this.errorCollection.add(new tr("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e==null?void 0:e.value}'.`)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.writeToBindTarget,e)}validateArguments(e){let t=new Xo;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=ac.createViewFieldArgument(i);if(!a.isAllowed(e)){n.name.position?this.errorCollection.add(new tr("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position)):this.errorCollection.add(new tr("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Yo))if(t[1]===e.value)return t[1];return e.position?this.errorCollection.add(new tr("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)):this.errorCollection.add(new tr("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`)),"invalid"}validateTemplateDeclaration(e){var t,n;try{return(n=(t=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:t.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,i,e)))!=null?n:[]}catch(i){return this.errorCollection.add(i),[]}}};var sc=class{constructor(e){this.plugin=e}parseString(e,t){let n=new Er("ViewFieldDeclaration");try{let i=Zp.parse(e);return i.fullDeclaration=e,i.errorCollection=n,this.validateDeclaration(i,t)}catch(i){n.add(i)}return{fullDeclaration:e,errorCollection:n,templateDeclaration:[],viewFieldType:"invalid",argumentContainer:new Xo,writeToBindTarget:void 0}}parseStringWithoutValidation(e){let t=new Er("ViewFieldDeclaration");try{let n=Zp.parse(e);return n.fullDeclaration=e,n.errorCollection=t,n}catch(n){t.add(n)}return{fullDeclaration:e,errorCollection:t,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}validateDeclaration(e,t){return new oc(e,this.plugin).validate(t)}parseJsString(e){let t={};t.errorCollection=new Er("JsViewFieldDeclaration"),t.fullDeclaration=e;try{let n=lE.parse(e);t.bindTargetMappings=n.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validateBindTarget(e,i.bindTarget),name:i.name})),t.code=n.code}catch(n){t.errorCollection.add(n)}return t}};var uc=class{constructor(e){this.plugin=e}parseAndValidateBindTarget(e,t){return this.validateBindTarget(e,this.parseBindTarget(e),t)}parseBindTarget(e){return ta.parse(e)}validateBindTarget(e,t,n){var o,l,u,s,c;let i={},a=(o=t.file)==null?void 0:o.value;if(a!==void 0){let f=this.plugin.getFilePathsByName(a);if(f.length===0)throw(l=t.file)!=null&&l.position?new tr("CRITICAL","Bind Target Validator",`Failed to parse bind target. Bind target file path '${t.file.value}' not found.`,e,t.file.position):new tr("CRITICAL","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(u=t.file)==null?void 0:u.value}' not found.`);if(f.length===1)i.filePath=f[0];else throw(s=t.file)!=null&&s.position?new tr("CRITICAL","Bind Target Validator",`Failed to parse bind target. Bind target file path '${t.file.value}' resolves to multiple files, please also specify the file path.`,e,t.file.position):new tr("CRITICAL","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(c=t.file)==null?void 0:c.value}' resolves to multiple files, please also specify the file path.`)}return i.metadataPath=t.path.map(f=>f.value),i.boundToLocalScope=t.boundToLocalScope,i.listenToChildren=t.listenToChildren,this.resolveScope(i,n)}resolveScope(e,t){if(e.boundToLocalScope){if(t===void 0)throw new tr("CRITICAL","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.filePath=t.scope.filePath,e.metadataPath=t.scope.metadataPath.concat(e.metadataPath),e}else return e}toFullDeclaration(e,t){if(e!==void 0)return e.filePath===void 0&&(e.filePath=t),e}};var $o=class extends Li{};var es=class extends $o{constructor(t,n,i,a,o,l){var u,s;super(t,n,a,o,l);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.inputSignal=new Lr(void 0),this.errorCollection.isEmpty())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(i.viewFieldType,this),this.variables=(s=(u=this.viewField)==null?void 0:u.buildVariables(this.viewFieldDeclaration))!=null?s:[]}catch(c){this.errorCollection.add(c)}}registerSelfToMetadataManager(){try{this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.viewFieldDeclaration.writeToBindTarget,this.filePath),this.variables.map(t=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(t.bindTargetDeclaration,this.filePath),callbackSignal:t.inputSignal})),async()=>{var t;return await((t=this.viewField)==null?void 0:t.computeValue(this.variables))}),this.inputSignal.registerListener({callback:t=>{var n;return void((n=this.viewField)==null?void 0:n.update(t))}})}catch(t){this.errorCollection.add(t)}}unregisterSelfFromMetadataManager(){var t;(t=this.metadataSubscription)==null||t.unsubscribe()}getInitialValue(){return""}getArguments(t){if(this.viewFieldDeclaration.errorCollection.hasErrors())throw new br("ERROR","can not retrieve arguments","inputFieldDeclaration has errors");return this.viewFieldDeclaration.argumentContainer.getAll(t)}getArgument(t){return this.getArguments(t).at(0)}onload(){var n;if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),this.errorCollection.hasErrors()||this.registerSelfToMetadataManager(),new uo({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.plugin.mdrcManager.registerMDRC(this);let t=createDiv();t.addClass("mb-view-wrapper"),(n=this.viewField)==null||n.render(t),this.containerEl.appendChild(t)}onunload(){var t;console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),(t=this.viewField)==null||t.destroy(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}};var qC=wr(Md());var Fc=class extends $o{constructor(t,n,i,a,o,l){var u;super(t,n,a,o,l);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.errorCollection.isEmpty())try{for(let s of(u=this.viewFieldDeclaration.bindTargetMappings)!=null?u:[])this.variables.push({bindTargetDeclaration:s.bindTarget,inputSignal:new Lr(void 0),uuid:self.crypto.randomUUID(),contextName:s.name});this.parseExpression()}catch(s){this.errorCollection.add(s)}}parseExpression(){if(!this.viewFieldDeclaration.code)return;let n=this.viewFieldDeclaration.code.contains("await")?async function(){}.constructor:Function;this.expression=n("app","mb","dv","filePath","context",this.viewFieldDeclaration.code)}buildContext(){var n,i;let t={};for(let a of(n=this.variables)!=null?n:[])!a.contextName||!a.inputSignal||(t[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return t}async evaluateExpression(){var n;if(!this.expression)throw new Xs("CRITICAL","Can't evaluate expression.","Expression is undefined.");if(!this.plugin.settings.enableJs)throw new Xs("CRITICAL","Can't evaluate expression.","JS expressions are disabled in the plugin settings.");let t=this.buildContext();try{let i=await Promise.resolve(this.expression(this.plugin.app,this.plugin.api,(0,qC.getAPI)(this.plugin.app),this.filePath,t));return(n=i==null?void 0:i.toString())!=null?n:"null"}catch(i){throw i instanceof Error?new Ki("ERROR","failed to evaluate js expression",i,{declaration:this.viewFieldDeclaration.code,context:t}):new Error("failed to evaluate js expression because of: unexpected thrown value")}}registerSelfToMetadataManager(){let t=new Lr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,t,void 0,this.variables.map(n=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(n.bindTargetDeclaration,this.filePath),callbackSignal:n.inputSignal})),()=>this.update())}unregisterSelfFromMetadataManager(){var t;(t=this.metadataSubscription)==null||t.unsubscribe()}getInitialValue(){return""}async onload(){if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),new uo({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.registerSelfToMetadataManager(),this.plugin.mdrcManager.registerMDRC(this);let t=createDiv();t.addClass("mb-view-wrapper"),this.renderContainer=t,await this.update(),this.containerEl.appendChild(t)}onunload(){console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}async update(){if(this.renderContainer)try{this.renderContainer.innerText=await this.evaluateExpression(),this.renderContainer.removeClass("mb-error")}catch(t){t instanceof Error&&(this.renderContainer.innerText=t.message,this.renderContainer.addClass("mb-error"))}}};var fs=class extends Jo{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Gt=class extends Qo{};var Ac=class extends Gt{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return Jt.class}};var Sc=class extends Gt{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Jt.addLabels}};var Nc=class extends Gt{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Yt("ERROR","failed to set value for input field argument","value of argument 'minValue' must be of type number")}getConfig(){return Jt.minValue}};var Mc=class extends Gt{constructor(){super(...arguments);this.value=100}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Yt("ERROR","failed to set value for input field argument","value of argument 'maxValue' must be of type number")}getConfig(){return Jt.maxValue}};var _c=class extends Gt{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(t){t.length===1?(this.value=ea(t[0].value),this.name=t[0].value):t.length===2&&(this.value=ea(t[0].value),this.name=t[1].value)}getConfig(){return Jt.option}};var Tc=class extends Gt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return Jt.title}};var Ic=class extends Gt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return Jt.optionQuery}};var Bc=class extends Gt{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Jt.showcase}};var Oc=class extends Gt{constructor(){super(...arguments);this.value=!1}_parseValue(t){this.value=ea(t[0].value)}getConfig(){return Jt.offValue}};var Rc=class extends Gt{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=ea(t[0].value)}getConfig(){return Jt.onValue}};var kc=class extends Gt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=ea(t[0].value)}getConfig(){return Jt.defaultValue}};var Pc=class extends Gt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return Jt.placeholder}};var Lc=class extends Gt{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Jt.useLinks}};var qc=class extends Gt{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Yt("WARNING","failed to set value for input field argument","value of argument 'stepSize' must be of type number");if(this.value<=0)throw new Yt("WARNING","failed to set value for input field argument","value of argument 'stepSize' must be a positive number")}getConfig(){return Jt.stepSize}};var Vc=class extends Gt{constructor(){super(...arguments);this.value=void 0}_parseValue(t){if(this.value=Number.parseInt(t[0].value),Number.isNaN(this.value))throw new Yt("WARNING","failed to set value for input field argument","value of argument 'limit' must be of type number");if(this.value<=0)throw new Yt("WARNING","failed to set value for input field argument","value of argument 'limit' must be positive")}getConfig(){return Jt.limit}};var VC={["class"]:Ac,["addLabels"]:Sc,["minValue"]:Nc,["maxValue"]:Mc,["stepSize"]:qc,["option"]:_c,["title"]:Tc,["optionQuery"]:Ic,["showcase"]:Bc,["offValue"]:Oc,["onValue"]:Rc,["defaultValue"]:kc,["placeholder"]:Pc,["useLinks"]:Lc,["limit"]:Vc},Uc=class{static createInputFieldArgument(e){if(e in VC){let t=VC[e];if(t)return new t}throw new Yt("ERROR","can not crate input field argument",`unknown argument '${e}'`)}};var Cu=class{constructor(e,t){this.plugin=e,this.unvalidatedDeclaration=t,this.errorCollection=new Er("input field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,inputFieldType:t,isBound:n!==void 0,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let t of Object.entries(Go))if(t[1]===(e==null?void 0:e.value))return t[1];return e!=null&&e.position?this.errorCollection.add(new tr("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)):this.errorCollection.add(new tr("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`)),"invalid"}checkForDeprecation(e){var t;(e.inputFieldType==="date_picker"||e.inputFieldType==="text_area"||e.inputFieldType==="multi_select")&&((t=this.unvalidatedDeclaration.inputFieldType)!=null&&t.position?this.errorCollection.add(new tr("WARNING","Declaration Validator",`'${e.inputFieldType}' is deprecated, as it has been renamed to be in camel case ('input_field_type' => 'inputFieldType').`,this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.inputFieldType.position)):this.errorCollection.add(new tr("WARNING","Declaration Validator",`'${e.inputFieldType}' is deprecated, as it has been renamed to be in camel case ('input_field_type' => 'inputFieldType').`)))}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.bindTarget,e)}validateArguments(e){let t=new fs;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Uc.createInputFieldArgument(i);if(!a.isAllowed(e)){n.name.position?this.errorCollection.add(new tr("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position)):this.errorCollection.add(new tr("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Tr))if(t[1]===e.value)return t[1];return e.position?this.errorCollection.add(new tr("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)):this.errorCollection.add(new tr("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`)),"invalid"}};var nr=wr(wa());var ms=wr(so());var r7=nr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},xi.node(ri).describe("input field type"),uu.trim(ms.P_UTILS.optionalWhitespace()).wrap(nr.P.string("("),nr.P.string(")")).optional([]),nr.P.sequence(nr.P.string(":"),ta).optional()),UC=nr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},xi.node(ri).optional().describe("input field type"),uu.trim(ms.P_UTILS.optionalWhitespace()).wrap(nr.P.string("("),nr.P.string(")")).optional([]),nr.P.sequence(nr.P.string(":"),ta).optional()),_d=nr.P.or(nr.P.sequenceMap((r,e,t)=>(t.templateName=e,t),nr.P.string("INPUT"),nr.P.sequenceMap((r,e,t)=>e,nr.P.string("["),nE.node(ri).describe("template name"),nr.P.string("]")),UC.wrap(nr.P.string("["),nr.P.string("]")),ms.P_UTILS.eof()),nr.P.sequenceMap((r,e)=>e,nr.P.string("INPUT"),r7.wrap(nr.P.string("["),nr.P.string("]")),ms.P_UTILS.eof())),zC=nr.P.sequenceMap((r,e)=>e,nr.P.string("INPUT"),UC.wrap(nr.P.string("["),nr.P.string("]")),ms.P_UTILS.eof());var zc=class{constructor(e){this.plugin=e,this.templates=[]}parseString(e,t){let n=new Er("InputFieldParser");try{let i=_d.parse(e);return i.fullDeclaration=e,i.errorCollection=n,i=this.applyTemplate(i),new Cu(this.plugin,i).validate(t)}catch(i){n.add(i)}return{fullDeclaration:e,inputFieldType:"invalid",isBound:!1,bindTarget:void 0,argumentContainer:new fs,errorCollection:n}}parseStringWithoutValidation(e){let t=new Er("InputFieldParser");try{let n=_d.parse(e);return n.fullDeclaration=e,n.errorCollection=t,n}catch(n){t.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}validateDeclaration(e,t){return new Cu(this.plugin,e).validate(t)}parseTemplateString(e){let t=new Er("InputFieldParser");try{let n=zC.parse(e);return n.fullDeclaration=e,n.errorCollection=t,n}catch(n){t.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}parseTemplates(e){this.templates=[];let t=new Er("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);t.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push(zp(a))}return t}getTemplate(e){var t;return(t=this.templates.find(n=>n.name===e))==null?void 0:t.template}applyTemplate(e){if(e.templateName===void 0)return e;let t=this.getTemplate(e.templateName.value);return t===void 0?(e.templateName.position?e.errorCollection.add(new tr("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.fullDeclaration,e.templateName.position)):e.errorCollection.add(new tr("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`)),e):this.plugin.api.inputField.merge(t,e)}};var Wc=class{constructor(e){this.api=e}createInputFieldDeclaration(e,t){let n=new Er("input field declaration"),i=(t!=null?t:[]).map(a=>({name:{value:a.name},value:a.value.map(o=>({value:o}))}));return{fullDeclaration:"",inputFieldType:e?{value:e}:void 0,bindTarget:void 0,arguments:i,errorCollection:n}}createInputFieldDeclarationFromString(e){return this.api.inputFieldParser.parseStringWithoutValidation(e)}setType(e,t){return e.inputFieldType={value:t},e}setArguments(e,t){return e.arguments=t.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))})),e}addArgument(e,t){return Array.isArray(t)?e.arguments=e.arguments.concat(t.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))}))):e.arguments.push({name:{value:t.name},value:t.value.map(n=>({value:n}))}),e}setBindTargetFile(e,t){return e.bindTarget?e.bindTarget.file={value:t}:e.bindTarget={file:{value:t},path:[],boundToLocalScope:!1,listenToChildren:!1},e}setBindTargetMetadataField(e,t){return typeof t=="string"&&(t=[t]),e.bindTarget?e.bindTarget.path=t.map(n=>({value:n})):e.bindTarget={file:void 0,path:t.map(n=>({value:n})),boundToLocalScope:!1,listenToChildren:!1},e}setTemplateName(e,t){return e.templateName={value:t},e}applyTemplate(e){return this.api.inputFieldParser.applyTemplate(e)}getTemplate(e){return this.api.inputFieldParser.getTemplate(e)}merge(e,t){var i,a,o;let n={};return e.bindTarget===void 0?n=t.bindTarget:(n=e.bindTarget,((i=t.bindTarget)==null?void 0:i.file)!==void 0&&(n.file=t.bindTarget.file),((a=t.bindTarget)==null?void 0:a.path)!==void 0&&(n.path=t.bindTarget.path)),{fullDeclaration:t.fullDeclaration,inputFieldType:(o=t.inputFieldType)!=null?o:e.inputFieldType,bindTarget:n,arguments:t.arguments.concat(e.arguments).reduce((l,u)=>(l.find(s=>s.name===u.name)===void 0&&l.push(u),l),[]),errorCollection:new Er("input field declaration").merge(e.errorCollection).merge(t.errorCollection)}}};var Hc=class extends Li{onload(){console.log("meta-bind | ExcludedMDRC >> load",this),this.containerEl.empty(),this.containerEl.createEl("span",{text:"this folder has been excluded in the meta bind plugin settings",cls:"meta-bind-plugin-error"})}};var Gc=class{constructor(e){this.scope=e}};var WC=require("obsidian");function n7(r){let e,t;return{c(){e=ee("td"),t=ee("div")},m(n,i){oe(n,e,i),ie(e,t),r[3](t)},p:Me,i:Me,o:Me,d(n){n&&ae(e),r[3](null)}}}function i7(r,e,t){let{table:n}=e,{cell:i}=e,a,o;En(()=>{o=new WC.Component,o.load(),n.createCell(i,a,o)}),Fl(()=>{o.unload()});function l(u){Vt[u?"unshift":"push"](()=>{a=u,t(0,a)})}return r.$$set=u=>{"table"in u&&t(1,n=u.table),"cell"in u&&t(2,i=u.cell)},[a,n,i,l]}var Td=class extends Te{constructor(e){super(),Be(this,e,i7,n7,Ie,{table:1,cell:2})}},HC=Td;var jC=require("obsidian");function a7(r){Bt(r,"svelte-npwbok",".icon-wrapper.svelte-npwbok{display:inline-block;position:relative;width:18px;height:18px}")}function GC(r){let e;return{c(){e=ee("div"),V(e,"class","icon-wrapper svelte-npwbok")},m(t,n){oe(t,e,n),r[2](e)},p:Me,d(t){t&&ae(e),r[2](null)}}}function o7(r){let e,t=r[0].length>0&&GC(r);return{c(){t&&t.c(),e=cr()},m(n,i){t&&t.m(n,i),oe(n,e,i)},p(n,[i]){n[0].length>0?t?t.p(n,i):(t=GC(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Me,o:Me,d(n){n&&ae(e),t&&t.d(n)}}}function s7(r,e,t){let{iconName:n=""}=e,i;En(()=>{(0,jC.setIcon)(i,n)});function a(o){Vt[o?"unshift":"push"](()=>{i=o,t(1,i)})}return r.$$set=o=>{"iconName"in o&&t(0,n=o.iconName)},[n,i,a]}var Id=class extends Te{constructor(e){super(),Be(this,e,s7,o7,Ie,{iconName:0},a7)}},ai=Id;function ZC(r,e,t){let n=r.slice();return n[7]=e[t],n}function YC(r,e,t){let n=r.slice();return n[10]=e[t],n[11]=e,n[12]=t,n}function JC(r,e,t){let n=r.slice();return n[13]=e[t],n}function XC(r){let e,t=r[13]+"",n;return{c(){e=ee("th"),n=Ye(t)},m(i,a){oe(i,e,a),ie(e,n)},p(i,a){a&2&&t!==(t=i[13]+"")&&it(n,t)},d(i){i&&ae(e)}}}function u7(r){let e,t,n;return{c(){e=ee("td"),t=Ye("invalid data"),V(e,"class","meta-bind-error"),V(e,"colspan",n=r[1].length)},m(i,a){oe(i,e,a),ie(e,t)},p(i,a){a&2&&n!==(n=i[1].length)&&V(e,"colspan",n)},i:Me,o:Me,d(i){i&&ae(e)}}}function l7(r){let e,t,n=at(r[7].cells),i=[];for(let o=0;o<n.length;o+=1)i[o]=QC(YC(r,n,o));let a=o=>qe(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=cr()},m(o,l){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,l);oe(o,e,l),t=!0},p(o,l){if(l&5){n=at(o[7].cells);let u;for(u=0;u<n.length;u+=1){let s=YC(o,n,u);i[u]?(i[u].p(s,l),_e(i[u],1)):(i[u]=QC(s),i[u].c(),_e(i[u],1),i[u].m(e.parentNode,e))}for(fr(),u=n.length;u<i.length;u+=1)a(u);mr()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)_e(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)qe(i[l]);t=!1},d(o){o&&ae(e),Rt(i,o)}}}function QC(r){let e,t,n;function i(o){r[4](o,r[10],r[11],r[12])}let a={table:r[0]};return r[10]!==void 0&&(a.cell=r[10]),e=new HC({props:a}),Vt.push(()=>Fn(e,"cell",i)),{c(){pt(e.$$.fragment)},m(o,l){ct(e,o,l),n=!0},p(o,l){r=o;let u={};l&1&&(u.table=r[0]),!t&&l&4&&(t=!0,u.cell=r[10],Cn(()=>t=!1)),e.$set(u)},i(o){n||(_e(e.$$.fragment,o),n=!0)},o(o){qe(e.$$.fragment,o),n=!1},d(o){ft(e,o)}}}function c7(r){let e,t;return e=new ai({props:{iconName:"x"}}),{c(){pt(e.$$.fragment)},m(n,i){ct(e,n,i),t=!0},p:Me,i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){qe(e.$$.fragment,n),t=!1},d(n){ft(e,n)}}}function KC(r,e){let t,n,i,a,o,l,u,s,c=[l7,u7],f=[];function m(h,d){return h[7].isValid?0:1}n=m(e,-1),i=f[n]=c[n](e);function p(){return e[5](e[7])}return l=new Gr({props:{$$slots:{default:[c7]},$$scope:{ctx:e}}}),l.$on("click",p),{key:r,first:null,c(){t=ee("tr"),i.c(),a=Le(),o=ee("td"),pt(l.$$.fragment),u=Le(),this.first=t},m(h,d){oe(h,t,d),f[n].m(t,null),ie(t,a),ie(t,o),ct(l,o,null),ie(t,u),s=!0},p(h,d){e=h;let g=n;n=m(e,d),n===g?f[n].p(e,d):(fr(),qe(f[g],1,1,()=>{f[g]=null}),mr(),i=f[n],i?i.p(e,d):(i=f[n]=c[n](e),i.c()),_e(i,1),i.m(t,a));let v={};d&65536&&(v.$$scope={dirty:d,ctx:e}),l.$set(v)},i(h){s||(_e(i),_e(l.$$.fragment,h),s=!0)},o(h){qe(i),qe(l.$$.fragment,h),s=!1},d(h){h&&ae(t),f[n].d(),ft(l)}}}function f7(r){let e;return{c(){e=Ye("Add Column")},m(t,n){oe(t,e,n)},d(t){t&&ae(e)}}}function m7(r){let e,t,n,i,a,o,l,u=[],s=new Map,c,f,m,p=at(r[1]),h=[];for(let v=0;v<p.length;v+=1)h[v]=XC(JC(r,p,v));let d=at(r[2]),g=v=>v[7].index;for(let v=0;v<d.length;v+=1){let E=ZC(r,d,v),y=g(E);s.set(y,u[v]=KC(y,E))}return f=new Gr({props:{$$slots:{default:[f7]},$$scope:{ctx:r}}}),f.$on("click",r[6]),{c(){e=ee("table"),t=ee("thead"),n=ee("tr");for(let v=0;v<h.length;v+=1)h[v].c();i=Le(),a=ee("th"),o=Le(),l=ee("tbody");for(let v=0;v<u.length;v+=1)u[v].c();c=Le(),pt(f.$$.fragment)},m(v,E){oe(v,e,E),ie(e,t),ie(t,n);for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(n,null);ie(n,i),ie(n,a),ie(e,o),ie(e,l);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(l,null);oe(v,c,E),ct(f,v,E),m=!0},p(v,[E]){if(E&2){p=at(v[1]);let D;for(D=0;D<p.length;D+=1){let x=JC(v,p,D);h[D]?h[D].p(x,E):(h[D]=XC(x),h[D].c(),h[D].m(n,i))}for(;D<h.length;D+=1)h[D].d(1);h.length=p.length}E&7&&(d=at(v[2]),fr(),u=Nl(u,E,g,1,v,d,s,l,hw,KC,null,ZC),mr());let y={};E&65536&&(y.$$scope={dirty:E,ctx:v}),f.$set(y)},i(v){if(!m){for(let E=0;E<d.length;E+=1)_e(u[E]);_e(f.$$.fragment,v),m=!0}},o(v){for(let E=0;E<u.length;E+=1)qe(u[E]);qe(f.$$.fragment,v),m=!1},d(v){v&&(ae(e),ae(c)),Rt(h,v);for(let E=0;E<u.length;E+=1)u[E].d();ft(f,v)}}}function p7(r,e,t){let{table:n}=e,{tableHead:i=[]}=e,a=[];function o(c){t(2,a=c)}function l(c,f,m,p){m[p]=c,t(2,a)}let u=c=>n.removeColumn(c.index),s=()=>n.addColumn();return r.$$set=c=>{"table"in c&&t(0,n=c.table),"tableHead"in c&&t(1,i=c.tableHead)},[n,i,a,o,l,u,s]}var Bd=class extends Te{constructor(e){super(),Be(this,e,p7,m7,Ie,{table:0,tableHead:1,updateTable:3})}get updateTable(){return this.$$.ctx[3]}},$C=Bd;var jc=class extends Li{constructor(t,n,i,a,o,l,u,s){super(t,n,i,a,o);this.bindTarget=l,this.tableHead=u,this.columns=s,this.inputSignal=new Lr(void 0),this.outputSignal=new Lr(void 0)}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.bindTarget,this.filePath))}unregisterSelfFromMetadataManager(){var t;this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(t=this.metadataSubscription)==null||t.unsubscribe()}updateMetadataManager(t){var n;(n=this.metadataSubscription)==null||n.update(t)}getInitialValue(){var t;return(t=this.inputSignal.get())!=null?t:[]}updateDisplayValue(t){var i;t=t!=null?t:[];let n=[];for(let a=0;a<t.length;a++)if(typeof t[a]=="object"){let o=new Gc({metadataPath:[...this.bindTarget.metadataPath,a.toString()],filePath:this.bindTarget.filePath,listenToChildren:!1,boundToLocalScope:!1}),l=this.columns.map(u=>"inputFieldType"in u?this.plugin.api.inputFieldParser.validateDeclaration(u,o):this.plugin.api.viewFieldParser.validateDeclaration(u,o));n.push({cells:l,index:a,value:t[a],isValid:!0})}else n.push({cells:[],index:a,value:t[a],isValid:!1});(i=this.tableComponent)==null||i.updateTable(n)}createCell(t,n,i){let a=self.crypto.randomUUID();if("inputFieldType"in t){let o=new lo(n,"inline",t,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}else{let o=new es(n,"inline",t,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}}removeColumn(t){var i;let n=(i=this.inputSignal.get())!=null?i:[];n.splice(t,1),this.outputSignal.set(n),this.updateDisplayValue(n)}addColumn(){var n;let t=(n=this.inputSignal.get())!=null?n:[];t.push({}),this.outputSignal.set(t),this.updateDisplayValue(t)}onload(){this.registerSelfToMetadataManager(),this.tableComponent=new $C({target:this.containerEl,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:t=>{this.updateDisplayValue(t)}}),this.updateDisplayValue(this.inputSignal.get())}onunload(){var t;this.unregisterSelfFromMetadataManager(),(t=this.tableComponent)==null||t.$destroy()}};var Yc=class extends Na{constructor(t){super();this.svelteComponent=t}setValue(t){var n;(n=this.svelteComponentInstance)==null||n.setValue(t)}mount(t,n,i={}){let a=Object.assign({value:n,onValueChange:o=>{this.notifyListeners(o)}},i);this.svelteComponentInstance=new this.svelteComponent({target:t,props:a})}unmount(){var t;this.listeners=[],(t=this.svelteComponentInstance)==null||t.$destroy()}};var Tt=class extends Na{constructor(t){super();this.renderChild=t,this.inputFieldComponent=new Yc(this.getSvelteComponent()),this.signal=new Ql(this.renderChild.inputSignal,n=>{let i=this.filterValue(n);return i!=null?i:this.getDefaultValue()}),this.signal.registerListener({callback:n=>this.inputFieldComponent.setValue(this.reverseMapValue(n))}),this.inputFieldComponent.registerListener({callback:n=>{this.notifyListeners(this.mapValue(n))}})}reverseMapValue(t){let n=this.rawReverseMapValue(t);if(n!==void 0)return n;let i=this.rawReverseMapValue(this.getDefaultValue());return i!==void 0?i:this.getFallbackDefaultValue()}mapValue(t){return this.rawMapValue(t)}getValue(){return this.signal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(t){this.signal.set(t),this.notifyListeners(t)}setInternalValue(t){this.setValue(this.mapValue(t))}getDefaultValue(){let t=this.renderChild.getArgument("defaultValue");if(!t)return this.mapValue(this.getFallbackDefaultValue());let n=this.filterValue(t.value);return n!=null?n:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}mount(t){this.inputFieldComponent.mount(t,this.reverseMapValue(this.getValue()),this.getMountArgs())}unmount(){this.inputFieldComponent.unmount()}};function d7(r){let e,t,n,i;return{c(){e=ee("div"),t=ee("input"),V(t,"type","checkbox"),V(t,"tabindex","-1"),t.checked=r[0],V(e,"class","checkbox-container"),V(e,"role","switch"),V(e,"tabindex","0"),V(e,"aria-checked",r[0]),st(e,"is-enabled",r[0])},m(a,o){oe(a,e,o),ie(e,t),n||(i=[Fe(e,"click",r[5]),Fe(e,"keypress",r[6])],n=!0)},p(a,[o]){o&1&&(t.checked=a[0]),o&1&&V(e,"aria-checked",a[0]),o&1&&st(e,"is-enabled",a[0])},i:Me,o:Me,d(a){a&&ae(e),n=!1,Ke(i)}}}function h7(r,e,t){let{value:n}=e,{onValueChange:i}=e;function a(c){t(0,n=c)}function o(){t(0,n=!n),console.log("toggle"),i(n)}function l(c){c.key===" "&&o()}let u=()=>o(),s=c=>l(c);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"onValueChange"in c&&t(3,i=c.onValueChange)},[n,o,l,i,a,u,s]}var Od=class extends Te{constructor(e){super(),Be(this,e,h7,d7,Ie,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},eF=Od;var Jc=class extends Tt{constructor(t){var n,i,a,o;super(t);this.onValue=(i=(n=this.renderChild.getArgument("onValue"))==null?void 0:n.value)!=null?i:!0,this.offValue=(o=(a=this.renderChild.getArgument("offValue"))==null?void 0:a.value)!=null?o:!1}filterValue(t){return Sa(t)}getFallbackDefaultValue(){return!1}getSvelteComponent(){return eF}rawReverseMapValue(t){return t===this.onValue?!0:(t===this.offValue,!1)}rawMapValue(t){return t?this.onValue:this.offValue}};function tF(r){let e,t=rF(r[0].length,r[2])+"",n,i;return{c(){e=ee("span"),n=Ye(t),V(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){oe(a,e,o),ie(e,n)},p(a,o){o&5&&t!==(t=rF(a[0].length,a[2])+"")&&it(n,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&V(e,"class",i)},d(a){a&&ae(e)}}}function g7(r){let e,t,n,i,a,o=r[2]!==void 0&&tF(r);return{c(){e=ee("input"),t=Le(),o&&o.c(),n=cr(),V(e,"type","text"),V(e,"tabindex","0"),V(e,"placeholder",r[1]),V(e,"maxlength",r[2])},m(l,u){oe(l,e,u),Ct(e,r[0]),oe(l,t,u),o&&o.m(l,u),oe(l,n,u),i||(a=[Fe(e,"input",r[5]),Fe(e,"input",r[6])],i=!0)},p(l,[u]){u&2&&V(e,"placeholder",l[1]),u&4&&V(e,"maxlength",l[2]),u&1&&e.value!==l[0]&&Ct(e,l[0]),l[2]!==void 0?o?o.p(l,u):(o=tF(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:Me,o:Me,d(l){l&&(ae(e),ae(t),ae(n)),o&&o.d(l),i=!1,Ke(a)}}}function rF(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function v7(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function l(c){t(0,n=c)}function u(){n=this.value,t(0,n)}let s=()=>o(n);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"placeholder"in c&&t(1,i=c.placeholder),"limit"in c&&t(2,a=c.limit),"onValueChange"in c&&t(3,o=c.onValueChange)},[n,i,a,o,l,u,s]}var Rd=class extends Te{constructor(e){super(),Be(this,e,v7,g7,Ie,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},nF=Rd;var Xc=class extends Tt{constructor(e){super(e)}filterValue(e){return Aa(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return nF}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function y7(r){let e,t,n;return{c(){e=ee("input"),V(e,"class","mb-slider-input"),V(e,"type","range"),V(e,"tabindex","0"),V(e,"min",r[1]),V(e,"max",r[2]),V(e,"step",r[3])},m(i,a){oe(i,e,a),Ct(e,r[0]),t||(n=[Fe(e,"change",r[9]),Fe(e,"input",r[9]),Fe(e,"input",r[10])],t=!0)},p(i,a){a&2&&V(e,"min",i[1]),a&4&&V(e,"max",i[2]),a&8&&V(e,"step",i[3]),a&1&&Ct(e,i[0])},d(i){i&&ae(e),t=!1,Ke(n)}}}function x7(r){let e,t,n,i,a,o,l,u,s;return{c(){e=ee("span"),t=Ye(r[1]),n=Le(),i=ee("input"),a=Le(),o=ee("span"),l=Ye(r[2]),V(e,"class","mb-slider-input-label"),V(i,"class","mb-slider-input"),V(i,"type","range"),V(i,"tabindex","0"),V(i,"min",r[1]),V(i,"max",r[2]),V(i,"step",r[3]),V(o,"class","mb-slider-input-label")},m(c,f){oe(c,e,f),ie(e,t),oe(c,n,f),oe(c,i,f),Ct(i,r[0]),oe(c,a,f),oe(c,o,f),ie(o,l),u||(s=[Fe(i,"change",r[7]),Fe(i,"input",r[7]),Fe(i,"input",r[8])],u=!0)},p(c,f){f&2&&it(t,c[1]),f&2&&V(i,"min",c[1]),f&4&&V(i,"max",c[2]),f&8&&V(i,"step",c[3]),f&1&&Ct(i,c[0]),f&4&&it(l,c[2])},d(c){c&&(ae(e),ae(n),ae(i),ae(a),ae(o)),u=!1,Ke(s)}}}function b7(r){let e;function t(a,o){return a[4]?x7:y7}let n=t(r,-1),i=n(r);return{c(){i.c(),e=cr()},m(a,o){i.m(a,o),oe(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Me,o:Me,d(a){a&&ae(e),i.d(a)}}}function D7(r,e,t){let{value:n}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:l}=e,{onValueChange:u}=e;function s(h){t(0,n=h)}function c(){n=Ri(this.value),t(0,n)}let f=()=>u(n);function m(){n=Ri(this.value),t(0,n)}let p=()=>u(n);return r.$$set=h=>{"value"in h&&t(0,n=h.value),"minValue"in h&&t(1,i=h.minValue),"maxValue"in h&&t(2,a=h.maxValue),"stepSize"in h&&t(3,o=h.stepSize),"addLabels"in h&&t(4,l=h.addLabels),"onValueChange"in h&&t(5,u=h.onValueChange)},[n,i,a,o,l,u,s,c,f,m,p]}var kd=class extends Te{constructor(e){super(),Be(this,e,D7,b7,Ie,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},iF=kd;var Qc=class extends Tt{constructor(t){var n,i,a,o,l,u;super(t);if(this.minValue=(i=(n=this.renderChild.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.renderChild.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(l=this.renderChild.getArgument("stepSize"))==null?void 0:l.value)!=null?u:1,this.minValue>=this.maxValue)throw new mn("ERROR","can not create slider input field",`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`)}filterValue(t){return Yl(Ho(t),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return iF}rawReverseMapValue(t){return t}rawMapValue(t){return t}getMountArgs(){var t;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((t=this.renderChild.getArgument("addLabels"))==null?void 0:t.value)===!0}}};function w7(r){let e,t,n;return{c(){e=ee("textarea"),V(e,"tabindex","0"),V(e,"placeholder",r[1]),V(e,"maxlength",r[2])},m(i,a){oe(i,e,a),Ct(e,r[0]),t||(n=[Fe(e,"input",r[5]),Fe(e,"input",r[6])],t=!0)},p(i,[a]){a&2&&V(e,"placeholder",i[1]),a&4&&V(e,"maxlength",i[2]),a&1&&Ct(e,i[0])},i:Me,o:Me,d(i){i&&ae(e),t=!1,Ke(n)}}}function E7(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function l(c){t(0,n=c)}function u(){n=this.value,t(0,n)}let s=()=>o(n);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"placeholder"in c&&t(1,i=c.placeholder),"limit"in c&&t(2,a=c.limit),"onValueChange"in c&&t(3,o=c.onValueChange)},[n,i,a,o,l,u,s]}var Pd=class extends Te{constructor(e){super(),Be(this,e,E7,w7,Ie,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},aF=Pd;var Fu=class extends Tt{constructor(e){super(e)}filterValue(e){return Aa(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return aF}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function oF(r,e,t){let n=r.slice();return n[8]=e[t],n}function sF(r){let e,t=r[8].name+"",n,i,a,o;function l(){return r[6](r[8])}function u(...s){return r[7](r[8],...s)}return{c(){e=ee("div"),n=Ye(t),i=Le(),V(e,"class","mb-select-input-element"),V(e,"role","button"),V(e,"tabindex","0"),st(e,"is-selected",r[8].value===r[0])},m(s,c){oe(s,e,c),ie(e,n),ie(e,i),a||(o=[Fe(e,"click",l),Fe(e,"keypress",u)],a=!0)},p(s,c){r=s,c&2&&t!==(t=r[8].name+"")&&it(n,t),c&3&&st(e,"is-selected",r[8].value===r[0])},d(s){s&&ae(e),a=!1,Ke(o)}}}function C7(r){let e,t=at(r[1]),n=[];for(let i=0;i<t.length;i+=1)n[i]=sF(oF(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=cr()},m(i,a){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,a);oe(i,e,a)},p(i,[a]){if(a&15){t=at(i[1]);let o;for(o=0;o<t.length;o+=1){let l=oF(i,t,o);n[o]?n[o].p(l,a):(n[o]=sF(l),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},i:Me,o:Me,d(i){i&&ae(e),Rt(n,i)}}}function F7(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){t(0,n=f)}function l(f){t(0,n=f),a(n)}function u(f,m){f.key===" "&&l(m)}let s=f=>l(f.value),c=(f,m)=>u(m,f.value);return r.$$set=f=>{"value"in f&&t(0,n=f.value),"options"in f&&t(1,i=f.options),"onValueChange"in f&&t(4,a=f.onValueChange)},[n,i,l,u,a,o,s,c]}var Ld=class extends Te{constructor(e){super(),Be(this,e,F7,C7,Ie,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},uF=Ld;var Kc=class extends Tt{constructor(t){super(t);this.options=this.renderChild.getArguments("option")}filterValue(t){return Sa(t)}getFallbackDefaultValue(){return null}getSvelteComponent(){return uF}rawMapValue(t){return t}rawReverseMapValue(t){return t}getMountArgs(){return{options:this.options}}};function lF(r,e,t){let n=r.slice();return n[8]=e[t],n}function cF(r){let e,t=r[8].name+"",n,i,a,o;function l(){return r[6](r[8])}function u(...s){return r[7](r[8],...s)}return{c(){e=ee("div"),n=Ye(t),i=Le(),V(e,"class","mb-select-input-element"),V(e,"role","button"),V(e,"tabindex","0"),st(e,"is-selected",r[0].includes(r[8].value))},m(s,c){oe(s,e,c),ie(e,n),ie(e,i),a||(o=[Fe(e,"click",l),Fe(e,"keypress",u)],a=!0)},p(s,c){r=s,c&2&&t!==(t=r[8].name+"")&&it(n,t),c&3&&st(e,"is-selected",r[0].includes(r[8].value))},d(s){s&&ae(e),a=!1,Ke(o)}}}function A7(r){let e,t=at(r[1]),n=[];for(let i=0;i<t.length;i+=1)n[i]=cF(lF(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=cr()},m(i,a){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,a);oe(i,e,a)},p(i,[a]){if(a&15){t=at(i[1]);let o;for(o=0;o<t.length;o+=1){let l=lF(i,t,o);n[o]?n[o].p(l,a):(n[o]=cF(l),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},i:Me,o:Me,d(i){i&&ae(e),Rt(n,i)}}}function S7(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){t(0,n=f)}function l(f){n.includes(f)?t(0,n=n.filter(m=>m!==f)):(n.push(f),t(0,n)),a(n)}function u(f,m){f.key===" "&&l(m)}let s=f=>l(f.value),c=(f,m)=>u(m,f.value);return r.$$set=f=>{"value"in f&&t(0,n=f.value),"options"in f&&t(1,i=f.options),"onValueChange"in f&&t(4,a=f.onValueChange)},[n,i,l,u,a,o,s,c]}var qd=class extends Te{constructor(e){super(),Be(this,e,S7,A7,Ie,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},fF=qd;var Au=class extends Tt{constructor(t){super(t);this.options=this.renderChild.getArguments("option")}filterValue(t){return Wo(t)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return fF}rawMapValue(t){return t}rawReverseMapValue(t){return t}getMountArgs(){return{options:this.options}}};function N7(r){Bt(r,"svelte-by1xb6",".date-picker-input.svelte-by1xb6{background:var(--background-secondary);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;position:relative;color:var(--text-normal);display:inline-flex;align-items:center;gap:5px}.date-picker-text.svelte-by1xb6{display:inline-block}")}function M7(r){let e,t,n,i=(r[0]?r[0].format(r[1]):"none")+"",a,o,l,u,s,c;return l=new ai({props:{iconName:"calendar"}}),{c(){e=ee("div"),t=ee("div"),n=ee("span"),a=Ye(i),o=Le(),pt(l.$$.fragment),V(t,"class","date-picker-text svelte-by1xb6"),V(e,"class","date-picker-input svelte-by1xb6"),V(e,"role","button"),V(e,"tabindex","0")},m(f,m){oe(f,e,m),ie(e,t),ie(t,n),ie(n,a),ie(e,o),ct(l,e,null),u=!0,s||(c=[Fe(e,"click",r[2]),Fe(e,"keydown",r[3])],s=!0)},p(f,[m]){(!u||m&3)&&i!==(i=(f[0]?f[0].format(f[1]):"none")+"")&&it(a,i)},i(f){u||(_e(l.$$.fragment,f),u=!0)},o(f){qe(l.$$.fragment,f),u=!1},d(f){f&&ae(e),ft(l),s=!1,Ke(c)}}}function _7(r,e,t){let{value:n}=e,{dateFormat:i}=e,{showDatePicker:a}=e,{onValueChange:o}=e;function l(c){t(0,n=c)}function u(c){a()}function s(c){c.key===" "&&a()}return r.$$set=c=>{"value"in c&&t(0,n=c.value),"dateFormat"in c&&t(1,i=c.dateFormat),"showDatePicker"in c&&t(4,a=c.showDatePicker),"onValueChange"in c&&t(5,o=c.onValueChange)},[n,i,u,s,a,o,l]}var Vd=class extends Te{constructor(e){super(),Be(this,e,_7,M7,Ie,{value:0,dateFormat:1,showDatePicker:4,onValueChange:5,setValue:6},N7)}get setValue(){return this.$$.ctx[6]}},mF=Vd;var EF=require("obsidian");var pF=require("obsidian");var Ud=ro[1];function dF(r){Ud=r}function zd(r){return nw[r]}function hF(r,e){let t=(0,pF.moment)(new Date(e,r)).daysInMonth(),n=new Array(42).fill(0),i=T7(new Date(e,r,1));for(let a=0;a<t;a++)n[a+i]=a+1;return n=n[n.length-7]?n:n.slice(0,-7),n=n[n.length-7]?n:n.slice(0,-7),n}function T7(r){return Vp(r.getDay()-Ud.index,7)}function gF(){return ro.map(e=>({index:Vp(e.index-Ud.index,7),name:e.name,shortName:e.shortName})).sort((e,t)=>e.index-t.index).map(e=>e.shortName)}function vF(){let r=0;return()=>++r}var bF=require("obsidian");function I7(r){Bt(r,"svelte-9v0nxw",".calendar.svelte-9v0nxw{margin-top:10px}.calendar-header.svelte-9v0nxw{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1);;}.calendar-content.svelte-9v0nxw{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-9v0nxw{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-9v0nxw{cursor:pointer}.cell-text.svelte-9v0nxw{margin:auto;text-align:center}.selected.svelte-9v0nxw{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-9v0nxw:hover{background:var(--interactive-hover)}.selected.highlight.svelte-9v0nxw:hover{background:var(--interactive-accent-hover)}")}function yF(r,e,t){let n=r.slice();return n[10]=e[t],n}function B7(r,e,t){let n=r.slice();return n[13]=e[t],n}function O7(r){let e,t,n;return{c(){e=ee("div"),t=ee("span"),t.textContent=`${r[13]}`,n=Le(),V(t,"class","cell-text svelte-9v0nxw"),V(e,"class","cell header-cell svelte-9v0nxw")},m(i,a){oe(i,e,a),ie(e,t),ie(e,n)},p:Me,d(i){i&&ae(e)}}}function xF(r,e){let t,n,i=(e[10]||"")+"",a,o,l,u;function s(){return e[6](e[10])}function c(...f){return e[7](e[10],...f)}return{key:r,first:null,c(){var f,m,p;t=ee("div"),n=ee("span"),a=Ye(i),o=Le(),V(n,"class","cell-text svelte-9v0nxw"),V(t,"class","cell svelte-9v0nxw"),V(t,"role","button"),V(t,"tabindex","0"),st(t,"highlight",e[10]),st(t,"content-cell",e[10]),st(t,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((m=e[0])==null?void 0:m.month())===e[1]&&((p=e[0])==null?void 0:p.date())===e[10]),this.first=t},m(f,m){oe(f,t,m),ie(t,n),ie(n,a),ie(t,o),l||(u=[Fe(t,"click",s),Fe(t,"keydown",c)],l=!0)},p(f,m){var p,h,d;e=f,m&8&&i!==(i=(e[10]||"")+"")&&it(a,i),m&8&&st(t,"highlight",e[10]),m&8&&st(t,"content-cell",e[10]),m&15&&st(t,"selected",((p=e[0])==null?void 0:p.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&ae(t),l=!1,Ke(u)}}}function R7(r){let e,t,n,i,a=[],o=new Map,l=at(gF()),u=[];for(let f=0;f<l.length;f+=1)u[f]=O7(B7(r,l,f));let s=at(r[3]),c=f=>vF();for(let f=0;f<s.length;f+=1){let m=yF(r,s,f),p=c(m);o.set(p,a[f]=xF(p,m))}return{c(){e=ee("div"),t=ee("div");for(let f=0;f<u.length;f+=1)u[f].c();n=Le(),i=ee("div");for(let f=0;f<a.length;f+=1)a[f].c();V(t,"class","calendar-header svelte-9v0nxw"),V(i,"class","calendar-content svelte-9v0nxw"),V(e,"class","calendar svelte-9v0nxw")},m(f,m){oe(f,e,m),ie(e,t);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(t,null);ie(e,n),ie(e,i);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(i,null)},p(f,[m]){m&63&&(s=at(f[3]),a=Nl(a,m,c,1,f,s,o,i,dw,xF,null,yF))},i:Me,o:Me,d(f){f&&ae(e),Rt(u,f);for(let m=0;m<a.length;m+=1)a[m].d()}}}function k7(r,e,t){let n=Pr(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,l;function u(p){n("dateChange",(0,bF.moment)(new Date(o,a,p)))}function s(p){p&&u(p)}function c(p,h){p.key===" "&&s(h)}let f=p=>s(p),m=(p,h)=>c(h,p);return r.$$set=p=>{"selectedDate"in p&&t(0,i=p.selectedDate),"month"in p&&t(1,a=p.month),"year"in p&&t(2,o=p.year)},r.$$.update=()=>{if(r.$$.dirty&6)e:t(3,l=hF(a,o))},[i,a,o,l,s,c,f,m]}var Wd=class extends Te{constructor(e){super(),Be(this,e,k7,R7,Ie,{selectedDate:0,month:1,year:2},I7)}},DF=Wd;var Hd=require("obsidian");function P7(r){Bt(r,"svelte-f39liu",".date-picker.svelte-f39liu{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-f39liu{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-f39liu{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-f39liu{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-f39liu{height:min-content}.month-switch-button.svelte-f39liu{margin:0}.date-picker-footer.svelte-f39liu{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-f39liu{margin:0}")}function L7(r){let e,t,n,i,a,o,l=zd(r[1])+"",u,s,c,f,m,p,h,d,g,v,E,y,D,x;return d=new DF({props:{month:r[1],year:r[2],selectedDate:r[0]}}),d.$on("dateChange",r[6]),{c(){e=ee("div"),t=ee("div"),n=ee("button"),n.textContent="Prev",i=Le(),a=ee("div"),o=ee("span"),u=Ye(l),s=Le(),c=ee("input"),m=Le(),p=ee("button"),p.textContent="Next",h=Le(),pt(d.$$.fragment),g=Le(),v=ee("div"),E=ee("button"),E.textContent="Set no Date",V(n,"class","month-switch-button svelte-f39liu"),V(o,"class","date-picker-header-text-month svelte-f39liu"),V(c,"class","date-picker-header-text-year svelte-f39liu"),V(c,"type","number"),c.value=f=r[2].toString(),V(a,"class","date-picker-header-text svelte-f39liu"),V(p,"class","month-switch-button svelte-f39liu"),V(t,"class","date-picker-header svelte-f39liu"),V(E,"class","none-button svelte-f39liu"),V(v,"class","date-picker-footer svelte-f39liu"),V(e,"class","date-picker svelte-f39liu")},m(b,C){oe(b,e,C),ie(e,t),ie(t,n),ie(t,i),ie(t,a),ie(a,o),ie(o,u),ie(a,s),ie(a,c),ie(t,m),ie(t,p),ie(e,h),ct(d,e,null),ie(e,g),ie(e,v),ie(v,E),y=!0,D||(x=[Fe(n,"click",r[4]),Fe(c,"input",r[5]),Fe(p,"click",r[3]),Fe(E,"click",r[7])],D=!0)},p(b,[C]){(!y||C&2)&&l!==(l=zd(b[1])+"")&&it(u,l),(!y||C&4&&f!==(f=b[2].toString())&&c.value!==f)&&(c.value=f);let S={};C&2&&(S.month=b[1]),C&4&&(S.year=b[2]),C&1&&(S.selectedDate=b[0]),d.$set(S)},i(b){y||(_e(d.$$.fragment,b),y=!0)},o(b){qe(d.$$.fragment,b),y=!1},d(b){b&&ae(e),ft(d),D=!1,Ke(x)}}}function q7(r,e,t){let{selectedDate:n=(0,Hd.moment)()}=e,{dateChangeCallback:i}=e,a,o;function l(){if(a===11){t(1,a=0),t(2,o+=1);return}t(1,a=a+1)}function u(){if(a===0){t(1,a=11),t(2,o-=1);return}t(1,a-=1)}function s(m){let p=m.target.value,h=Number.parseInt(p);Number.isNaN(h)||t(2,o=h)}function c(m){t(0,n=m.detail),i(m.detail)}function f(){t(0,n=null),i(null)}return r.$$set=m=>{"selectedDate"in m&&t(0,n=m.selectedDate),"dateChangeCallback"in m&&t(8,i=m.dateChangeCallback)},r.$$.update=()=>{if(r.$$.dirty&1)e:if(n)t(1,a=n.month()),t(2,o=n.year());else{let m=(0,Hd.moment)();t(1,a=m.month()),t(2,o=m.year())}},[n,a,o,l,u,s,c,f,i]}var Gd=class extends Te{constructor(e){super(),Be(this,e,q7,L7,Ie,{selectedDate:0,dateChangeCallback:8},P7)}},wF=Gd;var $c=class extends EF.Modal{constructor(t,n){super(t);this.datePicker=n}onOpen(){this.datePickerInput=new wF({target:this.contentEl,props:{selectedDate:this.datePicker.getInternalValue(),dateChangeCallback:t=>{this.datePicker.setInternalValue(t),this.close()}}})}onClose(){var t;(t=this.datePickerInput)==null||t.$destroy()}};var Su=class extends Tt{constructor(t){super(t);this.options=this.renderChild.getArguments("option")}filterValue(t){if(t===null)return null;if(t===void 0||typeof t!="string")return;let n=qr.parse(t);if(n.isValid())return qr.stringify(n)}getFallbackDefaultValue(){return qr.getDefaultDate()}getSvelteComponent(){return mF}rawMapValue(t){return t===null?null:qr.stringify(t)}rawReverseMapValue(t){if(t===null)return null;let n=qr.parse(t);if(n.isValid())return n}getMountArgs(){return{dateFormat:this.renderChild.plugin.settings.preferredDateFormat,showDatePicker:()=>{new $c(this.renderChild.plugin.app,this).open()}}}};function V7(r){let e,t,n;return{c(){e=ee("input"),V(e,"type","number"),V(e,"tabindex","0"),V(e,"placeholder",r[1])},m(i,a){oe(i,e,a),Ct(e,r[0]),t||(n=[Fe(e,"input",r[4]),Fe(e,"input",r[5])],t=!0)},p(i,[a]){a&2&&V(e,"placeholder",i[1]),a&1&&Ri(e.value)!==i[0]&&Ct(e,i[0])},i:Me,o:Me,d(i){i&&ae(e),t=!1,Ke(n)}}}function U7(r,e,t){let{value:n}=e,{placeholder:i}=e,{onValueChange:a}=e;function o(s){t(0,n=s)}function l(){n=Ri(this.value),t(0,n)}let u=()=>a(n);return r.$$set=s=>{"value"in s&&t(0,n=s.value),"placeholder"in s&&t(1,i=s.placeholder),"onValueChange"in s&&t(2,a=s.onValueChange)},[n,i,a,o,l,u]}var jd=class extends Te{constructor(e){super(),Be(this,e,U7,V7,Ie,{value:0,placeholder:1,onValueChange:2,setValue:3})}get setValue(){return this.$$.ctx[3]}},CF=jd;var ef=class extends Tt{constructor(e){super(e)}filterValue(e){return Ho(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return CF}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.renderChild.getArgument("placeholder"))!=null?e:"Number"}}};function z7(r){let e,t;return{c(){e=ee("a"),t=Ye(r[1]),V(e,"data-href",r[1]),V(e,"href",r[1]),V(e,"class","internal-link"),V(e,"target","_blank"),V(e,"rel","noopener")},m(n,i){oe(n,e,i),ie(e,t)},p(n,i){i&2&&it(t,n[1]),i&2&&V(e,"data-href",n[1]),i&2&&V(e,"href",n[1])},d(n){n&&ae(e)}}}function W7(r){let e,t=r[0].alias+"",n;return{c(){e=ee("a"),n=Ye(t),V(e,"data-href",r[1]),V(e,"href",r[1]),V(e,"class","internal-link"),V(e,"target","_blank"),V(e,"rel","noopener"),V(e,"aria-label",r[1]),V(e,"aria-label-position","top")},m(i,a){oe(i,e,a),ie(e,n)},p(i,a){a&1&&t!==(t=i[0].alias+"")&&it(n,t),a&2&&V(e,"data-href",i[1]),a&2&&V(e,"href",i[1]),a&2&&V(e,"aria-label",i[1])},d(i){i&&ae(e)}}}function H7(r){let e;function t(a,o){return a[0].alias?W7:z7}let n=t(r,-1),i=n(r);return{c(){i.c(),e=cr()},m(a,o){i.m(a,o),oe(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Me,o:Me,d(a){a&&ae(e),i.d(a)}}}function G7(r,e,t){let n,{mdLink:i}=e;return r.$$set=a=>{"mdLink"in a&&t(0,i=a.mdLink)},r.$$.update=()=>{if(r.$$.dirty&1)e:t(1,n=i.block?`${i.target}#${i.block}`:i.target)},[i,n]}var Zd=class extends Te{constructor(e){super(),Be(this,e,G7,H7,Ie,{mdLink:0})}},tf=Zd;var go=class{constructor(e,t){if(Jl(e))throw new br("ERROR","failed to create enclosing pair","opening string must not be empty");this.openingEqualsClosing=Jl(t)||e===t,this.openingEqualsClosing?(this._openingString=e,this._closingString=e):(this._openingString=e,this._closingString=t)}get openingString(){return this._openingString}get closingString(){return this.openingEqualsClosing?this._openingString:this._closingString}overlaps(e){return ou(this.openingString,e.openingString)||ou(this.openingString,e.closingString)||ou(this.closingString,e.openingString)||ou(this.closingString,e.closingString)}equals(e){return Jl(e)?!1:this.openingString===e.openingString&&this.closingString===e.closingString}toString(){return JSON.stringify(this)}},ir=class{static split(e,t,n){if(!e)throw new br("ERROR","failed to split string","string must not be empty");if(!t)throw new br("ERROR","failed to split string","separator must not be empty");let i="",a=[];if(n){let o=ir.numberOfOccurrences(e,n.openingString),l=ir.numberOfOccurrences(e,n.closingString),u=0;e:for(let s=0;s<e.length;s++)if(u===0&&ir.isStringAt(e,t,s)?(a.push(i),i="",s+=t.length-1):i+=e[s],n.openingEqualsClosing){if(ir.isStringAt(e,n.openingString,s)){if(!(u%2===0&&o===1))if(u%2===0){u+=1;for(let c=1;c<n.openingString.length;c++)if(s+=1,i+=e[s],s>=e.length)break e}else{u-=1;for(let c=1;c<n.closingString.length;c++)if(s+=1,i+=e[s],s>=e.length)break e}o-=1}}else if(ir.isStringAt(e,n.openingString,s)){if(o<=l){u+=1;for(let c=1;c<n.openingString.length;c++)if(s+=1,i+=e[s],s>=e.length)break e}o-=1}else if(ir.isStringAt(e,n.closingString,s)){if(u>0){u-=1;for(let c=1;c<n.closingString.length;c++)if(s+=1,i+=e[s],s>=e.length)break e}l-=1}}else for(let o=0;o<e.length;o++)ir.isStringAt(e,t,o)?(a.push(i),i="",o+=t.length-1):i+=e[o];return a.push(i),a}static removeInBetween(e,t){if(!e)throw new br("ERROR","failed remove in between in string","string must not be empty");let n=ir.numberOfOccurrences(e,t.openingString),i=ir.numberOfOccurrences(e,t.closingString),a=0,o="";for(let l=0;l<e.length;l++){if(t.openingEqualsClosing){if(ir.isStringAt(e,t.openingString,l)){if(!(a%2===0&&n===1)){if(a%2===0){if(a+=1,l+=t.openingString.length,l>=e.length)break}else if(a-=1,l+=t.closingString.length,l>=e.length)break}n-=1}}else if(ir.isStringAt(e,t.openingString,l)){if(n<=i&&(a+=1,l+=t.openingString.length,l>=e.length))break;n-=1}else if(ir.isStringAt(e,t.closingString,l)){if(a>0&&(a-=1,l+=t.closingString.length,l>=e.length))break;i-=1}a===0&&(o+=e[l])}return o}static getInBetween(e,t){if(!e)throw new br("ERROR","failed to get in between in string","string must not be empty");let n=ir.numberOfOccurrences(e,t.openingString),i=ir.numberOfOccurrences(e,t.closingString),a=0,o="",l=[];e:for(let u=0;u<e.length;u++)if(t.openingEqualsClosing)if(ir.isStringAt(e,t.openingString,u)){if(!(a%2===0&&n===1))if(a%2===0){a+=1,o+=e[u];for(let s=1;s<t.openingString.length;s++)if(u+=1,o+=e[u],u>=e.length)break e}else{a-=1,o+=e[u];for(let s=1;s<t.closingString.length;s++)if(u+=1,o+=e[u],u>e.length)break e;l.push(o),o=""}n-=1}else a>=1&&(o+=e[u]);else if(ir.isStringAt(e,t.openingString,u)){if(n<=i){a+=1,o+=e[u];for(let s=1;s<t.openingString.length;s++)if(u+=1,o+=e[u],u>=e.length)break e}n-=1}else if(ir.isStringAt(e,t.closingString,u)){if(a>0){a-=1,o+=e[u];for(let s=1;s<t.closingString.length;s++)if(u+=1,o+=e[u],u>e.length)break e;a===0&&(l.push(o),o="")}i-=1}else a>=1&&(o+=e[u]);return l.length===0?"":l.length===1?l[0].substring(t.openingString.length,l[0].length-t.closingString.length):l.map(u=>u.substring(t.openingString.length,u.length-t.closingString.length))}static isStringAt(e,t,n){if(n<0)throw new br("ERROR","failed to check is string is at index","index must be greater than 0");if(n>=e.length)throw new br("ERROR","failed to check is string is at index","index out of bounds of string");if(!e)throw new br("ERROR","failed to check is string is at index","string must not be empty");if(!t)throw new br("ERROR","failed to check is string is at index","sub string must not be empty");for(let i=0;i<t.length;i++)if(e[i+n]!==t[i])return!1;return!0}static contains(e,t){return ir.numberOfOccurrences(e,t)>0}static numberOfOccurrences(e,t){if(!e)throw new br("ERROR","failed count number of occurrences","string must not be empty");if(!t)throw new br("ERROR","failed count number of occurrences","sub string must not be empty");let n=0;for(let i=0;i<e.length;i++)ir.isStringAt(e,t,i)&&(n+=1);return n}};function Nu(r){if(!r)throw new Yt("ERROR","failed to parse md link","invalid link, link is empty");let e={};e.isEmbed=r.startsWith("!");let t=ir.getInBetween(r,new go("[[","]]"));if(!t)throw new Yt("ERROR","failed to parse md link","invalid link, link is empty");if(typeof t!="string")throw new Yt("ERROR","failed to parse md link","invalid link, link format is invalid");let n=t.split("|");if(n.length===2)e.alias=n[1];else if(n.length>2)throw new Yt("ERROR","failed to parse md link","invalid link, link may only contain a maximum of one '|'");let i=n[0].split("#");if(i.length===1)e.target=i[0];else if(i.length===2)e.target=i[0],e.block=i[1];else throw new Yt("ERROR","failed to parse md link","invalid link, link target may only contain a maximum of one '#'");return e}function rf(r){return(r.startsWith("![[")||r.startsWith("[["))&&r.endsWith("]]")}function j7(r){let e,t;return{c(){e=ee("span"),t=Ye(r[1])},m(n,i){oe(n,e,i),ie(e,t)},p(n,i){i&2&&it(t,n[1])},i:Me,o:Me,d(n){n&&ae(e)}}}function Z7(r){let e,t,n;function i(o){r[9](o)}let a={};return r[0]!==void 0&&(a.mdLink=r[0]),e=new tf({props:a}),Vt.push(()=>Fn(e,"mdLink",i)),{c(){pt(e.$$.fragment)},m(o,l){ct(e,o,l),n=!0},p(o,l){let u={};!t&&l&1&&(t=!0,u.mdLink=o[0],Cn(()=>t=!1)),e.$set(u)},i(o){n||(_e(e.$$.fragment,o),n=!0)},o(o){qe(e.$$.fragment,o),n=!1},d(o){ft(e,o)}}}function Y7(r){let e,t,n,i,a,o,l,u,s,c=[Z7,j7],f=[];function m(p,h){return p[2]?0:1}return n=m(r,-1),i=f[n]=c[n](r),o=new ai({props:{iconName:"list"}}),{c(){e=ee("div"),t=ee("div"),i.c(),a=Le(),pt(o.$$.fragment),V(t,"class","mb-suggest-text"),V(e,"class","mb-suggest-input"),V(e,"role","button"),V(e,"tabindex","0")},m(p,h){oe(p,e,h),ie(e,t),f[n].m(t,null),ie(e,a),ct(o,e,null),l=!0,u||(s=[Fe(e,"click",r[3]),Fe(e,"keydown",r[4])],u=!0)},p(p,[h]){let d=n;n=m(p,h),n===d?f[n].p(p,h):(fr(),qe(f[d],1,1,()=>{f[d]=null}),mr(),i=f[n],i?i.p(p,h):(i=f[n]=c[n](p),i.c()),_e(i,1),i.m(t,null))},i(p){l||(_e(i),_e(o.$$.fragment,p),l=!0)},o(p){qe(i),qe(o.$$.fragment,p),l=!1},d(p){p&&ae(e),f[n].d(),ft(o),u=!1,Ke(s)}}}function J7(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e,o,l,u=!1;En(()=>{s(n)});function s(p){var h;let d=(h=p==null?void 0:p.toString())!==null&&h!==void 0?h:"null";if(t(2,u=rf(d)),u)try{t(0,o=Nu(d))}catch(g){console.warn(g)}else t(1,l=d)}function c(p){p.target instanceof HTMLAnchorElement||i()}function f(p){p.key===" "&&i()}function m(p){o=p,t(0,o)}return r.$$set=p=>{"value"in p&&t(5,n=p.value),"showSuggester"in p&&t(6,i=p.showSuggester),"onValueChange"in p&&t(7,a=p.onValueChange)},[o,l,u,c,f,n,i,a,s,m]}var Yd=class extends Te{constructor(e){super(),Be(this,e,J7,Y7,Ie,{value:5,showSuggester:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},FF=Yd;var SF=wr(Md()),NF=require("obsidian");var AF=require("obsidian"),nf=class extends AF.FuzzySuggestModal{constructor(t,n,i){super(t);this.options=n,this.onSelect=i}getItemText(t){return t.displayValue}getItems(){return this.options}onChooseItem(t,n){this.onSelect(t)}};var Ia=class{constructor(e,t){this.value=e,this.displayValue=t}valueAsString(){var e,t;return(t=(e=this.value)==null?void 0:e.toString())!=null?t:"null"}};function X7(r,e,t,n,i){let a=[];for(let o of t)a.push(new Ia(o.value,o.name));if(n.length>0){if(!r)return new NF.Notice("meta-bind | dataview needs to be installed and enabled to use suggest option queries"),a;for(let o of n)r.pages(o.value,e).forEach(u=>{try{let s=u.file;i?a.push(new Ia(`[[${s.path}|${s.name}]]`,`file-link: ${s.name}`)):a.push(new Ia(s.name,`file: ${s.name}`))}catch(s){console.warn("meta-bind | error while computing suggest options",s)}})}return a}function Q7(r){let e=r.renderChild.plugin.app,t=(0,SF.getAPI)(e),n=r.renderChild.getArguments("option"),i=r.renderChild.getArguments("optionQuery"),a=r.renderChild.getArgument("useLinks");return X7(t,r.renderChild.filePath,n,i,a===void 0||a.value)}function af(r,e){new nf(r.renderChild.plugin.app,Q7(r),e).open()}var of=class extends Tt{constructor(e){super(e)}filterValue(e){return Sa(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return FF}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){af(this,e=>this.setInternalValue(e.value))}};function K7(r){Bt(r,"svelte-1kqwc2u",".editor-input.svelte-1kqwc2u.svelte-1kqwc2u{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0}.editor-input.svelte-1kqwc2u>textarea.svelte-1kqwc2u{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none}.editor-input.svelte-1kqwc2u>div.svelte-1kqwc2u{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function $7(r){let e,t,n,i,a,o;return{c(){e=ee("div"),t=ee("textarea"),n=Le(),i=ee("div"),V(t,"class","svelte-1kqwc2u"),V(i,"class","svelte-1kqwc2u"),V(e,"class","editor-input card svelte-1kqwc2u"),V(e,"role","button"),V(e,"tabindex","0")},m(l,u){oe(l,e,u),ie(e,t),r[9](t),Ct(t,r[0]),ie(e,n),ie(e,i),r[13](i),a||(o=[Fe(t,"input",r[10]),Fe(t,"focusout",r[11]),Fe(t,"input",r[12]),Fe(e,"click",r[14]),Fe(e,"keypress",r[15])],a=!0)},p(l,[u]){u&1&&Ct(t,l[0])},i:Me,o:Me,d(l){l&&ae(e),r[9](null),r[13](null),a=!1,Ke(o)}}}function e9(r,e,t){let{value:n}=e,{onValueChange:i}=e,{render:a}=e,o,l;En(()=>{o.toggleVisibility(!0),l.toggleVisibility(!1),a(o,n)});function u(y){t(0,n=y),a(o,y)}function s(){o.toggleVisibility(!0),l.toggleVisibility(!1),a(o,n)}function c(){console.log("focus in"),o.toggleVisibility(!1),l.toggleVisibility(!0),l.focus()}function f(y){y.key===" "&&c()}function m(y){Vt[y?"unshift":"push"](()=>{l=y,t(3,l)})}function p(){n=this.value,t(0,n)}let h=()=>s(),d=()=>i(n);function g(y){Vt[y?"unshift":"push"](()=>{o=y,t(2,o)})}let v=()=>c(),E=y=>f(y);return r.$$set=y=>{"value"in y&&t(0,n=y.value),"onValueChange"in y&&t(1,i=y.onValueChange),"render"in y&&t(7,a=y.render)},[n,i,o,l,s,c,f,a,u,m,p,h,d,g,v,E]}var Jd=class extends Te{constructor(e){super(),Be(this,e,e9,$7,Ie,{value:0,onValueChange:1,render:7,setValue:8},K7)}get setValue(){return this.$$.ctx[8]}},MF=Jd;var _F=require("obsidian"),sf=class extends Tt{constructor(e){super(e)}filterValue(e){return Fa(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return MF}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,t)=>this.renderInElement(e,t)}}renderInElement(e,t){e.empty(),_F.MarkdownRenderer.render(this.renderChild.plugin.app,t,e,this.renderChild.filePath,this.renderChild)}};var{window:Mu}=Ys;function t9(r){Bt(r,"svelte-aocwj",".mb-progress-bar-input.svelte-aocwj{height:32px;width:100%;border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);position:relative;cursor:col-resize}.mb-progress-bar-input.svelte-aocwj:focus-visible{box-shadow:0 0 0 3px var(--background-modifier-border-focus)}.mb-progress-bar-progress.svelte-aocwj{height:32px;background:var(--color-accent);border-radius:var(--mb-border-radius)}.mb-progress-bar-value.svelte-aocwj{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mb-progress-bar-label-left.svelte-aocwj{position:absolute;top:50%;transform:translate(0, -50%);left:var(--size-4-2)}.mb-progress-bar-label-right.svelte-aocwj{position:absolute;top:50%;transform:translate(0, -50%);right:var(--size-4-2)}")}function r9(r){let e,t,n,i,a,o,l,u,s,c,f,m,p,h;return{c(){e=ee("div"),t=ee("div"),i=Le(),a=ee("span"),o=Ye(r[0]),l=Le(),u=ee("span"),s=Ye(r[1]),c=Le(),f=ee("span"),m=Ye(r[2]),V(t,"class","mb-progress-bar-progress svelte-aocwj"),V(t,"style",n=`width: ${r[5](r[0])}%`),V(a,"class","mb-progress-bar-value svelte-aocwj"),V(u,"class","mb-progress-bar-label-left svelte-aocwj"),V(f,"class","mb-progress-bar-label-right svelte-aocwj"),V(e,"class","mb-progress-bar-input svelte-aocwj"),V(e,"tabindex","0"),V(e,"role","slider"),V(e,"aria-valuemin",r[1]),V(e,"aria-valuemax",r[2]),V(e,"aria-valuenow",r[0])},m(d,g){oe(d,e,g),ie(e,t),ie(e,i),ie(e,a),ie(a,o),ie(e,l),ie(e,u),ie(u,s),ie(e,c),ie(e,f),ie(f,m),r[14](e),p||(h=[Fe(Mu,"touchmove",r[8],{passive:!1}),Fe(Mu,"touchcancel",r[6]),Fe(Mu,"touchend",r[6]),Fe(Mu,"mousemove",r[8]),Fe(Mu,"mouseup",r[6]),Fe(t,"dragstart",r[13]),Fe(e,"keydown",r[9]),Fe(e,"mousedown",r[7]),Fe(e,"touchstart",r[7])],p=!0)},p(d,[g]){g&1&&n!==(n=`width: ${d[5](d[0])}%`)&&V(t,"style",n),g&1&&it(o,d[0]),g&2&&it(s,d[1]),g&4&&it(m,d[2]),g&2&&V(e,"aria-valuemin",d[1]),g&4&&V(e,"aria-valuemax",d[2]),g&1&&V(e,"aria-valuenow",d[0])},i:Me,o:Me,d(d){d&&ae(e),r[14](null),p=!1,Ke(h)}}}function n9(r,e){return Number.parseFloat((Math.round(r/e)*e).toFixed(15))}function i9(r,e,t){let{onValueChange:n}=e,{value:i}=e,{minValue:a}=e,{maxValue:o}=e,{stepSize:l}=e,u=!1,s,c=0,f;function m(C){t(0,i=C)}function p(C){t(0,i=C),n(C)}function h(C){return C=iu(C,a,o),qp(C,a,o,0,100)}function d(){t(3,u=!0)}function g(){t(3,u=!1)}function v(C){d(),E(C)}function E(C){if(!u)return;C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault();let S=C instanceof TouchEvent?C.touches[0].clientX:C.clientX;y(S)}function y(C){let S=s.getBoundingClientRect();C=iu(C,S.left,S.right);let A=qp(C,S.left,S.right,a,o);A=n9(A,l),p(A)}function D(C){c<50&&(c+=1);let S=Math.ceil(c/5);if(C.key==="ArrowUp"||C.key==="ArrowRight"){let A=iu(i+S,a,o);p(A)}if(C.key==="ArrowDown"||C.key==="ArrowLeft"){let A=iu(i-S,a,o);p(A)}window.clearTimeout(f),f=window.setTimeout(()=>c=1,100)}let x=()=>t(3,u=!0);function b(C){Vt[C?"unshift":"push"](()=>{s=C,t(4,s)})}return r.$$set=C=>{"onValueChange"in C&&t(10,n=C.onValueChange),"value"in C&&t(0,i=C.value),"minValue"in C&&t(1,a=C.minValue),"maxValue"in C&&t(2,o=C.maxValue),"stepSize"in C&&t(11,l=C.stepSize)},[i,a,o,u,s,h,g,v,E,D,n,l,m,x,b]}var Xd=class extends Te{constructor(e){super(),Be(this,e,i9,r9,Ie,{onValueChange:10,value:0,minValue:1,maxValue:2,stepSize:11,setValue:12},t9)}get setValue(){return this.$$.ctx[12]}},TF=Xd;var uf=class extends Tt{constructor(t){var n,i,a,o,l,u;super(t);if(this.minValue=(i=(n=this.renderChild.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.renderChild.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(l=this.renderChild.getArgument("stepSize"))==null?void 0:l.value)!=null?u:1,this.minValue>=this.maxValue)throw new mn("ERROR","can not create progress bar input field",`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`)}filterValue(t){return Yl(Ho(t),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return TF}rawReverseMapValue(t){return t}rawMapValue(t){return t}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function IF(r,e,t){let n=r.slice();return n[7]=e[t],n}function BF(r){let e,t=r[7].name+"",n,i;return{c(){e=ee("option"),n=Ye(t),e.__value=i=r[7].value,Ct(e,e.__value)},m(a,o){oe(a,e,o),ie(e,n)},p(a,o){o&2&&t!==(t=a[7].name+"")&&it(n,t),o&2&&i!==(i=a[7].value)&&(e.__value=i,Ct(e,e.__value))},d(a){a&&ae(e)}}}function a9(r){let e,t,n,i=at(r[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=BF(IF(r,i,o));return{c(){e=ee("select");for(let o=0;o<a.length;o+=1)a[o].c();V(e,"class","dropdown"),r[0]===void 0&&fn(()=>r[5].call(e))},m(o,l){oe(o,e,l);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);Hr(e,r[0],!0),t||(n=[Fe(e,"change",r[5]),Fe(e,"change",r[6])],t=!0)},p(o,[l]){if(l&2){i=at(o[1]);let u;for(u=0;u<i.length;u+=1){let s=IF(o,i,u);a[u]?a[u].p(s,l):(a[u]=BF(s),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}l&3&&Hr(e,o[0])},i:Me,o:Me,d(o){o&&ae(e),Rt(a,o),t=!1,Ke(n)}}}function o9(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(c){t(0,n=c)}function l(){a(n)}function u(){n=ki(this),t(0,n),t(1,i)}let s=()=>l();return r.$$set=c=>{"value"in c&&t(0,n=c.value),"options"in c&&t(1,i=c.options),"onValueChange"in c&&t(3,a=c.onValueChange)},[n,i,l,a,o,u,s]}var Qd=class extends Te{constructor(e){super(),Be(this,e,o9,a9,Ie,{value:0,options:1,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},OF=Qd;var lf=class extends Tt{constructor(t){super(t);this.options=this.renderChild.getArguments("option")}filterValue(t){return Sa(t)}getFallbackDefaultValue(){return null}getSvelteComponent(){return OF}rawMapValue(t){return t}rawReverseMapValue(t){return t}getMountArgs(){return{options:this.options}}};function s9(r){Bt(r,"svelte-qduskw",".mb-image-suggest-input.svelte-qduskw{background:var(--background-secondary);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:var(--size-4-2);width:100%}.mb-image-suggest-image.svelte-qduskw{width:100%}.mb-image-suggest-footer.svelte-qduskw{display:flex;flex-direction:row;color:var(--text-normal);align-items:baseline}.mb-image-suggest-footer-text.svelte-qduskw{flex:1;margin-left:var(--size-4-2)}")}function RF(r){let e,t;return{c(){e=ee("img"),V(e,"class","mb-image-suggest-image svelte-qduskw"),To(e.src,t=zo(r[0]))||V(e,"src",t),V(e,"alt",r[0])},m(n,i){oe(n,e,i)},p(n,i){i&1&&!To(e.src,t=zo(n[0]))&&V(e,"src",t),i&1&&V(e,"alt",n[0])},d(n){n&&ae(e)}}}function u9(r){let e,t,n,i,a=(r[0]||"no image selected")+"",o,l,u,s,c,f=r[0]&&RF(r);return{c(){e=ee("div"),f&&f.c(),t=Le(),n=ee("div"),i=ee("span"),o=Ye(a),l=Le(),u=ee("button"),u.textContent="Change Image",V(i,"class","mb-image-suggest-footer-text svelte-qduskw"),V(u,"class","btn btn-active"),V(n,"class","mb-image-suggest-footer svelte-qduskw"),V(e,"class","mb-image-suggest-input svelte-qduskw")},m(m,p){oe(m,e,p),f&&f.m(e,null),ie(e,t),ie(e,n),ie(n,i),ie(i,o),ie(n,l),ie(n,u),s||(c=[Fe(u,"click",r[1]),Fe(u,"keydown",r[2])],s=!0)},p(m,[p]){m[0]?f?f.p(m,p):(f=RF(m),f.c(),f.m(e,t)):f&&(f.d(1),f=null),p&1&&a!==(a=(m[0]||"no image selected")+"")&&it(o,a)},i:Me,o:Me,d(m){m&&ae(e),f&&f.d(),s=!1,Ke(c)}}}function l9(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(s){t(0,n=s)}function l(s){i()}function u(s){s.key===" "&&i()}return r.$$set=s=>{"value"in s&&t(0,n=s.value),"showSuggester"in s&&t(3,i=s.showSuggester),"onValueChange"in s&&t(4,a=s.onValueChange)},[n,l,u,i,a,o]}var Kd=class extends Te{constructor(e){super(),Be(this,e,l9,u9,Ie,{value:0,showSuggester:3,onValueChange:4,setValue:5},s9)}get setValue(){return this.$$.ctx[5]}},kF=Kd;var Gn=require("obsidian");var UF=require("obsidian");function c9(r){Bt(r,"svelte-civ1yc",".image-card-image.svelte-civ1yc{width:100%}.image-card-text.svelte-civ1yc{display:block;margin:var(--size-4-2);margin-bottom:var(--size-4-4)}")}function f9(r){let e,t,n,i,a,o,l,u;return{c(){e=ee("div"),t=ee("img"),i=Le(),a=ee("span"),o=Ye(r[0]),V(t,"class","image-card-image svelte-civ1yc"),To(t.src,n=zo(r[0]))||V(t,"src",n),V(t,"alt",r[0]),V(a,"class","image-card-text svelte-civ1yc"),V(e,"class","image-card svelte-civ1yc"),V(e,"role","button"),V(e,"tabindex","0")},m(s,c){oe(s,e,c),ie(e,t),ie(e,i),ie(e,a),ie(a,o),l||(u=[Fe(e,"click",r[3]),Fe(e,"keydown",r[4])],l=!0)},p(s,[c]){c&1&&!To(t.src,n=zo(s[0]))&&V(t,"src",n),c&1&&V(t,"alt",s[0]),c&1&&it(o,s[0])},i:Me,o:Me,d(s){s&&ae(e),l=!1,Ke(u)}}}function m9(r,e,t){let{image:n}=e,{onSelect:i}=e;function a(u,s){u.key===" "&&i(s)}let o=()=>i(n),l=u=>a(u,n);return r.$$set=u=>{"image"in u&&t(0,n=u.image),"onSelect"in u&&t(1,i=u.onSelect)},[n,i,a,o,l]}var $d=class extends Te{constructor(e){super(),Be(this,e,m9,f9,Ie,{image:0,onSelect:1},c9)}},PF=$d;function p9(r){Bt(r,"svelte-11gqek2",".mb-image-card-grid.svelte-11gqek2{display:grid;grid-template-columns:repeat(auto-fit, minmax(min(500px, 100%), 1fr));gap:var(--size-4-4)}")}function LF(r,e,t){let n=r.slice();return n[2]=e[t],n}function qF(r){let e,t;return e=new PF({props:{image:r[2].value,onSelect:r[1]}}),{c(){pt(e.$$.fragment)},m(n,i){ct(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.image=n[2].value),i&2&&(a.onSelect=n[1]),e.$set(a)},i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){qe(e.$$.fragment,n),t=!1},d(n){ft(e,n)}}}function d9(r){let e,t,n=at(r[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=qF(LF(r,n,o));let a=o=>qe(i[o],1,1,()=>{i[o]=null});return{c(){e=ee("div");for(let o=0;o<i.length;o+=1)i[o].c();V(e,"class","mb-image-card-grid svelte-11gqek2")},m(o,l){oe(o,e,l);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);t=!0},p(o,[l]){if(l&3){n=at(o[0]);let u;for(u=0;u<n.length;u+=1){let s=LF(o,n,u);i[u]?(i[u].p(s,l),_e(i[u],1)):(i[u]=qF(s),i[u].c(),_e(i[u],1),i[u].m(e,null))}for(fr(),u=n.length;u<i.length;u+=1)a(u);mr()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)_e(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)qe(i[l]);t=!1},d(o){o&&ae(e),Rt(i,o)}}}function h9(r,e,t){let{options:n}=e,{onSelect:i}=e;return r.$$set=a=>{"options"in a&&t(0,n=a.options),"onSelect"in a&&t(1,i=a.onSelect)},[n,i]}var eh=class extends Te{constructor(e){super(),Be(this,e,h9,d9,Ie,{options:0,onSelect:1},p9)}},VF=eh;var cf=class extends UF.Modal{constructor(t,n,i){super(t);this.options=n,this.onSelect=i}onOpen(){this.modalEl.style.width="100%",new VF({target:this.contentEl,props:{options:this.options,onSelect:t=>{this.onSelect(t),this.close()}}})}};function g9(r,e,t){let n=[];for(let i of e){let a=i.value;if(a.startsWith('"')&&a.endsWith('"'))a=a.substring(1,a.length-1);else{let l=new mn("ERROR","failed to get suggest options","expected suggest option query for image suggester to start and end with double quotation marks");new Gn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}let o=t.app.vault.getAbstractFileByPath(a);if(o==null){let l=new mn("ERROR","failed to get suggest options",`expected suggest option query ${a} for image suggester to exist`);new Gn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!(o instanceof Gn.TFolder)){let l=new mn("ERROR","failed to get suggest options",`expected suggest option query ${i.value} for image suggester to be a folder`);new Gn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}for(let l of o.children)l instanceof Gn.TFile&&zF(l.extension)&&n.push(new Ia(l.path,l.name))}for(let i of r){let a=Xl(i.value);if(!a){let l=new mn("ERROR","failed to get suggest options",`expected suggest option ${i.value} to be truthy`);new Gn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}let o=t.app.vault.getAbstractFileByPath(a);if(!o){let l=new mn("ERROR","failed to get suggest options",`expected suggest option ${i.value} for image suggester to exist`);new Gn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!(o instanceof Gn.TFile)){let l=new mn("ERROR","failed to get suggest options",`expected suggest option ${i.value} for image suggester to be a file`);new Gn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!zF(o.extension)){let l=new mn("ERROR","failed to get suggest options",`expected suggest option ${i.value} for image suggester to be an image file`);new Gn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}n.push(new Ia(o.path,o.name))}return n}function zF(r){return["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"].contains(r)}function v9(r){let e=r.renderChild.getArguments("option"),t=r.renderChild.getArguments("optionQuery");return g9(e,t,r.renderChild.plugin)}function WF(r,e){new cf(r.renderChild.plugin.app,v9(r),e).open()}var ff=class extends Tt{constructor(e){super(e)}filterValue(e){return Fa(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return kF}rawMapValue(e){return e}rawReverseMapValue(e){return Xl(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){WF(this,e=>this.setInternalValue(e))}};function HF(r,e,t){let n=r.slice();return n[11]=e[t],n[13]=t,n}function GF(r){let e;return{c(){e=ee("span"),e.textContent="Empty",V(e,"class","mb-list-empty")},m(t,n){oe(t,e,n)},p:Me,d(t){t&&ae(e)}}}function y9(r){let e,t;return e=new ai({props:{iconName:"x"}}),{c(){pt(e.$$.fragment)},m(n,i){ct(e,n,i),t=!0},p:Me,i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){qe(e.$$.fragment,n),t=!1},d(n){ft(e,n)}}}function jF(r){let e,t,n=r[11]+"",i,a,o,l,u;function s(){return r[8](r[13])}return o=new Gr({props:{$$slots:{default:[y9]},$$scope:{ctx:r}}}),o.$on("click",s),{c(){e=ee("div"),t=ee("span"),i=Ye(n),a=Le(),pt(o.$$.fragment),l=Le(),V(e,"class","mb-list-item")},m(c,f){oe(c,e,f),ie(e,t),ie(t,i),ie(e,a),ct(o,e,null),ie(e,l),u=!0},p(c,f){r=c,(!u||f&1)&&n!==(n=r[11]+"")&&it(i,n);let m={};f&16384&&(m.$$scope={dirty:f,ctx:r}),o.$set(m)},i(c){u||(_e(o.$$.fragment,c),u=!0)},o(c){qe(o.$$.fragment,c),u=!1},d(c){c&&ae(e),ft(o)}}}function ZF(r){let e,t=YF(r[0].length,r[1])+"",n,i;return{c(){e=ee("span"),n=Ye(t),V(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[1]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){oe(a,e,o),ie(e,n)},p(a,o){o&3&&t!==(t=YF(a[0].length,a[1])+"")&&it(n,t),o&3&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[1]?"mb-content-limit-indicator-overflow":""}`)&&V(e,"class",i)},d(a){a&&ae(e)}}}function x9(r){let e,t;return e=new ai({props:{iconName:"plus"}}),{c(){pt(e.$$.fragment)},m(n,i){ct(e,n,i),t=!0},p:Me,i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){qe(e.$$.fragment,n),t=!1},d(n){ft(e,n)}}}function b9(r){let e,t,n,i,a,o,l,u,s,c,f=at(r[0]),m=[];for(let g=0;g<f.length;g+=1)m[g]=jF(HF(r,f,g));let p=g=>qe(m[g],1,1,()=>{m[g]=null}),h=null;f.length||(h=GF(r));let d=r[1]!==void 0&&ZF(r);return l=new Gr({props:{disabled:!r[3],$$slots:{default:[x9]},$$scope:{ctx:r}}}),l.$on("click",r[10]),{c(){e=ee("div");for(let g=0;g<m.length;g+=1)m[g].c();h&&h.c(),t=Le(),n=ee("div"),i=ee("input"),a=Le(),d&&d.c(),o=Le(),pt(l.$$.fragment),V(e,"class","mb-list-items"),V(i,"type","text"),V(i,"tabindex","0"),V(i,"placeholder",r[2]),V(i,"maxlength",r[1]),V(n,"class","mb-list-input")},m(g,v){oe(g,e,v);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(e,null);h&&h.m(e,null),oe(g,t,v),oe(g,n,v),ie(n,i),Ct(i,r[3]),ie(n,a),d&&d.m(n,null),ie(n,o),ct(l,n,null),u=!0,s||(c=Fe(i,"input",r[9]),s=!0)},p(g,[v]){if(v&33){f=at(g[0]);let y;for(y=0;y<f.length;y+=1){let D=HF(g,f,y);m[y]?(m[y].p(D,v),_e(m[y],1)):(m[y]=jF(D),m[y].c(),_e(m[y],1),m[y].m(e,null))}for(fr(),y=f.length;y<m.length;y+=1)p(y);mr(),!f.length&&h?h.p(g,v):f.length?h&&(h.d(1),h=null):(h=GF(g),h.c(),h.m(e,null))}(!u||v&4)&&V(i,"placeholder",g[2]),(!u||v&2)&&V(i,"maxlength",g[1]),v&8&&i.value!==g[3]&&Ct(i,g[3]),g[1]!==void 0?d?d.p(g,v):(d=ZF(g),d.c(),d.m(n,o)):d&&(d.d(1),d=null);let E={};v&8&&(E.disabled=!g[3]),v&16384&&(E.$$scope={dirty:v,ctx:g}),l.$set(E)},i(g){if(!u){for(let v=0;v<f.length;v+=1)_e(m[v]);_e(l.$$.fragment,g),u=!0}},o(g){m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)qe(m[v]);qe(l.$$.fragment,g),u=!1},d(g){g&&(ae(e),ae(t),ae(n)),Rt(m,g),h&&h.d(),d&&d.d(),ft(l),s=!1,c()}}}function YF(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function D9(r,e,t){let{value:n}=e,{limit:i}=e,{placeholder:a}=e,{onValueChange:o}=e,l="";function u(h){t(0,n=h)}function s(){n.push(l),o(n),t(3,l=""),t(0,n)}function c(h){n.splice(h,1),o(n),t(0,n)}let f=h=>c(h);function m(){l=this.value,t(3,l)}let p=()=>s();return r.$$set=h=>{"value"in h&&t(0,n=h.value),"limit"in h&&t(1,i=h.limit),"placeholder"in h&&t(2,a=h.placeholder),"onValueChange"in h&&t(6,o=h.onValueChange)},[n,i,a,l,s,c,o,u,f,m,p]}var th=class extends Te{constructor(e){super(),Be(this,e,D9,b9,Ie,{value:0,limit:1,placeholder:2,onValueChange:6,setValue:7})}get setValue(){return this.$$.ctx[7]}},JF=th;var mf=class extends Tt{constructor(e){super(e)}filterValue(e){return Wo(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return JF}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"New Entry...",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function XF(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function QF(r){let e;return{c(){e=ee("span"),e.textContent="Empty",V(e,"class","mb-list-empty")},m(t,n){oe(t,e,n)},p:Me,d(t){t&&ae(e)}}}function w9(r){let e,t=r[9]+"",n;return{c(){e=ee("span"),n=Ye(t)},m(i,a){oe(i,e,a),ie(e,n)},p(i,a){a&1&&t!==(t=i[9]+"")&&it(n,t)},i:Me,o:Me,d(i){i&&ae(e)}}}function E9(r){let e,t,n;return t=new tf({props:{mdLink:Nu(`${r[9]}`)}}),{c(){e=ee("span"),pt(t.$$.fragment)},m(i,a){oe(i,e,a),ct(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=Nu(`${i[9]}`)),t.$set(o)},i(i){n||(_e(t.$$.fragment,i),n=!0)},o(i){qe(t.$$.fragment,i),n=!1},d(i){i&&ae(e),ft(t)}}}function C9(r){let e,t;return e=new ai({props:{iconName:"x"}}),{c(){pt(e.$$.fragment)},m(n,i){ct(e,n,i),t=!0},p:Me,i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){qe(e.$$.fragment,n),t=!1},d(n){ft(e,n)}}}function KF(r){let e,t,n,i,a,o,l,u,s=[E9,w9],c=[];function f(p,h){return h&1&&(t=null),t==null&&(t=!!rf(`${p[9]}`)),t?0:1}n=f(r,-1),i=c[n]=s[n](r);function m(){return r[8](r[11])}return o=new Gr({props:{$$slots:{default:[C9]},$$scope:{ctx:r}}}),o.$on("click",m),{c(){e=ee("div"),i.c(),a=Le(),pt(o.$$.fragment),l=Le(),V(e,"class","mb-list-item")},m(p,h){oe(p,e,h),c[n].m(e,null),ie(e,a),ct(o,e,null),ie(e,l),u=!0},p(p,h){r=p;let d=n;n=f(r,h),n===d?c[n].p(r,h):(fr(),qe(c[d],1,1,()=>{c[d]=null}),mr(),i=c[n],i?i.p(r,h):(i=c[n]=s[n](r),i.c()),_e(i,1),i.m(e,a));let g={};h&4096&&(g.$$scope={dirty:h,ctx:r}),o.$set(g)},i(p){u||(_e(i),_e(o.$$.fragment,p),u=!0)},o(p){qe(i),qe(o.$$.fragment,p),u=!1},d(p){p&&ae(e),c[n].d(),ft(o)}}}function F9(r){let e,t,n,i,a,o,l,u,s,c,f=at(r[0]),m=[];for(let d=0;d<f.length;d+=1)m[d]=KF(XF(r,f,d));let p=d=>qe(m[d],1,1,()=>{m[d]=null}),h=null;return f.length||(h=QF(r)),l=new ai({props:{iconName:"list"}}),{c(){e=ee("div");for(let d=0;d<m.length;d+=1)m[d].c();h&&h.c(),t=Le(),n=ee("div"),i=ee("div"),a=ee("div"),a.innerHTML="<span>Add Element...</span>",o=Le(),pt(l.$$.fragment),V(e,"class","mb-list-items"),V(a,"class","mb-suggest-text"),V(i,"class","mb-suggest-input"),V(i,"role","button"),V(i,"tabindex","0"),V(n,"class","mb-list-input")},m(d,g){oe(d,e,g);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(e,null);h&&h.m(e,null),oe(d,t,g),oe(d,n,g),ie(n,i),ie(i,a),ie(i,o),ct(l,i,null),u=!0,s||(c=[Fe(i,"click",r[2]),Fe(i,"keydown",r[3])],s=!0)},p(d,[g]){if(g&3){f=at(d[0]);let v;for(v=0;v<f.length;v+=1){let E=XF(d,f,v);m[v]?(m[v].p(E,g),_e(m[v],1)):(m[v]=KF(E),m[v].c(),_e(m[v],1),m[v].m(e,null))}for(fr(),v=f.length;v<m.length;v+=1)p(v);mr(),!f.length&&h?h.p(d,g):f.length?h&&(h.d(1),h=null):(h=QF(d),h.c(),h.m(e,null))}},i(d){if(!u){for(let g=0;g<f.length;g+=1)_e(m[g]);_e(l.$$.fragment,d),u=!0}},o(d){m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)qe(m[g]);qe(l.$$.fragment,d),u=!1},d(d){d&&(ae(e),ae(t),ae(n)),Rt(m,d),h&&h.d(),ft(l),s=!1,Ke(c)}}}function A9(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(m){t(0,n=m)}function l(m){n.push(m),t(0,n)}function u(m){n.splice(m,1),a(n),t(0,n)}function s(m){m.target instanceof HTMLAnchorElement||i()}function c(m){m.key===" "&&i()}let f=m=>u(m);return r.$$set=m=>{"value"in m&&t(0,n=m.value),"showSuggester"in m&&t(4,i=m.showSuggester),"onValueChange"in m&&t(5,a=m.onValueChange)},[n,u,s,c,i,a,o,l,f]}var rh=class extends Te{constructor(e){super(),Be(this,e,A9,F9,Ie,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},$F=rh;var pf=class extends Tt{constructor(e){super(e)}filterValue(e){return Wo(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return $F}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){af(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}};function e2(r,e,t){let n=r.slice();return n[26]=e[t][0],n[27]=e[t][1],n}function t2(r,e,t){let n=r.slice();return n[23]=e[t],n}function r2(r,e,t){let n=r.slice();return n[23]=e[t],n}function n2(r,e,t){let n=r.slice();return n[26]=e[t][0],n[27]=e[t][1],n}function S9(r){let e,t,n,i,a,o=at(Object.values(r[2])),l=[];for(let c=0;c<o.length;c+=1)l[c]=i2(t2(r,o,c));let u=at(Object.entries(r[1])),s=[];for(let c=0;c<u.length;c+=1)s[c]=a2(e2(r,u,c));return{c(){e=ee("select");for(let c=0;c<l.length;c+=1)l[c].c();t=Le(),n=ee("select");for(let c=0;c<s.length;c+=1)s[c].c();V(e,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&fn(()=>r[16].call(e)),V(n,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&fn(()=>r[18].call(n))},m(c,f){oe(c,e,f);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);Hr(e,r[5],!0),oe(c,t,f),oe(c,n,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);Hr(n,r[4],!0),i||(a=[Fe(e,"change",r[16]),Fe(e,"change",r[17]),Fe(n,"change",r[18]),Fe(n,"change",r[19])],i=!0)},p(c,f){if(f[0]&4){o=at(Object.values(c[2]));let m;for(m=0;m<o.length;m+=1){let p=t2(c,o,m);l[m]?l[m].p(p,f):(l[m]=i2(p),l[m].c(),l[m].m(e,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=o.length}if(f[0]&36&&Hr(e,c[5]),f[0]&2){u=at(Object.entries(c[1]));let m;for(m=0;m<u.length;m+=1){let p=e2(c,u,m);s[m]?s[m].p(p,f):(s[m]=a2(p),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}f[0]&18&&Hr(n,c[4])},d(c){c&&(ae(e),ae(t),ae(n)),Rt(l,c),Rt(s,c),i=!1,Ke(a)}}}function N9(r){let e,t,n,i,a,o=at(Object.entries(r[1])),l=[];for(let c=0;c<o.length;c+=1)l[c]=o2(n2(r,o,c));let u=at(Object.values(r[2])),s=[];for(let c=0;c<u.length;c+=1)s[c]=s2(r2(r,u,c));return{c(){e=ee("select");for(let c=0;c<l.length;c+=1)l[c].c();t=Le(),n=ee("select");for(let c=0;c<s.length;c+=1)s[c].c();V(e,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&fn(()=>r[12].call(e)),V(n,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&fn(()=>r[14].call(n))},m(c,f){oe(c,e,f);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);Hr(e,r[4],!0),oe(c,t,f),oe(c,n,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);Hr(n,r[5],!0),i||(a=[Fe(e,"change",r[12]),Fe(e,"change",r[13]),Fe(n,"change",r[14]),Fe(n,"change",r[15])],i=!0)},p(c,f){if(f[0]&2){o=at(Object.entries(c[1]));let m;for(m=0;m<o.length;m+=1){let p=n2(c,o,m);l[m]?l[m].p(p,f):(l[m]=o2(p),l[m].c(),l[m].m(e,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=o.length}if(f[0]&18&&Hr(e,c[4]),f[0]&4){u=at(Object.values(c[2]));let m;for(m=0;m<u.length;m+=1){let p=r2(c,u,m);s[m]?s[m].p(p,f):(s[m]=s2(p),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}f[0]&36&&Hr(n,c[5])},d(c){c&&(ae(e),ae(t),ae(n)),Rt(l,c),Rt(s,c),i=!1,Ke(a)}}}function i2(r){let e,t=r[23]+"",n,i;return{c(){e=ee("option"),n=Ye(t),e.__value=i=r[23],Ct(e,e.__value)},m(a,o){oe(a,e,o),ie(e,n)},p(a,o){o[0]&4&&t!==(t=a[23]+"")&&it(n,t),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&ae(e)}}}function a2(r){let e,t=r[27]+"",n,i;return{c(){e=ee("option"),n=Ye(t),e.__value=i=r[26],Ct(e,e.__value)},m(a,o){oe(a,e,o),ie(e,n)},p(a,o){o[0]&2&&t!==(t=a[27]+"")&&it(n,t),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&ae(e)}}}function o2(r){let e,t=r[27]+"",n,i;return{c(){e=ee("option"),n=Ye(t),e.__value=i=r[26],Ct(e,e.__value)},m(a,o){oe(a,e,o),ie(e,n)},p(a,o){o[0]&2&&t!==(t=a[27]+"")&&it(n,t),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&ae(e)}}}function s2(r){let e,t=r[23]+"",n,i;return{c(){e=ee("option"),n=Ye(t),e.__value=i=r[23],Ct(e,e.__value)},m(a,o){oe(a,e,o),ie(e,n)},p(a,o){o[0]&4&&t!==(t=a[23]+"")&&it(n,t),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&ae(e)}}}function M9(r){let e,t,n,i,a;function o(s,c){return s[0]?N9:S9}let l=o(r,[-1,-1]),u=l(r);return{c(){e=ee("div"),u.c(),t=Le(),n=ee("input"),V(n,"class","mb-date-input-year-input mb-input-element-group-element"),V(n,"type","number"),V(n,"tabindex","0"),V(n,"max","9999"),V(n,"min","0"),V(e,"class","mb-input-element-group")},m(s,c){oe(s,e,c),u.m(e,null),ie(e,t),ie(e,n),Ct(n,r[3]),i||(a=[Fe(n,"input",r[20]),Fe(n,"input",r[21])],i=!0)},p(s,c){l===(l=o(s,c))&&u?u.p(s,c):(u.d(1),u=l(s),u&&(u.c(),u.m(e,t))),c[0]&8&&Ri(n.value)!==s[3]&&Ct(n,s[3])},i:Me,o:Me,d(s){s&&ae(e),u.d(),i=!1,Ke(a)}}}function _9(r,e,t){let{value:n}=e,{useUsInputOrder:i}=e,{onValueChange:a}=e,o={},l={},u,s,c;En(()=>{t(1,o={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"});for(let F=1;F<=31;F++)t(2,l[F.toString()]=F.toString(),l);t(3,u=n.year().toString()),t(4,s=n.month().toString()),t(5,c=n.date().toString())});function f(F){t(9,n=F),t(3,u=n.year().toString()),t(4,s=n.month().toString()),t(5,c=n.date().toString())}function m(){let F=Number.parseInt(u),I=Number.isNaN(F)?qr.getDefaultYear():F;n.year(I),a(n)}function p(){n.month(s);let F=d(n.date());n.date(F),t(5,c=F.toString()),a(n)}function h(){let F=Number.parseInt(c),I=d(F);n.date(I),t(5,c=I.toString()),a(n)}function d(F){return Number.isNaN(F)?qr.getDefaultDay():F<1?1:F>n.daysInMonth()?n.daysInMonth():F}function g(){s=ki(this),t(4,s),t(1,o)}let v=()=>p();function E(){c=ki(this),t(5,c),t(2,l)}let y=()=>h();function D(){c=ki(this),t(5,c),t(2,l)}let x=()=>h();function b(){s=ki(this),t(4,s),t(1,o)}let C=()=>p();function S(){u=Ri(this.value),t(3,u)}let A=()=>m();return r.$$set=F=>{"value"in F&&t(9,n=F.value),"useUsInputOrder"in F&&t(0,i=F.useUsInputOrder),"onValueChange"in F&&t(10,a=F.onValueChange)},[i,o,l,u,s,c,m,p,h,n,a,f,g,v,E,y,D,x,b,C,S,A]}var nh=class extends Te{constructor(e){super(),Be(this,e,_9,M9,Ie,{value:9,useUsInputOrder:0,onValueChange:10,setValue:11},null,[-1,-1])}get setValue(){return this.$$.ctx[11]}},u2=nh;var df=class extends Tt{constructor(e){super(e)}filterValue(e){return Aa(e)}getFallbackDefaultValue(){return qr.getDefaultDate()}getSvelteComponent(){return u2}rawMapValue(e){return qr.stringify(e)}rawReverseMapValue(e){return qr.parse(e)}getMountArgs(){return{useUsInputOrder:this.renderChild.plugin.settings.useUsDateInputOrder}}};var ih=class{constructor(){this._hour=On.getDefaultHour(),this._minute=On.getDefaultHour()}getHour(){return this._hour}setHour(e){if(e<0||e>24){this._hour=On.getDefaultHour();return}this._hour=e}getMinute(){return this._minute}setMinute(e){if(e<0||e>59){this._minute=On.getDefaultMinute();return}this._minute=e}getUniformHour(){return this.getHour().toString().padStart(2,"0")}getUniformMinute(){return this.getMinute().toString().padStart(2,"0")}setHourFromString(e){let t=Number.parseInt(e);this.setHour(Number.isNaN(t)?On.getDefaultHour():t)}setMinuteFromString(e){let t=Number.parseInt(e);this.setMinute(Number.isNaN(t)?On.getDefaultMinute():t)}},On=class{static parse(e){if(!e)return;let t=On.getDefaultTime(),n=e.split(":");if(n.length===2)return t.setHourFromString(n[0]),t.setMinuteFromString(n[1]),t}static stringify(e){return`${e.getUniformHour()}:${e.getUniformMinute()}`}static getDefaultTime(){return new ih}static getDefaultHour(){return 0}static getDefaultMinute(){return 0}};function l2(r,e,t){let n=r.slice();return n[13]=e[t][0],n[14]=e[t][1],n}function c2(r,e,t){let n=r.slice();return n[17]=e[t][0],n[18]=e[t][1],n}function f2(r){let e,t=r[18]+"",n,i;return{c(){e=ee("option"),n=Ye(t),e.__value=i=r[17],Ct(e,e.__value)},m(a,o){oe(a,e,o),ie(e,n)},p(a,o){o&1&&t!==(t=a[18]+"")&&it(n,t),o&1&&i!==(i=a[17])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&ae(e)}}}function m2(r){let e,t=r[14]+"",n,i;return{c(){e=ee("option"),n=Ye(t),e.__value=i=r[13],Ct(e,e.__value)},m(a,o){oe(a,e,o),ie(e,n)},p(a,o){o&2&&t!==(t=a[14]+"")&&it(n,t),o&2&&i!==(i=a[13])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&ae(e)}}}function T9(r){let e,t,n,i,a,o,l=at(Object.entries(r[0])),u=[];for(let f=0;f<l.length;f+=1)u[f]=f2(c2(r,l,f));let s=at(Object.entries(r[1])),c=[];for(let f=0;f<s.length;f+=1)c[f]=m2(l2(r,s,f));return{c(){e=ee("div"),t=ee("select");for(let f=0;f<u.length;f+=1)u[f].c();n=Le(),i=ee("select");for(let f=0;f<c.length;f+=1)c[f].c();V(t,"class","dropdown mb-input-element-group-element"),r[2]===void 0&&fn(()=>r[9].call(t)),V(i,"class","dropdown mb-input-element-group-element"),r[3]===void 0&&fn(()=>r[11].call(i)),V(e,"class","mb-input-element-group")},m(f,m){oe(f,e,m),ie(e,t);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(t,null);Hr(t,r[2],!0),ie(e,n),ie(e,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(i,null);Hr(i,r[3],!0),a||(o=[Fe(t,"change",r[9]),Fe(t,"change",r[10]),Fe(i,"change",r[11]),Fe(i,"change",r[12])],a=!0)},p(f,[m]){if(m&1){l=at(Object.entries(f[0]));let p;for(p=0;p<l.length;p+=1){let h=c2(f,l,p);u[p]?u[p].p(h,m):(u[p]=f2(h),u[p].c(),u[p].m(t,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=l.length}if(m&5&&Hr(t,f[2]),m&2){s=at(Object.entries(f[1]));let p;for(p=0;p<s.length;p+=1){let h=l2(f,s,p);c[p]?c[p].p(h,m):(c[p]=m2(h),c[p].c(),c[p].m(i,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=s.length}m&10&&Hr(i,f[3])},i:Me,o:Me,d(f){f&&ae(e),Rt(u,f),Rt(c,f),a=!1,Ke(o)}}}function I9(r,e,t){let{value:n}=e,{onValueChange:i}=e,a={},o={},l,u;En(()=>{for(let g=0;g<=24;g++)t(0,a[g.toString()]=g.toString().padStart(2,"0"),a);for(let g=0;g<=59;g++)t(1,o[g.toString()]=g.toString().padStart(2,"0"),o);t(3,u=n.getMinute().toString()),t(2,l=n.getHour().toString())});function s(g){t(6,n=g),t(3,u=n.getMinute().toString()),t(2,l=n.getHour().toString())}function c(){n.setMinuteFromString(u),i(n)}function f(){n.setHourFromString(l),i(n)}function m(){l=ki(this),t(2,l),t(0,a)}let p=()=>f();function h(){u=ki(this),t(3,u),t(1,o)}let d=()=>c();return r.$$set=g=>{"value"in g&&t(6,n=g.value),"onValueChange"in g&&t(7,i=g.onValueChange)},[a,o,l,u,c,f,n,i,s,m,p,h,d]}var ah=class extends Te{constructor(e){super(),Be(this,e,I9,T9,Ie,{value:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},p2=ah;var hf=class extends Tt{constructor(e){super(e)}filterValue(e){return Aa(e)}getFallbackDefaultValue(){return On.getDefaultTime()}getSvelteComponent(){return p2}rawMapValue(e){return On.stringify(e)}rawReverseMapValue(e){return On.parse(e)}};var gf=class{constructor(e){this.plugin=e}createInputField(e,t,n){if(e!=="invalid"&&this.checkRenderChildTypeAllowed(e,t),e==="toggle")return new Jc(n);if(e==="slider")return new Qc(n);if(e==="text")return new Xc(n);if(e==="textArea")return new Fu(n);if(e==="text_area")return new Fu(n);if(e==="select")return new Kc(n);if(e==="multiSelect")return new Au(n);if(e==="multi_select")return new Au(n);if(e==="datePicker")return new Su(n);if(e==="date_picker")return new Su(n);if(e==="number")return new ef(n);if(e==="suggester")return new of(n);if(e==="editor")return new sf(n);if(e==="progressBar")return new uf(n);if(e==="inlineSelect")return new lf(n);if(e==="imageSuggester")return new ff(n);if(e==="list")return new mf(n);if(e==="listSuggester")return new pf(n);if(e==="date")return new df(n);if(e==="time")return new hf(n)}checkRenderChildTypeAllowed(e,t){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=tE[e];if(t==="block"&&!n.allowInBlock)throw new Yt("CRITICAL","can not create input field",`'${e}' is not allowed as code block`);if(t==="inline"&&!n.allowInline)throw new Yt("CRITICAL","can not create input field",`'${e}' is not allowed as inline code block`)}};var ps=class{constructor(e){this.renderChild=e,this.hidden=!1}async render(e){var t,n;this.container=e,this.container.addClass("mb-view-text"),this.hidden=(n=(t=this.renderChild.getArgument("hidden"))==null?void 0:t.value)!=null?n:!1,this.hidden&&this.container.addClass("mb-view-hidden"),await this._render(e),await this.update(this.getDefaultDisplayValue())}async update(e){var t;if(this.container)try{let n=(t=e==null?void 0:e.toString())!=null?t:"";this.hidden||(this.container.empty(),await this._update(this.container,n)),this.container.removeClass("mb-error")}catch(n){n instanceof Error&&(this.container.innerText=n.message,this.container.addClass("mb-error"))}}};function ur(){return ur=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ur.apply(this,arguments)}var oh={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function tt(r){return typeof r=="number"}function $e(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Sn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function ia(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function nn(r){return r&&r.constructor.prototype.isUnit===!0||!1}function gr(r){return typeof r=="string"}var Et=Array.isArray;function He(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Nn(r){return Array.isArray(r)||He(r)}function vo(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Fi(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function ds(r){return r&&r.constructor.prototype.isRange===!0||!1}function Ba(r){return r&&r.constructor.prototype.isIndex===!0||!1}function d2(r){return typeof r=="boolean"}function h2(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function vf(r){return r&&r.constructor.prototype.isHelp===!0||!1}function g2(r){return typeof r=="function"}function v2(r){return r instanceof Date}function y2(r){return r instanceof RegExp}function _u(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Sn(r)&&!ia(r))}function x2(r){return r===null}function b2(r){return r===void 0}function jn(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function an(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function D2(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function w2(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function E2(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function vt(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tu(r){return vt(r)||er(r)&&r.args.length===1&&vt(r.args[0])&&"-+~".includes(r.op)}function zi(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mn(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function oi(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function yt(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Oa(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function er(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function on(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function C2(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function F2(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Zt(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function yf(r){return r&&r.constructor.prototype.isChain===!0||!1}function wt(r){var e=typeof r;return e==="object"?r===null?"null":$e(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Xe(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return Xe(t)});if(r instanceof Date)return new Date(r.valueOf());if($e(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return B9(r,Xe)}function B9(r,e){var t={};for(var n in r)Ge(r,n)&&(t[n]=e(r[n]));return t}function xf(r,e){for(var t in e)Ge(e,t)&&(r[t]=e[t]);return r}function Ai(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!Ai(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!Ai(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function A2(r,e,t){var n=!0,i;Object.defineProperty(r,e,{get:function(){return n&&(i=t(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function Ge(r,e){return r&&Object.hasOwnProperty.call(r,e)}function S2(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=r[i];a!==void 0&&(t[i]=a)}return t}var N2=["Matrix","Array"],M2=["number","BigNumber","Fraction"];var ve=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(oh)};ur(ve,oh,{MATRIX_OPTIONS:N2,NUMBER_OPTIONS:M2});var Dh=wr(lh(),1);function Ue(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var si=Math.sign||function(r){return r>0?1:r<0?-1:0},_2=Math.log2||function(e){return Math.log(e)/Math.LN2},T2=Math.log10||function(e){return Math.log(e)/Math.LN10},bf=Math.log1p||function(r){return Math.log(r+1)},I2=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},B2=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function ch(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ue(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Ue(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var o="";return r<0&&(r=-r,o="-"),"".concat(o).concat(i).concat(r.toString(e)).concat(a)}function Si(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var t="auto",n,i;if(e&&(e.notation&&(t=e.notation),tt(e)?n=e:tt(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return fh(r,n);case"exponential":return O2(r,n);case"engineering":return O9(r,n);case"bin":return ch(r,2,i);case"oct":return ch(r,8,i);case"hex":return ch(r,16,i);case"auto":return R9(r,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Df(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(l){return i-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function O9(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Df(r),n=wf(t,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(tt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var l=Math.abs(i-o)-(a.length-1),u=0;u<l;u++)a.push(0);for(var s=Math.abs(i-o),c=1;s>0;)c++,s--;var f=a.slice(c).join(""),m=tt(e)&&f.length||f.match(/[1-9]/)?"."+f:"",p=a.slice(0,c).join("")+m+"e"+(i>=0?"+":"")+o.toString();return n.sign+p}function fh(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Df(r),n=typeof e=="number"?wf(t,t.exponent+1+e):t,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(hs(o-i.length))),a<0&&(i=hs(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function O2(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Df(r),n=e?wf(t,e):t,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(hs(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function R9(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=t&&t.lowerExp!==void 0?t.lowerExp:-3,i=t&&t.upperExp!==void 0?t.upperExp:5,a=Df(r),o=e?wf(a,e):a;if(o.exponent<n||o.exponent>=i)return O2(r,e);var l=o.coefficients,u=o.exponent;l.length<e&&(l=l.concat(hs(e-l.length))),l=l.concat(hs(u-l.length+1+(l.length<e?e-l.length:0))),l=hs(-u).concat(l);var s=u>0?u:0;return s<l.length-1&&l.splice(s+1,0,"."),o.sign+l.join("")}function wf(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),t.exponent++,a++),a--,n[a]++}}return t}function hs(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function R2(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var k9=Number.EPSILON||2220446049250313e-31;function Ar(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var n=Math.abs(r-e);return n<k9?!0:n<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}var k2=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},P2=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},L2=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},Ef=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},q2=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},Cf=Math.tanh||function(r){var e=Math.exp(2*r);return(e-1)/(e+1)};function V2(r,e){var t=r>0?!0:r<0?!1:1/r===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return t^n?-r:r}function mh(r,e,t){var n=r.constructor,i=new n(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ue(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function z2(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var t="auto",n,i;if(e!==void 0&&(e.notation&&(t=e.notation),typeof e=="number"?n=e:e.precision!==void 0&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return L9(r,n);case"exponential":return U2(r,n);case"engineering":return P9(r,n);case"bin":return mh(r,2,i);case"oct":return mh(r,8,i);case"hex":return mh(r,16,i);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,o=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var l,u=r.toSignificantDigits(n),s=u.e;return s>=a&&s<o?l=u.toFixed():l=U2(r,n),l.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function P9(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=r.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+n.toString()}function U2(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function L9(r,e){return r.toFixed(e)}function W2(r,e){var t=r.length-e.length,n=r.length;return r.substring(t,n)===e}function rt(r,e){var t=q9(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function q9(r,e){if(typeof r=="number")return Si(r,e);if($e(r))return z2(r,e);if(V9(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return H2(r,e);if(gr(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>'"'+n+'": '+rt(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function Iu(r){for(var e=String(r),t="",n=0;n<e.length;){var i=e.charAt(n);i==="\\"?(t+=i,n++,i=e.charAt(n),(i===""||'"\\/bfnrtu'.indexOf(i)===-1)&&(t+="\\"),t+=i):i==='"'?t+='\\"':t+=i,n++}return'"'+t+'"'}function Vr(r){var e=String(r);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function H2(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=H2(r[i],e);return t+="]",t}else return rt(r,e)}function V9(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function Ff(r,e){if(!gr(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+wt(r)+", index: 0)");if(!gr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+wt(e)+", index: 1)");return r===e?0:r>e?1:-1}function ot(r,e,t){if(!(this instanceof ot))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ot.prototype=new RangeError;ot.prototype.constructor=RangeError;ot.prototype.name="DimensionError";ot.prototype.isDimensionError=!0;function sn(r,e,t){if(!(this instanceof sn))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}sn.prototype=new RangeError;sn.prototype.constructor=RangeError;sn.prototype.name="IndexError";sn.prototype.isIndexError=!0;function Qe(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function G2(r,e,t){var n,i=r.length;if(i!==e[t])throw new ot(i,e[t]);if(t<e.length-1){var a=t+1;for(n=0;n<i;n++){var o=r[n];if(!Array.isArray(o))throw new ot(e.length-1,e.length,"<");G2(r[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new ot(e.length+1,e.length,">")}function dh(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new ot(r.length,0)}else G2(r,e,0)}function Bu(r,e){var t=r.isMatrix?r._size:Qe(r),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new ot(i,t[a])})}function Pt(r,e){if(r!==void 0){if(!tt(r)||!Ue(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new sn(r,e)}}function yo(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&Et(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(gr(t)&&t.length===0)return!0}return!1}function Ni(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!tt(i)||!Ue(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+rt(e)+")")}),(tt(r)||$e(r))&&(r=[r]);var n=t!==void 0?t:0;return ph(r,e,0,n),r}function ph(r,e,t,n){var i,a,o=r.length,l=e[t],u=Math.min(o,l);if(r.length=l,t<e.length-1){var s=t+1;for(i=0;i<u;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),ph(a,e,s,n);for(i=u;i<l;i++)a=[],r[i]=a,ph(a,e,s,n)}else{for(i=0;i<u;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=u;i<l;i++)r[i]=n}}function Ou(r,e){var t=dt(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ot(0,n,"!=");e=Ru(e,n);var i=j2(e);if(n!==i)throw new ot(i,n,"!=");try{return U9(t,e)}catch(a){throw a instanceof ot?new ot(i,n,"!="):a}}function Ru(r,e){var t=j2(r),n=r.slice(),i=-1,a=r.indexOf(i),o=r.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var l=a>=0,u=e%t===0;if(l)if(u)n[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function j2(r){return r.reduce((e,t)=>e*t,1)}function U9(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=t.length/a,l=0;l<o;l++)n.push(t.slice(l*a,(l+1)*a));t=n}return t}function gs(r,e){for(var t=e||Qe(r);Array.isArray(r)&&r.length===1;)r=r[0],t.shift();for(var n=t.length;t[n-1]===1;)n--;return n<t.length&&(r=Z2(r,n,0),t.length=n),r}function Z2(r,e,t){var n,i;if(t<e){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=Z2(r[n],e,a)}else for(;Array.isArray(r);)r=r[0];return r}function Af(r,e,t,n){var i=n||Qe(r);if(t)for(var a=0;a<t;a++)r=[r],i.unshift(1);for(r=Y2(r,e,0);i.length<e;)i.push(1);return r}function Y2(r,e,t){var n,i;if(Array.isArray(r)){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=Y2(r[n],e,a)}else for(var o=t;o<e;o++)r=[r];return r}function dt(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function Rn(r,e){return Array.prototype.map.call(r,e)}function Ra(r,e){Array.prototype.forEach.call(r,e)}function Sf(r,e){if(Qe(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)}function vs(r,e){if(Qe(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t=>e.test(t))}function hh(r,e){return Array.prototype.join.call(r,e)}function aa(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?t++:t=0,e.push({value:r[n],identifier:t});return e}function ys(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function ka(r,e){for(var t,n=0,i=0;i<r.length;i++){var a=r[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var l=o?ka(a,e):e(a);if(t===void 0)t=l;else if(t!==l)return"mixed"}return t}function J2(r,e,t,n){if(n<t){if(r.length!==e.length)throw new ot(r.length,e.length);for(var i=[],a=0;a<r.length;a++)i[a]=J2(r[a],e[a],t,n+1);return i}else return r.concat(e)}function gh(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return J2(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function z9(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(m=>m.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var l=e[o],u=n[o],s=0;s<u;s++){var c=i-u+s;l[s]>a[c]&&(a[c]=l[s])}for(var f=0;f<e.length;f++)ku(e[f],a);return a}function ku(r,e){for(var t=e.length,n=r.length,i=0;i<n;i++){var a=t-n+i;if(r[i]<e[a]&&r[i]>1||r[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(e[a]))}}function vh(r,e){var t=Qe(r);if(Ai(t,e))return r;ku(t,e);var n=z9(t,e),i=n.length,a=[...Array(i-t.length).fill(1),...t],o=H9(r);t.length<i&&(o=Ou(o,a),t=Qe(o));for(var l=0;l<i;l++)t[l]<n[l]&&(o=W9(o,n[l],l),t=Qe(o));return o}function W9(r,e,t){return gh(...Array(e).fill(r),t)}function H9(r){return ur([],r)}function N(r,e,t,n){function i(a){var o=S2(a,e.map(Z9));return G9(r,e,a),t(o)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function G9(r,e,t){var n=e.filter(a=>!j9(a)).every(a=>t[a]!==void 0);if(!n){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function j9(r){return r&&r[0]==="?"}function Z9(r){return r&&r[0]==="?"?r.slice(1):r}function ar(r,e){if($2(r)&&Q2(r,e))return r[e];throw typeof r[e]=="function"&&Nf(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Wi(r,e,t){if($2(r)&&Q2(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function X2(r,e){return e in r}function Q2(r,e){return!r||typeof r!="object"?!1:Ge(Y9,e)?!0:!(e in Object.prototype||e in Function.prototype)}function K2(r,e){if(!Nf(r,e))throw new Error('No access to method "'+e+'"');return r[e]}function Nf(r,e){return r==null||typeof r[e]!="function"||Ge(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Ge(J9,e)?!0:!(e in Object.prototype||e in Function.prototype)}function $2(r){return typeof r=="object"&&r&&r.constructor===Object}var Y9={length:!0,name:!0},J9={toString:!0,valueOf:!0,toLocaleString:!0};var Pu=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return ar(this.wrappedObject,e)}set(e,t){return Wi(this.wrappedObject,e,t),this}has(e){return X2(this.wrappedObject,e)}};function Hi(){return new Map}function oa(r){if(!r)return Hi();if(Mf(r))return r;if(_u(r))return new Pu(r);throw new Error("createMap can create maps from objects or Maps")}function eA(r){if(r instanceof Pu)return r.wrappedObject;var e={};for(var t of r.keys()){var n=r.get(t);Wi(e,t,n)}return e}function Mf(r){return r?r instanceof Map||r instanceof Pu||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function yh(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(var i of t)if(i){if(Mf(i))for(var a of i.keys())r.set(a,i.get(a));else if(_u(i))for(var o of Object.keys(i))r.set(o,i[o])}return r}var tA=function(){return tA=Dh.default.create,Dh.default},X9=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],wh=N("typed",X9,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:a}=e,o=tA();return o.clear(),o.addTypes([{name:"number",test:tt},{name:"Complex",test:Sn},{name:"BigNumber",test:$e},{name:"Fraction",test:ia},{name:"Unit",test:nn},{name:"identifier",test:l=>gr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:gr},{name:"Chain",test:yf},{name:"Array",test:Et},{name:"Matrix",test:He},{name:"DenseMatrix",test:vo},{name:"SparseMatrix",test:Fi},{name:"Range",test:ds},{name:"Index",test:Ba},{name:"boolean",test:d2},{name:"ResultSet",test:h2},{name:"Help",test:vf},{name:"function",test:g2},{name:"Date",test:v2},{name:"RegExp",test:y2},{name:"null",test:x2},{name:"undefined",test:b2},{name:"AccessorNode",test:jn},{name:"ArrayNode",test:an},{name:"AssignmentNode",test:D2},{name:"BlockNode",test:w2},{name:"ConditionalNode",test:E2},{name:"ConstantNode",test:vt},{name:"FunctionNode",test:Mn},{name:"FunctionAssignmentNode",test:zi},{name:"IndexNode",test:oi},{name:"Node",test:yt},{name:"ObjectNode",test:Oa},{name:"OperatorNode",test:er},{name:"ParenthesisNode",test:on},{name:"RangeNode",test:C2},{name:"RelationalNode",test:F2},{name:"SymbolNode",test:Zt},{name:"Map",test:Mf},{name:"Object",test:_u}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(t||xh(u),R2(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new t(u)}},{from:"number",to:"Complex",convert:function(u){return n||_f(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||_f(u),new n(u.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||_f(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||bh(u);var s=new a(u);if(s.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(u){var s=Number(u);if(isNaN(s))throw new Error('Cannot convert "'+u+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(u){t||xh(u);try{return new t(u)}catch(s){throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(u){a||bh(u);try{return new a(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||_f(u);try{return new n(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return t||xh(u),new t(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||bh(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||Q9(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),o.onMismatch=(l,u,s)=>{var c=o.createError(l,u,s);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&Nn(u[0])&&s.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o.onMismatch=(l,u,s)=>{var c=o.createError(l,u,s);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&Nn(u[0])&&s.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o});function xh(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function _f(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Q9(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function bh(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var K9="ResultSet",$9=[],Eh=N(K9,$9,()=>{function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(e){return new r(e.entries)},r},{isClass:!0});var xs=9e15,Va=1e9,Ch="0123456789abcdef",If="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Bf="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Fh={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-xs,maxE:xs,crypto:!1},aA,sa,xt=!0,Rf="[DecimalError] ",qa=Rf+"Invalid argument: ",oA=Rf+"Precision limit exceeded",sA=Rf+"crypto unavailable",uA="[object Decimal]",pn=Math.floor,Ur=Math.pow,eq=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,tq=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,rq=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,lA=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_i=1e7,ht=7,nq=9007199254740991,iq=If.length-1,Ah=Bf.length-1,Se={toStringTag:uA};Se.absoluteValue=Se.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),ut(r)};Se.ceil=function(){return ut(new this.constructor(this),this.e+1,2)};Se.clampedTo=Se.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(qa+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};Se.comparedTo=Se.cmp=function(r){var e,t,n,i,a=this,o=a.d,l=(r=new a.constructor(r)).d,u=a.s,s=r.s;if(!o||!l)return!u||!s?NaN:u!==s?u:o===l?0:!o^u<0?1:-1;if(!o[0]||!l[0])return o[0]?u:l[0]?-s:0;if(u!==s)return u;if(a.e!==r.e)return a.e>r.e^u<0?1:-1;for(n=o.length,i=l.length,e=0,t=n<i?n:i;e<t;++e)if(o[e]!==l[e])return o[e]>l[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};Se.cosine=Se.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+ht,n.rounding=1,t=aq(n,dA(n,t)),n.precision=r,n.rounding=e,ut(sa==2||sa==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};Se.cubeRoot=Se.cbrt=function(){var r,e,t,n,i,a,o,l,u,s,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(xt=!1,a=c.s*Ur(c.s*c,1/3),!a||Math.abs(a)==1/0?(t=un(c.d),r=c.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=Ur(t,1/3),r=pn((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=c.s):n=new f(a.toString()),o=(r=f.precision)+3;;)if(l=n,u=l.times(l).times(l),s=u.plus(c),n=or(s.plus(c).times(l),s.plus(u),o+2,1),un(l.d).slice(0,o)===(t=un(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(ut(l,r+1,0),l.times(l).times(l).eq(c))){n=l;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ut(n,r+1,1),e=!n.times(n).times(n).eq(c));break}return xt=!0,ut(n,r,f.rounding,e)};Se.decimalPlaces=Se.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-pn(this.e/ht))*ht,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};Se.dividedBy=Se.div=function(r){return or(this,new this.constructor(r))};Se.dividedToIntegerBy=Se.divToInt=function(r){var e=this,t=e.constructor;return ut(or(e,new t(r),0,1,1),t.precision,t.rounding)};Se.equals=Se.eq=function(r){return this.cmp(r)===0};Se.floor=function(){return ut(new this.constructor(this),this.e+1,3)};Se.greaterThan=Se.gt=function(r){return this.cmp(r)>0};Se.greaterThanOrEqualTo=Se.gte=function(r){var e=this.cmp(r);return e==1||e===0};Se.hyperbolicCosine=Se.cosh=function(){var r,e,t,n,i,a=this,o=a.constructor,l=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return l;t=o.precision,n=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(r=Math.ceil(i/3),e=(1/Pf(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=bs(o,1,a.times(e),new o(1),!0);for(var u,s=r,c=new o(8);s--;)u=a.times(a),a=l.minus(u.times(c.minus(u.times(c))));return ut(a,o.precision=t,o.rounding=n,!0)};Se.hyperbolicSine=Se.sinh=function(){var r,e,t,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=bs(a,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/Pf(5,r)),i=bs(a,2,i,i,!0);for(var o,l=new a(5),u=new a(16),s=new a(20);r--;)o=i.times(i),i=i.times(l.plus(o.times(u.times(o).plus(s))))}return a.precision=e,a.rounding=t,ut(i,e,t,!0)};Se.hyperbolicTangent=Se.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,or(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};Se.inverseCosine=Se.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,a=t.rounding;return n!==-1?n===0?e.isNeg()?Mi(t,i,a):new t(0):new t(NaN):e.isZero()?Mi(t,i+4,a).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=Mi(t,i+4,a).times(.5),t.precision=i,t.rounding=a,r.minus(e))};Se.inverseHyperbolicCosine=Se.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,xt=!1,t=t.times(t).minus(1).sqrt().plus(t),xt=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};Se.inverseHyperbolicSine=Se.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,xt=!1,t=t.times(t).plus(1).sqrt().plus(t),xt=!0,n.precision=r,n.rounding=e,t.ln())};Se.inverseHyperbolicTangent=Se.atanh=function(){var r,e,t,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=a.precision,e=a.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?ut(new a(i),r,e,!0):(a.precision=t=n-i.e,i=or(i.plus(1),new a(1).minus(i),t+r,1),a.precision=r+4,a.rounding=1,i=i.ln(),a.precision=r,a.rounding=e,i.times(.5))):new a(NaN)};Se.inverseSine=Se.asin=function(){var r,e,t,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,n=a.rounding,e!==-1?e===0?(r=Mi(a,t+4,n).times(.5),r.s=i.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=n,i.times(2)))};Se.inverseTangent=Se.atan=function(){var r,e,t,n,i,a,o,l,u,s=this,c=s.constructor,f=c.precision,m=c.rounding;if(s.isFinite()){if(s.isZero())return new c(s);if(s.abs().eq(1)&&f+4<=Ah)return o=Mi(c,f+4,m).times(.25),o.s=s.s,o}else{if(!s.s)return new c(NaN);if(f+4<=Ah)return o=Mi(c,f+4,m).times(.5),o.s=s.s,o}for(c.precision=l=f+10,c.rounding=1,t=Math.min(28,l/ht+2|0),r=t;r;--r)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(xt=!1,e=Math.ceil(l/ht),n=1,u=s.times(s),o=new c(s),i=s;r!==-1;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===a.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),xt=!0,ut(o,c.precision=f,c.rounding=m,!0)};Se.isFinite=function(){return!!this.d};Se.isInteger=Se.isInt=function(){return!!this.d&&pn(this.e/ht)>this.d.length-2};Se.isNaN=function(){return!this.s};Se.isNegative=Se.isNeg=function(){return this.s<0};Se.isPositive=Se.isPos=function(){return this.s>0};Se.isZero=function(){return!!this.d&&this.d[0]===0};Se.lessThan=Se.lt=function(r){return this.cmp(r)<0};Se.lessThanOrEqualTo=Se.lte=function(r){return this.cmp(r)<1};Se.logarithm=Se.log=function(r){var e,t,n,i,a,o,l,u,s=this,c=s.constructor,f=c.precision,m=c.rounding,p=5;if(r==null)r=new c(10),e=!0;else{if(r=new c(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new c(NaN);e=r.eq(10)}if(t=s.d,s.s<0||!t||!t[0]||s.eq(1))return new c(t&&!t[0]?-1/0:s.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(xt=!1,l=f+p,o=La(s,l),n=e?Of(c,l+10):La(r,l),u=or(o,n,l,1),Lu(u.d,i=f,m))do if(l+=10,o=La(s,l),n=e?Of(c,l+10):La(r,l),u=or(o,n,l,1),!a){+un(u.d).slice(i+1,i+15)+1==1e14&&(u=ut(u,f+1,0));break}while(Lu(u.d,i+=10,m));return xt=!0,ut(u,f,m)};Se.minus=Se.sub=function(r){var e,t,n,i,a,o,l,u,s,c,f,m,p=this,h=p.constructor;if(r=new h(r),!p.d||!r.d)return!p.s||!r.s?r=new h(NaN):p.d?r.s=-r.s:r=new h(r.d||p.s!==r.s?p:NaN),r;if(p.s!=r.s)return r.s=-r.s,p.plus(r);if(s=p.d,m=r.d,l=h.precision,u=h.rounding,!s[0]||!m[0]){if(m[0])r.s=-r.s;else if(s[0])r=new h(p);else return new h(u===3?-0:0);return xt?ut(r,l,u):r}if(t=pn(r.e/ht),c=pn(p.e/ht),s=s.slice(),a=c-t,a){for(f=a<0,f?(e=s,a=-a,o=m.length):(e=m,t=c,o=s.length),n=Math.max(Math.ceil(l/ht),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=s.length,o=m.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(s[n]!=m[n]){f=s[n]<m[n];break}a=0}for(f&&(e=s,s=m,m=e,r.s=-r.s),o=s.length,n=m.length-o;n>0;--n)s[o++]=0;for(n=m.length;n>a;){if(s[--n]<m[n]){for(i=n;i&&s[--i]===0;)s[i]=_i-1;--s[i],s[n]+=_i}s[n]-=m[n]}for(;s[--o]===0;)s.pop();for(;s[0]===0;s.shift())--t;return s[0]?(r.d=s,r.e=kf(s,t),xt?ut(r,l,u):r):new h(u===3?-0:0)};Se.modulo=Se.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?ut(new n(t),n.precision,n.rounding):(xt=!1,n.modulo==9?(e=or(t,r.abs(),0,3,1),e.s*=r.s):e=or(t,r,0,n.modulo,1),e=e.times(r),xt=!0,t.minus(e))};Se.naturalExponential=Se.exp=function(){return Sh(this)};Se.naturalLogarithm=Se.ln=function(){return La(this)};Se.negated=Se.neg=function(){var r=new this.constructor(this);return r.s=-r.s,ut(r)};Se.plus=Se.add=function(r){var e,t,n,i,a,o,l,u,s,c,f=this,m=f.constructor;if(r=new m(r),!f.d||!r.d)return!f.s||!r.s?r=new m(NaN):f.d||(r=new m(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(s=f.d,c=r.d,l=m.precision,u=m.rounding,!s[0]||!c[0])return c[0]||(r=new m(f)),xt?ut(r,l,u):r;if(a=pn(f.e/ht),n=pn(r.e/ht),s=s.slice(),i=a-n,i){for(i<0?(t=s,i=-i,o=c.length):(t=c,n=a,o=s.length),a=Math.ceil(l/ht),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=s.length,i=c.length,o-i<0&&(i=o,t=c,c=s,s=t),e=0;i;)e=(s[--i]=s[i]+c[i]+e)/_i|0,s[i]%=_i;for(e&&(s.unshift(e),++n),o=s.length;s[--o]==0;)s.pop();return r.d=s,r.e=kf(s,n),xt?ut(r,l,u):r};Se.precision=Se.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(qa+r);return t.d?(e=cA(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};Se.round=function(){var r=this,e=r.constructor;return ut(new e(r),r.e+1,e.rounding)};Se.sine=Se.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+ht,n.rounding=1,t=sq(n,dA(n,t)),n.precision=r,n.rounding=e,ut(sa>2?t.neg():t,r,e,!0)):new n(NaN)};Se.squareRoot=Se.sqrt=function(){var r,e,t,n,i,a,o=this,l=o.d,u=o.e,s=o.s,c=o.constructor;if(s!==1||!l||!l[0])return new c(!s||s<0&&(!l||l[0])?NaN:l?o:1/0);for(xt=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=un(l),(e.length+u)%2==0&&(e+="0"),s=Math.sqrt(e),u=pn((u+1)/2)-(u<0||u%2),s==1/0?e="5e"+u:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new c(e)):n=new c(s.toString()),t=(u=c.precision)+3;;)if(a=n,n=a.plus(or(o,a,t+2,1)).times(.5),un(a.d).slice(0,t)===(e=un(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(ut(a,u+1,0),a.times(a).eq(o))){n=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(ut(n,u+1,1),r=!n.times(n).eq(o));break}return xt=!0,ut(n,u,c.rounding,r)};Se.tangent=Se.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=or(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,ut(sa==2||sa==4?t.neg():t,r,e,!0)):new n(NaN)};Se.times=Se.mul=function(r){var e,t,n,i,a,o,l,u,s,c=this,f=c.constructor,m=c.d,p=(r=new f(r)).d;if(r.s*=c.s,!m||!m[0]||!p||!p[0])return new f(!r.s||m&&!m[0]&&!p||p&&!p[0]&&!m?NaN:!m||!p?r.s/0:r.s*0);for(t=pn(c.e/ht)+pn(r.e/ht),u=m.length,s=p.length,u<s&&(a=m,m=p,p=a,o=u,u=s,s=o),a=[],o=u+s,n=o;n--;)a.push(0);for(n=s;--n>=0;){for(e=0,i=u+n;i>n;)l=a[i]+p[n]*m[i-n-1]+e,a[i--]=l%_i|0,e=l/_i|0;a[i]=(a[i]+e)%_i|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),r.d=a,r.e=kf(a,t),xt?ut(r,f.precision,f.rounding):r};Se.toBinary=function(r,e){return Mh(this,2,r,e)};Se.toDecimalPlaces=Se.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(kn(r,0,Va),e===void 0?e=n.rounding:kn(e,0,8),ut(t,r+t.e+1,e))};Se.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Gi(n,!0):(kn(r,0,Va),e===void 0?e=i.rounding:kn(e,0,8),n=ut(new i(n),r+1,e),t=Gi(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};Se.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?t=Gi(i):(kn(r,0,Va),e===void 0?e=a.rounding:kn(e,0,8),n=ut(new a(i),r+i.e+1,e),t=Gi(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Se.toFraction=function(r){var e,t,n,i,a,o,l,u,s,c,f,m,p=this,h=p.d,d=p.constructor;if(!h)return new d(p);if(s=t=new d(1),n=u=new d(0),e=new d(n),a=e.e=cA(h)-p.e-1,o=a%ht,e.d[0]=Ur(10,o<0?ht+o:o),r==null)r=a>0?e:s;else{if(l=new d(r),!l.isInt()||l.lt(s))throw Error(qa+l);r=l.gt(e)?a>0?e:s:l}for(xt=!1,l=new d(un(h)),c=d.precision,d.precision=a=h.length*ht*2;f=or(l,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=s,s=u.plus(f.times(i)),u=i,i=e,e=l.minus(f.times(i)),l=i;return i=or(r.minus(t),n,0,1,1),u=u.plus(i.times(s)),t=t.plus(i.times(n)),u.s=s.s=p.s,m=or(s,n,a,1).minus(p).abs().cmp(or(u,t,a,1).minus(p).abs())<1?[s,n]:[u,t],d.precision=c,xt=!0,m};Se.toHexadecimal=Se.toHex=function(r,e){return Mh(this,16,r,e)};Se.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:kn(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(xt=!1,t=or(t,r,0,e,1).times(r),xt=!0,ut(t)):(r.s=t.s,t=r),t};Se.toNumber=function(){return+this};Se.toOctal=function(r,e){return Mh(this,8,r,e)};Se.toPower=Se.pow=function(r){var e,t,n,i,a,o,l=this,u=l.constructor,s=+(r=new u(r));if(!l.d||!r.d||!l.d[0]||!r.d[0])return new u(Ur(+l,s));if(l=new u(l),l.eq(1))return l;if(n=u.precision,a=u.rounding,r.eq(1))return ut(l,n,a);if(e=pn(r.e/ht),e>=r.d.length-1&&(t=s<0?-s:s)<=nq)return i=fA(u,l,t,n),r.s<0?new u(1).div(i):ut(i,n,a);if(o=l.s,o<0){if(e<r.d.length-1)return new u(NaN);if(r.d[e]&1||(o=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=o,l}return t=Ur(+l,s),e=t==0||!isFinite(t)?pn(s*(Math.log("0."+un(l.d))/Math.LN10+l.e+1)):new u(t+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(xt=!1,u.rounding=l.s=1,t=Math.min(12,(e+"").length),i=Sh(r.times(La(l,n+t)),n),i.d&&(i=ut(i,n+5,1),Lu(i.d,n,a)&&(e=n+10,i=ut(Sh(r.times(La(l,e+t)),e),e+5,1),+un(i.d).slice(n+1,n+15)+1==1e14&&(i=ut(i,n+1,0)))),i.s=o,xt=!0,u.rounding=a,ut(i,n,a))};Se.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Gi(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(kn(r,1,Va),e===void 0?e=i.rounding:kn(e,0,8),n=ut(new i(n),r,e),t=Gi(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};Se.toSignificantDigits=Se.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(kn(r,1,Va),e===void 0?e=n.rounding:kn(e,0,8)),ut(new n(t),r,e)};Se.toString=function(){var r=this,e=r.constructor,t=Gi(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};Se.truncated=Se.trunc=function(){return ut(new this.constructor(this),this.e+1,1)};Se.valueOf=Se.toJSON=function(){var r=this,e=r.constructor,t=Gi(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function un(r){var e,t,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,e=1;e<i;e++)n=r[e]+"",t=ht-n.length,t&&(a+=Pa(t)),a+=n;o=r[e],n=o+"",t=ht-n.length,t&&(a+=Pa(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function kn(r,e,t){if(r!==~~r||r<e||r>t)throw Error(qa+r)}function Lu(r,e,t,n){var i,a,o,l;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=ht,i=0):(i=Math.ceil((e+1)/ht),e%=ht),a=Ur(10,ht-e),l=r[i]%a|0,n==null?e<3?(e==0?l=l/100|0:e==1&&(l=l/10|0),o=t<4&&l==99999||t>3&&l==49999||l==5e4||l==0):o=(t<4&&l+1==a||t>3&&l+1==a/2)&&(r[i+1]/a/100|0)==Ur(10,e-2)-1||(l==a/2||l==0)&&(r[i+1]/a/100|0)==0:e<4?(e==0?l=l/1e3|0:e==1?l=l/100|0:e==2&&(l=l/10|0),o=(n||t<4)&&l==9999||!n&&t>3&&l==4999):o=((n||t<4)&&l+1==a||!n&&t>3&&l+1==a/2)&&(r[i+1]/a/1e3|0)==Ur(10,e-3)-1,o}function Tf(r,e,t){for(var n,i=[0],a,o=0,l=r.length;o<l;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Ch.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function aq(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/Pf(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=bs(r,1,e.times(i),new r(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var or=function(){function r(n,i,a){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%a|0,l=o/a|0;return l&&n.unshift(l),n}function e(n,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function t(n,i,a,o){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,l,u){var s,c,f,m,p,h,d,g,v,E,y,D,x,b,C,S,A,F,I,M,O=n.constructor,P=n.s==i.s?1:-1,k=n.d,_=i.d;if(!k||!k[0]||!_||!_[0])return new O(!n.s||!i.s||(k?_&&k[0]==_[0]:!_)?NaN:k&&k[0]==0||!_?P*0:P/0);for(u?(p=1,c=n.e-i.e):(u=_i,p=ht,c=pn(n.e/p)-pn(i.e/p)),I=_.length,A=k.length,v=new O(P),E=v.d=[],f=0;_[f]==(k[f]||0);f++);if(_[f]>(k[f]||0)&&c--,a==null?(b=a=O.precision,o=O.rounding):l?b=a+(n.e-i.e)+1:b=a,b<0)E.push(1),h=!0;else{if(b=b/p+2|0,f=0,I==1){for(m=0,_=_[0],b++;(f<A||m)&&b--;f++)C=m*u+(k[f]||0),E[f]=C/_|0,m=C%_|0;h=m||f<A}else{for(m=u/(_[0]+1)|0,m>1&&(_=r(_,m,u),k=r(k,m,u),I=_.length,A=k.length),S=I,y=k.slice(0,I),D=y.length;D<I;)y[D++]=0;M=_.slice(),M.unshift(0),F=_[0],_[1]>=u/2&&++F;do m=0,s=e(_,y,I,D),s<0?(x=y[0],I!=D&&(x=x*u+(y[1]||0)),m=x/F|0,m>1?(m>=u&&(m=u-1),d=r(_,m,u),g=d.length,D=y.length,s=e(d,y,g,D),s==1&&(m--,t(d,I<g?M:_,g,u))):(m==0&&(s=m=1),d=_.slice()),g=d.length,g<D&&d.unshift(0),t(y,d,D,u),s==-1&&(D=y.length,s=e(_,y,I,D),s<1&&(m++,t(y,I<D?M:_,D,u))),D=y.length):s===0&&(m++,y=[0]),E[f++]=m,s&&y[0]?y[D++]=k[S]||0:(y=[k[S]],D=1);while((S++<A||y[0]!==void 0)&&b--);h=y[0]!==void 0}E[0]||E.shift()}if(p==1)v.e=c,aA=h;else{for(f=1,m=E[0];m>=10;m/=10)f++;v.e=f+c*p-1,ut(v,l?a+v.e+1:a,o,h)}return v}}();function ut(r,e,t,n){var i,a,o,l,u,s,c,f,m,p=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,l=f[0];l>=10;l/=10)i++;if(a=e-i,a<0)a+=ht,o=e,c=f[m=0],u=c/Ur(10,i-o-1)%10|0;else if(m=Math.ceil((a+1)/ht),l=f.length,m>=l)if(n){for(;l++<=m;)f.push(0);c=u=0,i=1,a%=ht,o=a-ht+1}else break e;else{for(c=l=f[m],i=1;l>=10;l/=10)i++;a%=ht,o=a-ht+i,u=o<0?0:c/Ur(10,i-o-1)%10|0}if(n=n||e<0||f[m+1]!==void 0||(o<0?c:c%Ur(10,i-o-1)),s=t<4?(u||n)&&(t==0||t==(r.s<0?3:2)):u>5||u==5&&(t==4||n||t==6&&(a>0?o>0?c/Ur(10,i-o):0:f[m-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,s?(e-=r.e+1,f[0]=Ur(10,(ht-e%ht)%ht),r.e=-e||0):f[0]=r.e=0,r;if(a==0?(f.length=m,l=1,m--):(f.length=m+1,l=Ur(10,ht-a),f[m]=o>0?(c/Ur(10,i-o)%Ur(10,o)|0)*l:0),s)for(;;)if(m==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=l,l=1;o>=10;o/=10)l++;a!=l&&(r.e++,f[0]==_i&&(f[0]=1));break}else{if(f[m]+=l,f[m]!=_i)break;f[m--]=0,l=1}for(a=f.length;f[--a]===0;)f.pop()}return xt&&(r.e>p.maxE?(r.d=null,r.e=NaN):r.e<p.minE&&(r.e=0,r.d=[0])),r}function Gi(r,e,t){if(!r.isFinite())return pA(r);var n,i=r.e,a=un(r.d),o=a.length;return e?(t&&(n=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+Pa(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):i<0?(a="0."+Pa(-i-1)+a,t&&(n=t-o)>0&&(a+=Pa(n))):i>=o?(a+=Pa(i+1-o),t&&(n=t-i-1)>0&&(a=a+"."+Pa(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(a+="."),a+=Pa(n))),a}function kf(r,e){var t=r[0];for(e*=ht;t>=10;t/=10)e++;return e}function Of(r,e,t){if(e>iq)throw xt=!0,t&&(r.precision=t),Error(oA);return ut(new r(If),e,1,!0)}function Mi(r,e,t){if(e>Ah)throw Error(oA);return ut(new r(Bf),e,t,!0)}function cA(r){var e=r.length-1,t=e*ht+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function Pa(r){for(var e="";r--;)e+="0";return e}function fA(r,e,t,n){var i,a=new r(1),o=Math.ceil(n/ht+4);for(xt=!1;;){if(t%2&&(a=a.times(e),nA(a.d,o)&&(i=!0)),t=pn(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),nA(e.d,o)}return xt=!0,a}function rA(r){return r.d[r.d.length-1]&1}function mA(r,e,t){for(var n,i=new r(e[0]),a=0;++a<e.length;)if(n=new r(e[a]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function Sh(r,e){var t,n,i,a,o,l,u,s=0,c=0,f=0,m=r.constructor,p=m.rounding,h=m.precision;if(!r.d||!r.d[0]||r.e>17)return new m(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(xt=!1,u=h):u=e,l=new m(.03125);r.e>-2;)r=r.times(l),f+=5;for(n=Math.log(Ur(2,f))/Math.LN10*2+5|0,u+=n,t=a=o=new m(1),m.precision=u;;){if(a=ut(a.times(r),u,1),t=t.times(++c),l=o.plus(or(a,t,u,1)),un(l.d).slice(0,u)===un(o.d).slice(0,u)){for(i=f;i--;)o=ut(o.times(o),u,1);if(e==null)if(s<3&&Lu(o.d,u-n,p,s))m.precision=u+=10,t=a=l=new m(1),c=0,s++;else return ut(o,m.precision=h,p,xt=!0);else return m.precision=h,o}o=l}}function La(r,e){var t,n,i,a,o,l,u,s,c,f,m,p=1,h=10,d=r,g=d.d,v=d.constructor,E=v.rounding,y=v.precision;if(d.s<0||!g||!g[0]||!d.e&&g[0]==1&&g.length==1)return new v(g&&!g[0]?-1/0:d.s!=1?NaN:g?0:d);if(e==null?(xt=!1,c=y):c=e,v.precision=c+=h,t=un(g),n=t.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)d=d.times(r),t=un(d.d),n=t.charAt(0),p++;a=d.e,n>1?(d=new v("0."+t),a++):d=new v(n+"."+t.slice(1))}else return s=Of(v,c+2,y).times(a+""),d=La(new v(n+"."+t.slice(1)),c-h).plus(s),v.precision=y,e==null?ut(d,y,E,xt=!0):d;for(f=d,u=o=d=or(d.minus(1),d.plus(1),c,1),m=ut(d.times(d),c,1),i=3;;){if(o=ut(o.times(m),c,1),s=u.plus(or(o,new v(i),c,1)),un(s.d).slice(0,c)===un(u.d).slice(0,c))if(u=u.times(2),a!==0&&(u=u.plus(Of(v,c+2,y).times(a+""))),u=or(u,new v(p),c,1),e==null)if(Lu(u.d,c-h,E,l))v.precision=c+=h,s=o=d=or(f.minus(1),f.plus(1),c,1),m=ut(d.times(d),c,1),i=l=1;else return ut(u,v.precision=y,E,xt=!0);else return v.precision=y,u;u=s,i+=2}}function pA(r){return String(r.s*r.s/0)}function Nh(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%ht,t<0&&(n+=ht),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=ht;n<i;)r.d.push(+e.slice(n,n+=ht));e=e.slice(n),n=ht-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),xt&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function oq(r,e){var t,n,i,a,o,l,u,s,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),lA.test(e))return Nh(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(tq.test(e))t=16,e=e.toLowerCase();else if(eq.test(e))t=2;else if(rq.test(e))t=8;else throw Error(qa+e);for(a=e.search(/p/i),a>0?(u=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=r.constructor,o&&(e=e.replace(".",""),l=e.length,a=l-a,i=fA(n,new n(t),a,a*2)),s=Tf(e,t,_i),c=s.length-1,a=c;s[a]===0;--a)s.pop();return a<0?new n(r.s*0):(r.e=kf(s,c),r.d=s,xt=!1,o&&(r=or(r,i,l*4)),u&&(r=r.times(Math.abs(u)<54?Ur(2,u):qu.pow(2,u))),xt=!0,r)}function sq(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:bs(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/Pf(5,t)),e=bs(r,2,e,e);for(var i,a=new r(5),o=new r(16),l=new r(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(l))));return e}function bs(r,e,t,n,i){var a,o,l,u,s=1,c=r.precision,f=Math.ceil(c/ht);for(xt=!1,u=t.times(t),l=new r(n);;){if(o=or(l.times(u),new r(e++*e++),c,1),l=i?n.plus(o):n.minus(o),n=or(o.times(u),new r(e++*e++),c,1),o=l.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=n,n=o,o=a,s++}return xt=!0,o.d.length=f+1,o}function Pf(r,e){for(var t=r;--e;)t*=r;return t}function dA(r,e){var t,n=e.s<0,i=Mi(r,r.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return sa=n?4:1,e;if(t=e.divToInt(i),t.isZero())sa=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return sa=rA(t)?n?2:3:n?4:1,e;sa=rA(t)?n?1:4:n?3:2}return e.minus(i).abs()}function Mh(r,e,t,n){var i,a,o,l,u,s,c,f,m,p=r.constructor,h=t!==void 0;if(h?(kn(t,1,Va),n===void 0?n=p.rounding:kn(n,0,8)):(t=p.precision,n=p.rounding),!r.isFinite())c=pA(r);else{for(c=Gi(r),o=c.indexOf("."),h?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(c=c.replace(".",""),m=new p(1),m.e=c.length-o,m.d=Tf(Gi(m),10,i),m.e=m.d.length),f=Tf(c,10,i),a=u=f.length;f[--u]==0;)f.pop();if(!f[0])c=h?"0p+0":"0";else{if(o<0?a--:(r=new p(r),r.d=f,r.e=a,r=or(r,m,t,n,0,i),f=r.d,a=r.e,s=aA),o=f[t],l=i/2,s=s||f[t+1]!==void 0,s=n<4?(o!==void 0||s)&&(n===0||n===(r.s<0?3:2)):o>l||o===l&&(n===4||s||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,s)for(;++f[--t]>i-1;)f[t]=0,t||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,c="";o<u;o++)c+=Ch.charAt(f[o]);if(h){if(u>1)if(e==16||e==8){for(o=e==16?4:3,--u;u%o;u++)c+="0";for(f=Tf(c,i,e),u=f.length;!f[u-1];--u);for(o=1,c="1.";o<u;o++)c+=Ch.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return r.s<0?"-"+c:c}function nA(r,e){if(r.length>e)return r.length=e,!0}function uq(r){return new this(r).abs()}function lq(r){return new this(r).acos()}function cq(r){return new this(r).acosh()}function fq(r,e){return new this(r).plus(e)}function mq(r){return new this(r).asin()}function pq(r){return new this(r).asinh()}function dq(r){return new this(r).atan()}function hq(r){return new this(r).atanh()}function gq(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,a=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=Mi(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?Mi(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=Mi(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(or(r,e,a,1)),e=Mi(this,a,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(or(r,e,a,1)),t}function vq(r){return new this(r).cbrt()}function yq(r){return ut(r=new this(r),r.e+1,2)}function xq(r,e,t){return new this(r).clamp(e,t)}function bq(r){if(!r||typeof r!="object")throw Error(Rf+"Object expected");var e,t,n,i=r.defaults===!0,a=["precision",1,Va,"rounding",0,8,"toExpNeg",-xs,0,"toExpPos",0,xs,"maxE",0,xs,"minE",-xs,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=Fh[t]),(n=r[t])!==void 0)if(pn(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(qa+t+": "+n);if(t="crypto",i&&(this[t]=Fh[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(sA);else this[t]=!1;else throw Error(qa+t+": "+n);return this}function Dq(r){return new this(r).cos()}function wq(r){return new this(r).cosh()}function hA(r){var e,t,n;function i(a){var o,l,u,s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,iA(a)){s.s=a.s,xt?!a.d||a.e>i.maxE?(s.e=NaN,s.d=null):a.e<i.minE?(s.e=0,s.d=[0]):(s.e=a.e,s.d=a.d.slice()):(s.e=a.e,s.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){s.s=1/a<0?-1:1,s.e=0,s.d=[0];return}if(a<0?(a=-a,s.s=-1):s.s=1,a===~~a&&a<1e7){for(o=0,l=a;l>=10;l/=10)o++;xt?o>i.maxE?(s.e=NaN,s.d=null):o<i.minE?(s.e=0,s.d=[0]):(s.e=o,s.d=[a]):(s.e=o,s.d=[a]);return}else if(a*0!==0){a||(s.s=NaN),s.e=NaN,s.d=null;return}return Nh(s,a.toString())}else if(u!=="string")throw Error(qa+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),s.s=-1):(l===43&&(a=a.slice(1)),s.s=1),lA.test(a)?Nh(s,a):oq(s,a)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=bq,i.clone=hA,i.isDecimal=iA,i.abs=uq,i.acos=lq,i.acosh=cq,i.add=fq,i.asin=mq,i.asinh=pq,i.atan=dq,i.atanh=hq,i.atan2=gq,i.cbrt=vq,i.ceil=yq,i.clamp=xq,i.cos=Dq,i.cosh=wq,i.div=Eq,i.exp=Cq,i.floor=Fq,i.hypot=Aq,i.ln=Sq,i.log=Nq,i.log10=_q,i.log2=Mq,i.max=Tq,i.min=Iq,i.mod=Bq,i.mul=Oq,i.pow=Rq,i.random=kq,i.round=Pq,i.sign=Lq,i.sin=qq,i.sinh=Vq,i.sqrt=Uq,i.sub=zq,i.sum=Wq,i.tan=Hq,i.tanh=Gq,i.trunc=jq,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function Eq(r,e){return new this(r).div(e)}function Cq(r){return new this(r).exp()}function Fq(r){return ut(r=new this(r),r.e+1,3)}function Aq(){var r,e,t=new this(0);for(xt=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return xt=!0,new this(1/0);t=e}return xt=!0,t.sqrt()}function iA(r){return r instanceof qu||r&&r.toStringTag===uA||!1}function Sq(r){return new this(r).ln()}function Nq(r,e){return new this(r).log(e)}function Mq(r){return new this(r).log(2)}function _q(r){return new this(r).log(10)}function Tq(){return mA(this,arguments,"lt")}function Iq(){return mA(this,arguments,"gt")}function Bq(r,e){return new this(r).mod(e)}function Oq(r,e){return new this(r).mul(e)}function Rq(r,e){return new this(r).pow(e)}function kq(r){var e,t,n,i,a=0,o=new this(1),l=[];if(r===void 0?r=this.precision:kn(r,1,Va),n=Math.ceil(r/ht),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(l.push(i%1e7),a+=4);a=n/4}else throw Error(sA);else for(;a<n;)l[a++]=Math.random()*1e7|0;for(n=l[--a],r%=ht,n&&r&&(i=Ur(10,ht-r),l[a]=(n/i|0)*i);l[a]===0;a--)l.pop();if(a<0)t=0,l=[0];else{for(t=-1;l[0]===0;t-=ht)l.shift();for(n=1,i=l[0];i>=10;i/=10)n++;n<ht&&(t-=ht-n)}return o.e=t,o.d=l,o}function Pq(r){return ut(r=new this(r),r.e+1,this.rounding)}function Lq(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function qq(r){return new this(r).sin()}function Vq(r){return new this(r).sinh()}function Uq(r){return new this(r).sqrt()}function zq(r,e){return new this(r).sub(e)}function Wq(){var r=0,e=arguments,t=new this(e[r]);for(xt=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return xt=!0,ut(t,this.precision,this.rounding)}function Hq(r){return new this(r).tan()}function Gq(r){return new this(r).tanh()}function jq(r){return ut(r=new this(r),r.e+1,1)}Se[Symbol.for("nodejs.util.inspect.custom")]=Se.toString;Se[Symbol.toStringTag]="Decimal";var qu=Se.constructor=hA(Fh);If=new qu(If);Bf=new qu(Bf);var xo=qu;var Zq="BigNumber",Yq=["?on","config"],_h=N(Zq,Yq,r=>{var{on:e,config:t}=r,n=xo.clone({precision:t.precision,modulo:xo.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Jr=wr(vA(),1);var Jq="Complex",Xq=[],Ih=N(Jq,Xq,()=>(Object.defineProperty(Jr.default,"name",{value:"Complex"}),Jr.default.prototype.constructor=Jr.default,Jr.default.prototype.type="Complex",Jr.default.prototype.isComplex=!0,Jr.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Jr.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Jr.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=Si(this.re,r),a=Si(this.im,r),o=tt(r)?r:r?r.precision:null;if(o!==null){var l=Math.pow(10,-o);Math.abs(n/t)<l&&(n=0),Math.abs(t/n)<l&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},Jr.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Jr.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(tt(t)){if(nn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),tt(n))return new Jr.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Jr.default.prototype.valueOf=Jr.default.prototype.toString,Jr.default.fromJSON=function(r){return new Jr.default(r)},Jr.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Jr.default),{isClass:!0});var ji=wr(xA(),1);var Qq="Fraction",Kq=[],Oh=N(Qq,Kq,()=>(Object.defineProperty(ji.default,"name",{value:"Fraction"}),ji.default.prototype.constructor=ji.default,ji.default.prototype.type="Fraction",ji.default.prototype.isFraction=!0,ji.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ji.default.fromJSON=function(r){return new ji.default(r)},ji.default),{isClass:!0});var $q="Range",eV=[],Rh=N($q,eV,()=>{function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=n!=null;if(i){if($e(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if($e(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(o){if($e(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(n):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),n=t.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var e=0,t=this.start,n=this.step,i=this.end,a=i-t;return si(n)===si(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},r.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},r.prototype.forEach=function(e){var t=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;t<i;)e(t,[a],this),t+=n,a++;else if(n<0)for(;t>i;)e(t,[a],this),t+=n,a++},r.prototype.map=function(e){var t=[];return this.forEach(function(n,i,a){t[i[0]]=e(n,i,a)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=Si(this.start,e);return this.step!==1&&(t+=":"+Si(this.step,e)),t+=":"+Si(this.end,e),t},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r},{isClass:!0});var tV="Matrix",rV=[],kh=N(tV,rV,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function bA(r){var e=0,t=1,n=Object.create(null),i=Object.create(null),a=0,o=function(u){var s=i[u];if(s&&(delete n[s],delete i[u],--e,t===s)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++t););}};return r=Math.abs(r),{hit:function(u){var s=i[u],c=++a;if(n[c]=u,i[u]=c,!s)return++e,e<=r?void 0:(u=n[t],o(u),u);if(delete n[s],t===s)for(;!Object.prototype.hasOwnProperty.call(n,++t););},delete:o,clear:function(){e=a=0,t=1,n=Object.create(null),i=Object.create(null)}}}function bo(r){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t==null?Number.POSITIVE_INFINITY:t,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:bA(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var l=r.apply(r,i);return n.cache.values.set(o,l),n.cache.values.delete(n.cache.lru.hit(o)),l}}function Lf(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var nV="DenseMatrix",iV=["Matrix"],Ph=N(nV,iV,r=>{var{Matrix:e}=r;function t(c,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!gr(f))throw new Error("Invalid datatype: "+f);if(He(c))c.type==="DenseMatrix"?(this._data=Xe(c._data),this._size=Xe(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&Et(c.data)&&Et(c.size))this._data=c.data,this._size=c.size,dh(this._data,this._size),this._datatype=f||c.datatype;else if(Et(c))this._data=s(c),this._size=Qe(this._data),dh(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+wt(c)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(c,f){return new t(c,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return ka(this._data,wt)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,f){return new t(c,f)},t.prototype.subset=function(c,f,m){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,f,m);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){if(!Et(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new ot(c.length,this._size.length);for(var f=0;f<c.length;f++)Pt(c[f],this._size[f]);for(var m=this._data,p=0,h=c.length;p<h;p++){var d=c[p];Pt(d,m.length),m=m[d]}return m},t.prototype.set=function(c,f,m){if(!Et(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new ot(c.length,this._size.length,"<");var p,h,d,g=c.map(function(E){return E+1});u(this,g,m);var v=this._data;for(p=0,h=c.length-1;p<h;p++)d=c[p],Pt(d,v.length),v=v[d];return d=c[c.length-1],Pt(d,v.length),v[d]=f,this};function n(c,f){if(!Ba(f))throw new TypeError("Invalid index");var m=f.isScalar();if(m)return c.get(f.min());var p=f.size();if(p.length!==c._size.length)throw new ot(p.length,c._size.length);for(var h=f.min(),d=f.max(),g=0,v=c._size.length;g<v;g++)Pt(h[g],c._size[g]),Pt(d[g],c._size[g]);return new t(i(c._data,f,p.length,0),c._datatype)}function i(c,f,m,p){var h=p===m-1,d=f.dimension(p);return h?d.map(function(g){return Pt(g,c.length),c[g]}).valueOf():d.map(function(g){Pt(g,c.length);var v=c[g];return i(v,f,m,p+1)}).valueOf()}function a(c,f,m,p){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),g;if(He(m)?(g=m.size(),m=m.valueOf()):g=Qe(m),d){if(g.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),m,p)}else{if(!Ai(g,h))try{g.length===0?m=vh([m],h):m=vh(m,h),g=Qe(m)}catch(b){}if(h.length<c._size.length)throw new ot(h.length,c._size.length,"<");if(g.length<h.length){for(var v=0,E=0;h[v]===1&&g[v]===1;)v++;for(;h[v]===1;)E++,v++;m=Af(m,h.length,E,g)}if(!Ai(h,g))throw new ot(h,g,">");var y=f.max().map(function(b){return b+1});u(c,y,p);var D=h.length,x=0;o(c._data,f,m,D,x)}return c}function o(c,f,m,p,h){var d=h===p-1,g=f.dimension(h);d?g.forEach(function(v,E){Pt(v),c[v]=m[E[0]]}):g.forEach(function(v,E){Pt(v),o(c[v],f,m[E[0]],p,h+1)})}t.prototype.resize=function(c,f,m){if(!Nn(c))throw new TypeError("Array or Matrix expected");var p=c.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=m?this.clone():this;return l(h,p,f)};function l(c,f,m){if(f.length===0){for(var p=c._data;Et(p);)p=p[0];return p}return c._size=f.slice(0),c._data=Ni(c._data,c._size,m),c}t.prototype.reshape=function(c,f){var m=f?this.clone():this;m._data=Ou(m._data,c);var p=m._size.reduce((h,d)=>h*d);return m._size=Ru(c,p),m};function u(c,f,m){for(var p=c._size.slice(0),h=!1;p.length<f.length;)p.push(0),h=!0;for(var d=0,g=f.length;d<g;d++)f[d]>p[d]&&(p[d]=f[d],h=!0);h&&l(c,p,m)}t.prototype.clone=function(){var c=new t({data:Xe(this._data),size:Xe(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(c){var f=this,m=Lf(c),p=function g(v,E){return Et(v)?v.map(function(y,D){return g(y,E.concat(D))}):m===1?c(v):m===2?c(v,E):c(v,E,f)},h=p(this._data,[]),d=this._datatype!==void 0?ka(h,wt):void 0;return new t(h,d)},t.prototype.forEach=function(c){var f=this,m=function p(h,d){Et(h)?h.forEach(function(g,v){p(g,d.concat(v))}):c(h,d,f)};m(this._data,[])},t.prototype[Symbol.iterator]=function*(){var c=function*f(m,p){if(Et(m))for(var h=0;h<m.length;h++)yield*f(m[h],p.concat(h));else yield{value:m,index:p}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var m=this._data;for(var p of m)c.push(new t([p],this._datatype));return c},t.prototype.columns=function(){var c=this,f=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,h=function(v){var E=p.map(y=>[y[v]]);f.push(new t(E,c._datatype))},d=0;d<m[1];d++)h(d);return f},t.prototype.toArray=function(){return Xe(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return rt(this._data,c)},t.prototype.toString=function(){return rt(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if($e(c)&&(c=c.toNumber()),!tt(c)||!Ue(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,m=c<0?-c:0,p=this._size[0],h=this._size[1],d=Math.min(p-m,h-f),g=[],v=0;v<d;v++)g[v]=this._data[v+m][v+f];return new t({data:g,size:[d],datatype:this._datatype})},t.diagonal=function(c,f,m,p){if(!Et(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(C){if($e(C)&&(C=C.toNumber()),!tt(C)||!Ue(C)||C<1)throw new Error("Size values must be positive integers");return C}),m){if($e(m)&&(m=m.toNumber()),!tt(m)||!Ue(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var h=m>0?m:0,d=m<0?-m:0,g=c[0],v=c[1],E=Math.min(g-d,v-h),y;if(Et(f)){if(f.length!==E)throw new Error("Invalid value array length");y=function(S){return f[S]}}else if(He(f)){var D=f.size();if(D.length!==1||D[0]!==E)throw new Error("Invalid matrix length");y=function(S){return f.get([S])}}else y=function(){return f};p||(p=$e(y(0))?y(0).mul(0):0);var x=[];if(c.length>0){x=Ni(x,c,p);for(var b=0;b<E;b++)x[b+d][b+h]=y(b)}return new t({data:x,size:[g,v]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,f){if(!tt(c)||!Ue(c)||!tt(f)||!Ue(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pt(c,this._size[0]),Pt(f,this._size[0]),t._swapRows(c,f,this._data),this},t._swapRows=function(c,f,m){var p=m[c];m[c]=m[f],m[f]=p};function s(c){return He(c)?s(c.valueOf()):Et(c)?c.map(s):c}return t},{isClass:!0});var DA="clone",aV=["typed"],Lh=N(DA,aV,r=>{var{typed:e}=r;return e(DA,{any:Xe})});function qf(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}function ui(r){for(var e=0;e<r.length;e++)if(Nn(r[e]))return!0;return!1}function dn(r,e){He(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var i=r[t];Array.isArray(i)?dn(i,e):e(i)}}function je(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return je(n,e,t)}):e(r)}function Ua(r,e,t){var n=Array.isArray(r)?Qe(r):r.size();if(e<0||e>=n.length)throw new sn(e,n.length);return He(r)?r.create(Vf(r.valueOf(),e,t)):Vf(r,e,t)}function Vf(r,e,t){var n,i,a,o;if(e<=0)if(Array.isArray(r[0])){for(o=qf(r),i=[],n=0;n<o.length;n++)i[n]=Vf(o[n],e-1,t);return i}else{for(a=r[0],n=1;n<r.length;n++)a=t(a,r[n]);return a}else{for(i=[],n=0;n<r.length;n++)i[n]=Vf(r[n],e-1,t);return i}}function qh(r,e,t,n,i,a,o,l,u,s,c){var f=r._values,m=r._index,p=r._ptr,h,d,g,v;if(n)for(d=p[e],g=p[e+1],h=d;h<g;h++)v=m[h],t[v]!==a?(t[v]=a,o.push(v),s?(n[v]=u?l(f[h],c):l(c,f[h]),i[v]=a):n[v]=f[h]):(n[v]=u?l(f[h],n[v]):l(n[v],f[h]),i[v]=a);else for(d=p[e],g=p[e+1],h=d;h<g;h++)v=m[h],t[v]!==a?(t[v]=a,o.push(v)):i[v]=a}var wA="isInteger",oV=["typed"],Vh=N(wA,oV,r=>{var{typed:e}=r;return e(wA,{number:Ue,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var Pn="number",ua="number, number";function Uh(r){return Math.abs(r)}Uh.signature=Pn;function zh(r,e){return r+e}zh.signature=ua;function sV(r,e){return r-e}sV.signature=ua;function Wh(r,e){return r*e}Wh.signature=ua;function uV(r,e){return r/e}uV.signature=ua;function Hh(r){return-r}Hh.signature=Pn;function Gh(r){return r}Gh.signature=Pn;function Ds(r){return I2(r)}Ds.signature=Pn;function jh(r){return r*r*r}jh.signature=Pn;function Zh(r){return Math.exp(r)}Zh.signature=Pn;function Yh(r){return B2(r)}Yh.signature=Pn;function lV(r,e){if(!Ue(r)||!Ue(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}lV.signature=ua;function Jh(r,e){if(!Ue(r)||!Ue(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}Jh.signature=ua;function EA(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function Xh(r){return T2(r)}Xh.signature=Pn;function Qh(r){return _2(r)}Qh.signature=Pn;function cV(r){return bf(r)}cV.signature=Pn;function fV(r,e){return e===0?r:r-e*Math.floor(r/e)}fV.signature=ua;function Kh(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return t?1/0:0;if(!isFinite(r))return t?0:r;var n=Math.pow(Math.abs(r),1/e);return n=r<0?-n:n,t?1/n:n}function Uf(r){return si(r)}Uf.signature=Pn;function mV(r){return Math.sqrt(r)}mV.signature=Pn;function $h(r){return r*r}$h.signature=Pn;function eg(r,e){var t,n,i,a=0,o=1,l=1,u=0;if(!Ue(r)||!Ue(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=a,a=o-n*a,o=t,t=l,l=u-n*l,u=t,r=e,e=i;var s;return r<0?s=[-r,-o,-u]:s=[r,r?o:0,u],s}eg.signature=ua;function tg(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}tg.signature=ua;function rg(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ue(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(fh(r,e))}function pV(r){return Math.abs(r)}pV.signature=Pn;var dV="number",ws="number, number";function ng(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function bitAnd");return r&e}ng.signature=ws;function ig(r){if(!Ue(r))throw new Error("Integer expected in function bitNot");return~r}ig.signature=dV;function ag(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function bitOr");return r|e}ag.signature=ws;function og(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function bitXor");return r^e}og.signature=ws;function sg(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function leftShift");return r<<e}sg.signature=ws;function ug(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function rightArithShift");return r>>e}ug.signature=ws;function lg(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function rightLogShift");return r>>>e}lg.signature=ws;function Zn(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return Zn(r,t)*Zn(t+1,e)}function cg(r,e){if(!Ue(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ue(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,n=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,l=i;l<=r;++l)for(n*=l;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=Zn(a,o)),n}cg.signature="number, number";var CA=Math.PI,FA=2*Math.PI,AA=Math.E,SA=1.618033988749895;var hV="number",fg="number, number";function mg(r){return!r}mg.signature=hV;function pg(r,e){return!!(r||e)}pg.signature=fg;function dg(r,e){return!!r!=!!e}dg.signature=fg;function hg(r,e){return!!(r&&e)}hg.signature=fg;function Vu(r){var e;if(Ue(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:Zn(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*Vu(1-r));if(r>=171.35)return 1/0;if(r>85){var t=r*r,n=t*r,i=n*r,a=i*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*t)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*r))}--r,e=Do[0];for(var o=1;o<Do.length;++o)e+=Do[o]/(r+o);var l=r+gg+.5;return Math.sqrt(2*Math.PI)*Math.pow(l,r+.5)*Math.exp(-l)*e}Vu.signature="number";var gg=4.7421875,Do=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],vg=.9189385332046728,gV=5,vV=7,NA=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Uu(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-Uu(1-r);r=r-1;for(var e=r+gV+.5,t=NA[0],n=vV-1;n>=1;n--)t+=NA[n]/(r+n);return vg+(r+.5)*Math.log(e)-e+Math.log(t)}Uu.signature="number";var vr="number",yV="number, number";function xV(r){return Math.acos(r)}xV.signature=vr;function yg(r){return k2(r)}yg.signature=vr;function xg(r){return Math.atan(1/r)}xg.signature=vr;function bg(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}bg.signature=vr;function Dg(r){return Math.asin(1/r)}Dg.signature=vr;function wg(r){var e=1/r;return Math.log(e+Math.sqrt(e*e+1))}wg.signature=vr;function Eg(r){return Math.acos(1/r)}Eg.signature=vr;function Cg(r){var e=1/r,t=Math.sqrt(e*e-1);return Math.log(t+e)}Cg.signature=vr;function bV(r){return Math.asin(r)}bV.signature=vr;function Fg(r){return P2(r)}Fg.signature=vr;function DV(r){return Math.atan(r)}DV.signature=vr;function wV(r,e){return Math.atan2(r,e)}wV.signature=yV;function Ag(r){return L2(r)}Ag.signature=vr;function EV(r){return Math.cos(r)}EV.signature=vr;function CV(r){return Ef(r)}CV.signature=vr;function Sg(r){return 1/Math.tan(r)}Sg.signature=vr;function Ng(r){var e=Math.exp(2*r);return(e+1)/(e-1)}Ng.signature=vr;function Mg(r){return 1/Math.sin(r)}Mg.signature=vr;function _g(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*si(r)}_g.signature=vr;function Tg(r){return 1/Math.cos(r)}Tg.signature=vr;function Ig(r){return 2/(Math.exp(r)+Math.exp(-r))}Ig.signature=vr;function FV(r){return Math.sin(r)}FV.signature=vr;function Bg(r){return q2(r)}Bg.signature=vr;function AV(r){return Math.tan(r)}AV.signature=vr;function SV(r){return Cf(r)}SV.signature=vr;var zu="number";function NV(r){return Ue(r)}NV.signature=zu;function Og(r){return r<0}Og.signature=zu;function Rg(r){return r>0}Rg.signature=zu;function kg(r){return r===0}kg.signature=zu;function Pg(r){return Number.isNaN(r)}Pg.signature=zu;var MA="isNegative",MV=["typed"],Lg=N(MA,MV,r=>{var{typed:e}=r;return e(MA,{number:Og,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var _A="isNumeric",_V=["typed"],qg=N(_A,_V,r=>{var{typed:e}=r;return e(_A,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var TA="hasNumericValue",TV=["typed","isNumeric"],Vg=N(TA,TV,r=>{var{typed:e,isNumeric:t}=r;return e(TA,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var IA="isPositive",IV=["typed"],Ug=N(IA,IV,r=>{var{typed:e}=r;return e(IA,{number:Rg,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var BA="isZero",BV=["typed"],zg=N(BA,BV,r=>{var{typed:e}=r;return e(BA,{number:kg,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var OA="isNaN",OV=["typed"],Wg=N(OA,OV,r=>{var{typed:e}=r;return e(OA,{number:Pg,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return je(n,Number.isNaN)}})});var RA="typeOf",RV=["typed"],Hg=N(RA,RV,r=>{var{typed:e}=r;return e(RA,{any:wt})});function Xr(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var n=r.minus(e).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return n.lte(i.times(t))}return!1}function kA(r,e,t){return Ar(r.re,e.re,t)&&Ar(r.im,e.im,t)}var li=N("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var zf="equalScalar",kV=["typed","config"],Gg=N(zf,kV,r=>{var{typed:e,config:t}=r,n=li({typed:e});return e(zf,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Ar(a,o,t.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Xr(a,o,t.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return kA(a,o,t.epsilon)}},n)}),Lfe=N(zf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(zf,{"number, number":function(i,a){return Ar(i,a,t.epsilon)}})});var PV="SparseMatrix",LV=["typed","equalScalar","Matrix"],jg=N(PV,LV,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(d,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!gr(g))throw new Error("Invalid datatype: "+g);if(He(d))a(this,d,g);else if(d&&Et(d.index)&&Et(d.ptr)&&Et(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=g||d.datatype;else if(Et(d))o(this,d,g);else{if(d)throw new TypeError("Unsupported type of data ("+wt(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(d,g,v){g.type==="SparseMatrix"?(d._values=g._values?Xe(g._values):void 0,d._index=Xe(g._index),d._ptr=Xe(g._ptr),d._size=Xe(g._size),d._datatype=v||g._datatype):o(d,g.valueOf(),v||g._datatype)}function o(d,g,v){d._values=[],d._index=[],d._ptr=[],d._datatype=v;var E=g.length,y=0,D=t,x=0;if(gr(v)&&(D=e.find(t,[v,v])||t,x=e.convert(0,v)),E>0){var b=0;do{d._ptr.push(d._index.length);for(var C=0;C<E;C++){var S=g[C];if(Et(S)){if(b===0&&y<S.length&&(y=S.length),b<S.length){var A=S[b];D(A,x)||(d._values.push(A),d._index.push(C))}}else b===0&&y<1&&(y=1),D(S,x)||(d._values.push(S),d._index.push(C))}b++}while(b<y)}d._ptr.push(d._index.length),d._size=[E,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,g){return new i(d,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return ka(this._values,wt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,g){return new i(d,g)},i.prototype.density=function(){var d=this._size[0],g=this._size[1];return d!==0&&g!==0?this._index.length/(d*g):0},i.prototype.subset=function(d,g,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,d);case 2:case 3:return u(this,d,g,v);default:throw new SyntaxError("Wrong number of arguments")}};function l(d,g){if(!Ba(g))throw new TypeError("Invalid index");var v=g.isScalar();if(v)return d.get(g.min());var E=g.size();if(E.length!==d._size.length)throw new ot(E.length,d._size.length);var y,D,x,b,C=g.min(),S=g.max();for(y=0,D=d._size.length;y<D;y++)Pt(C[y],d._size[y]),Pt(S[y],d._size[y]);var A=d._values,F=d._index,I=d._ptr,M=g.dimension(0),O=g.dimension(1),P=[],k=[];M.forEach(function(B,U){k[B]=U[0],P[B]=!0});var _=A?[]:void 0,T=[],z=[];return O.forEach(function(B){for(z.push(T.length),x=I[B],b=I[B+1];x<b;x++)y=F[x],P[y]===!0&&(T.push(k[y]),_&&_.push(A[x]))}),z.push(T.length),new i({values:_,index:T,ptr:z,size:E,datatype:d._datatype})}function u(d,g,v,E){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var y=g.size(),D=g.isScalar(),x;if(He(v)?(x=v.size(),v=v.toArray()):x=Qe(v),D){if(x.length!==0)throw new TypeError("Scalar expected");d.set(g.min(),v,E)}else{if(y.length!==1&&y.length!==2)throw new ot(y.length,d._size.length,"<");if(x.length<y.length){for(var b=0,C=0;y[b]===1&&x[b]===1;)b++;for(;y[b]===1;)C++,b++;v=Af(v,y.length,C,x)}if(!Ai(y,x))throw new ot(y,x,">");if(y.length===1){var S=g.dimension(0);S.forEach(function(I,M){Pt(I),d.set([I,0],v[M[0]],E)})}else{var A=g.dimension(0),F=g.dimension(1);A.forEach(function(I,M){Pt(I),F.forEach(function(O,P){Pt(O),d.set([I,O],v[M[0]][P[0]],E)})})}}return d}i.prototype.get=function(d){if(!Et(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=d[0],v=d[1];Pt(g,this._size[0]),Pt(v,this._size[1]);var E=s(g,this._ptr[v],this._ptr[v+1],this._index);return E<this._ptr[v+1]&&this._index[E]===g?this._values[E]:0},i.prototype.set=function(d,g,v){if(!Et(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=d[0],y=d[1],D=this._size[0],x=this._size[1],b=t,C=0;gr(this._datatype)&&(b=e.find(t,[this._datatype,this._datatype])||t,C=e.convert(0,this._datatype)),(E>D-1||y>x-1)&&(m(this,Math.max(E+1,D),Math.max(y+1,x),v),D=this._size[0],x=this._size[1]),Pt(E,D),Pt(y,x);var S=s(E,this._ptr[y],this._ptr[y+1],this._index);return S<this._ptr[y+1]&&this._index[S]===E?b(g,C)?c(S,y,this._values,this._index,this._ptr):this._values[S]=g:b(g,C)||f(S,E,y,g,this._values,this._index,this._ptr),this};function s(d,g,v,E){if(v-g===0)return v;for(var y=g;y<v;y++)if(E[y]===d)return y;return g}function c(d,g,v,E,y){v.splice(d,1),E.splice(d,1);for(var D=g+1;D<y.length;D++)y[D]--}function f(d,g,v,E,y,D,x){y.splice(d,0,E),D.splice(d,0,g);for(var b=v+1;b<x.length;b++)x[b]++}i.prototype.resize=function(d,g,v){if(!Nn(d))throw new TypeError("Array or Matrix expected");var E=d.valueOf().map(D=>Array.isArray(D)&&D.length===1?D[0]:D);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(D){if(!tt(D)||!Ue(D)||D<0)throw new TypeError("Invalid size, must contain positive integers (size: "+rt(E)+")")});var y=v?this.clone():this;return m(y,E[0],E[1],g)};function m(d,g,v,E){var y=E||0,D=t,x=0;gr(d._datatype)&&(D=e.find(t,[d._datatype,d._datatype])||t,x=e.convert(0,d._datatype),y=e.convert(y,d._datatype));var b=!D(y,x),C=d._size[0],S=d._size[1],A,F,I;if(v>S){for(F=S;F<v;F++)if(d._ptr[F]=d._values.length,b)for(A=0;A<C;A++)d._values.push(y),d._index.push(A);d._ptr[v]=d._values.length}else v<S&&(d._ptr.splice(v+1,S-v),d._values.splice(d._ptr[v],d._values.length),d._index.splice(d._ptr[v],d._index.length));if(S=v,g>C){if(b){var M=0;for(F=0;F<S;F++){d._ptr[F]=d._ptr[F]+M,I=d._ptr[F+1]+M;var O=0;for(A=C;A<g;A++,O++)d._values.splice(I+O,0,y),d._index.splice(I+O,0,A),M++}d._ptr[S]=d._values.length}}else if(g<C){var P=0;for(F=0;F<S;F++){d._ptr[F]=d._ptr[F]-P;var k=d._ptr[F],_=d._ptr[F+1]-P;for(I=k;I<_;I++)A=d._index[I],A>g-1&&(d._values.splice(I,1),d._index.splice(I,1),P++)}d._ptr[F]=d._values.length}return d._size[0]=g,d._size[1]=v,d}i.prototype.reshape=function(d,g){if(!Et(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(B){if(!tt(B)||!Ue(B)||B<=-2||B===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+rt(d)+")")});var v=this._size[0]*this._size[1];d=Ru(d,v);var E=d[0]*d[1];if(v!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=g?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return y;for(var D=[],x=0;x<y._ptr.length;x++)for(var b=0;b<y._ptr[x+1]-y._ptr[x];b++)D.push(x);for(var C=y._values.slice(),S=y._index.slice(),A=0;A<y._index.length;A++){var F=S[A],I=D[A],M=F*y._size[1]+I;D[A]=M%d[1],S[A]=Math.floor(M/d[1])}y._values.length=0,y._index.length=0,y._ptr.length=d[1]+1,y._size=d.slice();for(var O=0;O<y._ptr.length;O++)y._ptr[O]=0;for(var P=0;P<C.length;P++){var k=S[P],_=D[P],T=C[P],z=s(k,y._ptr[_],y._ptr[_+1],y._index);f(z,k,_,T,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var d=new i({values:this._values?Xe(this._values):void 0,index:Xe(this._index),ptr:Xe(this._ptr),size:Xe(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,E=this._size[0],y=this._size[1],D=Lf(d),x=function(C,S,A){return D===1?d(C):D===2?d(C,[S,A]):d(C,[S,A],v)};return p(this,0,E-1,0,y-1,x,g)};function p(d,g,v,E,y,D,x){var b=[],C=[],S=[],A=t,F=0;gr(d._datatype)&&(A=e.find(t,[d._datatype,d._datatype])||t,F=e.convert(0,d._datatype));for(var I=function(L,X,se){L=D(L,X,se),A(L,F)||(b.push(L),C.push(X))},M=E;M<=y;M++){S.push(b.length);var O=d._ptr[M],P=d._ptr[M+1];if(x)for(var k=O;k<P;k++){var _=d._index[k];_>=g&&_<=v&&I(d._values[k],_-g,M-E)}else{for(var T={},z=O;z<P;z++){var B=d._index[z];T[B]=d._values[z]}for(var U=g;U<=v;U++){var Y=U in T?T[U]:0;I(Y,U-g,M-E)}}}return S.push(b.length),new i({values:b,index:C,ptr:S,size:[v-g+1,y-E+1]})}i.prototype.forEach=function(d,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,E=this._size[0],y=this._size[1],D=0;D<y;D++){var x=this._ptr[D],b=this._ptr[D+1];if(g)for(var C=x;C<b;C++){var S=this._index[C];d(this._values[C],[S,D],v)}else{for(var A={},F=x;F<b;F++){var I=this._index[F];A[I]=this._values[F]}for(var M=0;M<E;M++){var O=M in A?A[M]:0;d(O,[M,D],v)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],g=0;g<d;g++)for(var v=this._ptr[g],E=this._ptr[g+1],y=v;y<E;y++){var D=this._index[y];yield{value:this._values[y],index:[D,g]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,g,v,E,y){var D=E[0],x=E[1],b=[],C,S;for(C=0;C<D;C++)for(b[C]=[],S=0;S<x;S++)b[C][S]=0;for(S=0;S<x;S++)for(var A=v[S],F=v[S+1],I=A;I<F;I++)C=g[I],b[C][S]=d?y?Xe(d[I]):d[I]:1;return b}return i.prototype.format=function(d){for(var g=this._size[0],v=this._size[1],E=this.density(),y="Sparse Matrix ["+rt(g,d)+" x "+rt(v,d)+"] density: "+rt(E,d)+`
`,D=0;D<v;D++)for(var x=this._ptr[D],b=this._ptr[D+1],C=x;C<b;C++){var S=this._index[C];y+=`
    (`+rt(S,d)+", "+rt(D,d)+") ==> "+(this._values?rt(this._values[C],d):"X")}return y},i.prototype.toString=function(){return rt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if($e(d)&&(d=d.toNumber()),!tt(d)||!Ue(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var g=d>0?d:0,v=d<0?-d:0,E=this._size[0],y=this._size[1],D=Math.min(E-v,y-g),x=[],b=[],C=[];C[0]=0;for(var S=g;S<y&&x.length<D;S++)for(var A=this._ptr[S],F=this._ptr[S+1],I=A;I<F;I++){var M=this._index[I];if(M===S-g+v){x.push(this._values[I]),b[x.length-1]=M-v;break}}return C.push(x.length),new i({values:x,index:b,ptr:C,size:[D,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,g,v,E,y){if(!Et(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(B){if($e(B)&&(B=B.toNumber()),!tt(B)||!Ue(B)||B<1)throw new Error("Size values must be positive integers");return B}),v){if($e(v)&&(v=v.toNumber()),!tt(v)||!Ue(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var D=t,x=0;gr(y)&&(D=e.find(t,[y,y])||t,x=e.convert(0,y));var b=v>0?v:0,C=v<0?-v:0,S=d[0],A=d[1],F=Math.min(S-C,A-b),I;if(Et(g)){if(g.length!==F)throw new Error("Invalid value array length");I=function(U){return g[U]}}else if(He(g)){var M=g.size();if(M.length!==1||M[0]!==F)throw new Error("Invalid matrix length");I=function(U){return g.get([U])}}else I=function(){return g};for(var O=[],P=[],k=[],_=0;_<A;_++){k.push(O.length);var T=_-b;if(T>=0&&T<F){var z=I(T);D(z,x)||(P.push(T+C),O.push(z))}}return k.push(O.length),new i({values:O,index:P,ptr:k,size:[S,A]})},i.prototype.swapRows=function(d,g){if(!tt(d)||!Ue(d)||!tt(g)||!Ue(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pt(d,this._size[0]),Pt(g,this._size[0]),i._swapRows(d,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,g,v,E,y){for(var D=E[d],x=E[d+1],b=D;b<x;b++)y(v[b],g[b])},i._swapRows=function(d,g,v,E,y,D){for(var x=0;x<v;x++){var b=D[x],C=D[x+1],S=s(d,b,C,y),A=s(g,b,C,y);if(S<C&&A<C&&y[S]===d&&y[A]===g){if(E){var F=E[S];E[S]=E[A],E[A]=F}continue}if(S<C&&y[S]===d&&(A>=C||y[A]!==g)){var I=E?E[S]:void 0;y.splice(A,0,g),E&&E.splice(A,0,I),y.splice(A<=S?S+1:S,1),E&&E.splice(A<=S?S+1:S,1);continue}if(A<C&&y[A]===g&&(S>=C||y[S]!==d)){var M=E?E[A]:void 0;y.splice(S,0,d),E&&E.splice(S,0,M),y.splice(S<=A?A+1:A,1),E&&E.splice(S<=A?A+1:A,1)}}},i},{isClass:!0});var qV="number",VV=["typed"];function UV(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function zV(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is no valid number');return a}var Zg=N(qV,VV,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=UV(i);if(a)return zV(a);var o=0,l=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(o=Number(l[2]),i=l[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is no valid number');if(l){if(u>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(o-1)&&(u=u-2**o)}return u},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>je(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var PA="string",WV=["typed"],Yg=N(PA,WV,r=>{var{typed:e}=r;return e(PA,{"":function(){return""},number:Si,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(t=>n=>je(n,t)),any:function(n){return String(n)}})});var LA="boolean",HV=["typed"],Jg=N(LA,HV,r=>{var{typed:e}=r;return e(LA,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var GV="bignumber",jV=["typed","BigNumber"],Xg=N(GV,jV,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],l=t(a[1]),u=new t(2).pow(Number(o));if(l.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new t(2).pow(Number(o)-1);return l.gte(s)?l.sub(u):l}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>je(i,n))})});var ZV="complex",YV=["typed","Complex"],Qg=N(ZV,YV,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>je(i,n))})});var JV="fraction",XV=["typed","Fraction"],Kg=N(JV,XV,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>je(i,n))})});var qA="matrix",QV=["typed","Matrix","DenseMatrix","SparseMatrix"],$g=N(qA,QV,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(qA,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,u){return a([],l,u)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,l,u){if(l==="dense"||l==="default"||l===void 0)return new n(o,u);if(l==="sparse")return new i(o,u);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}});var VA="matrixFromFunction",KV=["typed","matrix","isZero"],ev=N(VA,KV,r=>{var{typed:e,matrix:t,isZero:n}=r;return e(VA,{"Array | Matrix, function, string, string":function(o,l,u,s){return i(o,l,u,s)},"Array | Matrix, function, string":function(o,l,u){return i(o,l,u)},"Matrix, function":function(o,l){return i(o,l,"dense")},"Array, function":function(o,l){return i(o,l,"dense").toArray()},"Array | Matrix, string, function":function(o,l,u){return i(o,u,l)},"Array | Matrix, string, string, function":function(o,l,u,s){return i(o,s,l,u)}});function i(a,o,l,u){var s;return u!==void 0?s=t(l,u):s=t(l),s.resize(a),s.forEach(function(c,f){var m=o(f);n(m)||s.set(f,m)}),s}});var UA="matrixFromRows",$V=["typed","matrix","flatten","size"],tv=N(UA,$V,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(UA,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var u=o(l[0]),s=[];for(var c of l){var f=o(c);if(f!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(f|0));s.push(n(c))}return s}function o(l){var u=i(l);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var zA="matrixFromColumns",eU=["typed","matrix","flatten","size"],rv=N(zA,eU,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(zA,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var u=o(l[0]),s=[],c=0;c<u;c++)s[c]=[];for(var f of l){var m=o(f);if(m!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(m|0));for(var p=n(f),h=0;h<u;h++)s[h].push(p[h])}return s}function o(l){var u=i(l);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var WA="splitUnit",tU=["typed"],nv=N(WA,tU,r=>{var{typed:e}=r;return e(WA,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var HA="unaryMinus",rU=["typed"],iv=N(HA,rU,r=>{var{typed:e}=r;return e(HA,{number:Hh,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>je(n,t,!0))})});var GA="unaryPlus",nU=["typed","config","BigNumber"],av=N(GA,nU,r=>{var{typed:e,config:t,BigNumber:n}=r;return e(GA,{number:Gh,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>je(a,i,!0)),"boolean | string":function(a){return t.number==="BigNumber"?new n(+a):+a}})});var jA="abs",iU=["typed"],ov=N(jA,iU,r=>{var{typed:e}=r;return e(jA,{number:Uh,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>n=>je(n,t,!0))})});var ZA="apply",aU=["typed","isInteger"],wo=N(ZA,aU,r=>{var{typed:e,isInteger:t}=r;return e(ZA,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var l=Array.isArray(i)?Qe(i):i.size();if(a<0||a>=l.length)throw new sn(a,l.length);return He(i)?i.create(Wf(i.valueOf(),a,o)):Wf(i,a,o)}})});function Wf(r,e,t){var n,i,a;if(e<=0)if(Array.isArray(r[0])){for(a=oU(r),i=[],n=0;n<a.length;n++)i[n]=Wf(a[n],e-1,t);return i}else return t(r);else{for(i=[],n=0;n<r.length;n++)i[n]=Wf(r[n],e-1,t);return i}}function oU(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}var YA="addScalar",sU=["typed"],sv=N(YA,sU,r=>{var{typed:e}=r;return e(YA,{"number, number":zh,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var JA="cbrt",uU=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],uv=N(JA,uU,r=>{var{config:e,typed:t,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:l,Fraction:u}=r;return t(JA,{number:Ds,Complex:s,"Complex, boolean":s,BigNumber:function(m){return m.cbrt()},Unit:c});function s(f,m){var p=f.arg()/3,h=f.abs(),d=new o(Ds(h),0).mul(new o(0,p).exp());if(m){var g=[d,new o(Ds(h),0).mul(new o(0,p+Math.PI*2/3).exp()),new o(Ds(h),0).mul(new o(0,p-Math.PI*2/3).exp())];return e.matrix==="Array"?g:a(g)}else return d}function c(f){if(f.value&&Sn(f.value)){var m=f.clone();return m.value=1,m=m.pow(1/3),m.value=s(f.value),m}else{var p=n(f.value);p&&(f.value=i(f.value));var h;$e(f.value)?h=new l(1).div(3):ia(f.value)?h=new u(1,3):h=1/3;var d=f.pow(h);return p&&(d.value=i(d.value)),d}}});var lU="matAlgo11xS0s",cU=["typed","equalScalar"],Lt=N(lU,cU,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=t,v=0,E=o;typeof m=="string"&&(d=m,g=e.find(t,[d,d]),v=e.convert(0,d),a=e.convert(a,d),E=e.find(o,[d,d]));for(var y=[],D=[],x=[],b=0;b<h;b++){x[b]=D.length;for(var C=c[b],S=c[b+1],A=C;A<S;A++){var F=s[A],I=l?E(a,u[A]):E(u[A],a);g(I,v)||(D.push(F),y.push(I))}}return x[h]=D.length,i.createSparseMatrix({values:y,index:D,ptr:x,size:[p,h],datatype:d})}});var fU="matAlgo12xSfs",mU=["typed","DenseMatrix"],At=N(fU,mU,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=o;typeof m=="string"&&(d=m,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],E=[],y=[],D=0;D<h;D++){for(var x=D+1,b=c[D],C=c[D+1],S=b;S<C;S++){var A=s[S];E[A]=u[S],y[A]=x}for(var F=0;F<p;F++)D===0&&(v[F]=[]),y[F]===x?v[F][D]=l?g(a,E[F]):g(E[F],a):v[F][D]=l?g(a,0):g(0,a)}return new t({data:v,size:[p,h],datatype:d})}});var pU="matAlgo14xDs",dU=["typed"],Sr=N(pU,dU,r=>{var{typed:e}=r;return function(i,a,o,l){var u=i._data,s=i._size,c=i._datatype,f,m=o;typeof c=="string"&&(f=c,a=e.convert(a,f),m=e.find(o,[f,f]));var p=s.length>0?t(m,0,s,s[0],u,a,l):[];return i.createDenseMatrix({data:p,size:Xe(s),datatype:f})};function t(n,i,a,o,l,u,s){var c=[];if(i===a.length-1)for(var f=0;f<o;f++)c[f]=s?n(u,l[f]):n(l[f],u);else for(var m=0;m<o;m++)c[m]=t(n,i+1,a,a[i+1],l[m],u,s);return c}});var lv="ceil",hU=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],gU=N(lv,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(lv,{number:function(a){return Ar(a,n(a),t.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(Ar(a,n(a,o),t.epsilon))return n(a,o);var[l,u]="".concat(a,"e").split("e"),s=Math.ceil(Number("".concat(l,"e").concat(Number(u)+o)));return[l,u]="".concat(s,"e").split("e"),Number("".concat(l,"e").concat(Number(u)-o))}})}),cv=N(lv,hU,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=r,u=Lt({typed:e,equalScalar:a}),s=At({typed:e,DenseMatrix:l}),c=Sr({typed:e}),f=gU({typed:e,config:t,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,h){return p.ceil(h)},"Complex, BigNumber":function(p,h){return p.ceil(h.toNumber())},BigNumber:function(p){return Xr(p,n(p),t.epsilon)?n(p):p.ceil()},"BigNumber, BigNumber":function(p,h){return Xr(p,n(p,h),t.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),xo.ROUND_CEIL)},Fraction:function(p){return p.ceil()},"Fraction, number":function(p,h){return p.ceil(h)},"Fraction, BigNumber":function(p,h){return p.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(m=>p=>je(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>je(p,d=>m(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>u(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>c(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>c(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,p,m,!0):s(h,p,m,!0))})});var XA="cube",vU=["typed"],fv=N(XA,vU,r=>{var{typed:e}=r;return e(XA,{number:jh,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var QA="exp",yU=["typed"],mv=N(QA,yU,r=>{var{typed:e}=r;return e(QA,{number:Zh,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var KA="expm1",xU=["typed","Complex"],pv=N(KA,xU,r=>{var{typed:e,Complex:t}=r;return e(KA,{number:Yh,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var dv="fix",bU=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],DU=N(dv,["typed","ceil","floor"],r=>{var{typed:e,ceil:t,floor:n}=r;return e(dv,{number:function(a){return a>0?n(a):t(a)},"number, number":function(a,o){return a>0?n(a,o):t(a,o)}})}),hv=N(dv,bU,r=>{var{typed:e,Complex:t,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:l,DenseMatrix:u}=r,s=At({typed:e,DenseMatrix:u}),c=Sr({typed:e}),f=DU({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(p){return new t(p.re>0?Math.floor(p.re):Math.ceil(p.re),p.im>0?Math.floor(p.im):Math.ceil(p.im))},"Complex, number":function(p,h){return new t(p.re>0?a(p.re,h):i(p.re,h),p.im>0?a(p.im,h):i(p.im,h))},"Complex, BigNumber":function(p,h){var d=h.toNumber();return new t(p.re>0?a(p.re,d):i(p.re,d),p.im>0?a(p.im,d):i(p.im,d))},BigNumber:function(p){return p.isNegative()?i(p):a(p)},"BigNumber, number | BigNumber":function(p,h){return p.isNegative()?i(p,h):a(p,h)},Fraction:function(p){return p.s<0?p.ceil():p.floor()},"Fraction, number | BigNumber":function(p,h){return p.s<0?i(p,h):a(p,h)},"Array | Matrix":e.referToSelf(m=>p=>je(p,m,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(m=>(p,h)=>je(p,d=>m(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>c(n(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>o(p,0)?l(h.size(),h.storage()):h.storage()==="dense"?c(h,p,m,!0):s(h,p,m,!0))})});var gv="floor",wU=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],EU=N(gv,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(gv,{number:function(a){return Ar(a,n(a),t.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(Ar(a,n(a,o),t.epsilon))return n(a,o);var[l,u]="".concat(a,"e").split("e"),s=Math.floor(Number("".concat(l,"e").concat(Number(u)+o)));return[l,u]="".concat(s,"e").split("e"),Number("".concat(l,"e").concat(Number(u)-o))}})}),Wu=N(gv,wU,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=r,u=Lt({typed:e,equalScalar:a}),s=At({typed:e,DenseMatrix:l}),c=Sr({typed:e}),f=EU({typed:e,config:t,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,h){return p.floor(h)},"Complex, BigNumber":function(p,h){return p.floor(h.toNumber())},BigNumber:function(p){return Xr(p,n(p),t.epsilon)?n(p):p.floor()},"BigNumber, BigNumber":function(p,h){return Xr(p,n(p,h),t.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),xo.ROUND_FLOOR)},Fraction:function(p){return p.floor()},"Fraction, number":function(p,h){return p.floor(h)},"Fraction, BigNumber":function(p,h){return p.floor(h.toNumber())},"Array | Matrix":e.referToSelf(m=>p=>je(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>je(p,d=>m(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>u(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>c(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>c(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,p,m,!0):s(h,p,m,!0))})});var CU="matAlgo02xDS0",FU=["typed","equalScalar"],Nr=N(CU,FU,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,l){var u=i._data,s=i._size,c=i._datatype,f=a._values,m=a._index,p=a._ptr,h=a._size,d=a._datatype;if(s.length!==h.length)throw new ot(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=s[0],v=s[1],E,y=t,D=0,x=o;typeof c=="string"&&c===d&&(E=c,y=e.find(t,[E,E]),D=e.convert(0,E),x=e.find(o,[E,E]));for(var b=[],C=[],S=[],A=0;A<v;A++){S[A]=C.length;for(var F=p[A],I=p[A+1],M=F;M<I;M++){var O=m[M],P=l?x(f[M],u[O][A]):x(u[O][A],f[M]);y(P,D)||(C.push(O),b.push(P))}}return S[v]=C.length,a.createSparseMatrix({values:b,index:C,ptr:S,size:[g,v],datatype:E})}});var AU="matAlgo03xDSf",SU=["typed"],Xt=N(AU,SU,r=>{var{typed:e}=r;return function(n,i,a,o){var l=n._data,u=n._size,s=n._datatype,c=i._values,f=i._index,m=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v,E=0,y=a;typeof s=="string"&&s===h&&(v=s,E=e.convert(0,v),y=e.find(a,[v,v]));for(var D=[],x=0;x<d;x++)D[x]=[];for(var b=[],C=[],S=0;S<g;S++){for(var A=S+1,F=m[S],I=m[S+1],M=F;M<I;M++){var O=f[M];b[O]=o?y(c[M],l[O][S]):y(l[O][S],c[M]),C[O]=A}for(var P=0;P<d;P++)C[P]===A?D[P][S]=b[P]:D[P][S]=o?y(E,l[P][S]):y(l[P][S],E)}return n.createDenseMatrix({data:D,size:[d,g],datatype:v})}});var NU="matAlgo05xSfSf",MU=["typed","equalScalar"],za=N(NU,MU,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var v=c[0],E=c[1],y,D=t,x=0,b=o;typeof f=="string"&&f===g&&(y=f,D=e.find(t,[y,y]),x=e.convert(0,y),b=e.find(o,[y,y]));var C=l&&m?[]:void 0,S=[],A=[],F=C?[]:void 0,I=C?[]:void 0,M=[],O=[],P,k,_,T;for(k=0;k<E;k++){A[k]=S.length;var z=k+1;for(_=s[k],T=s[k+1];_<T;_++)P=u[_],S.push(P),M[P]=z,F&&(F[P]=l[_]);for(_=h[k],T=h[k+1];_<T;_++)P=p[_],M[P]!==z&&S.push(P),O[P]=z,I&&(I[P]=m[_]);if(C)for(_=A[k];_<S.length;){P=S[_];var B=M[P],U=O[P];if(B===z||U===z){var Y=B===z?F[P]:x,J=U===z?I[P]:x,L=b(Y,J);D(L,x)?S.splice(_,1):(C.push(L),_++)}}}return A[E]=S.length,i.createSparseMatrix({values:C,index:S,ptr:A,size:[v,E],datatype:y})}});var _U="matAlgo13xDD",TU=["typed"],$A=N(_U,TU,r=>{var{typed:e}=r;return function(i,a,o){var l=i._data,u=i._size,s=i._datatype,c=a._data,f=a._size,m=a._datatype,p=[];if(u.length!==f.length)throw new ot(u.length,f.length);for(var h=0;h<u.length;h++){if(u[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");p[h]=u[h]}var d,g=o;typeof s=="string"&&s===m&&(d=s,g=e.find(o,[d,d]));var v=p.length>0?t(g,0,p,p[0],l,c):[];return i.createDenseMatrix({data:v,size:p,datatype:d})};function t(n,i,a,o,l,u){var s=[];if(i===a.length-1)for(var c=0;c<o;c++)s[c]=n(l[c],u[c]);else for(var f=0;f<o;f++)s[f]=t(n,i+1,a,a[i+1],l[f],u[f]);return s}});var IU="broadcast",BU=["concat"],eS=N(IU,BU,r=>{var{concat:e}=r;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var l=t(i._size,o,0),u=t(a._size,o,0),s=[],c=0;c<o;c++)s[c]=Math.max(l[c],u[c]);ku(l,s),ku(u,s);var f=i.clone(),m=a.clone();f._size.length<o?f.reshape(t(f._size,o,1)):m._size.length<o&&m.reshape(t(m._size,o,1));for(var p=0;p<o;p++)f._size[p]<s[p]&&(f=n(f,s[p],p)),m._size[p]<s[p]&&(m=n(m,s[p],p));return[f,m]};function t(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return e(...Array(a).fill(i),o)}});var OU="matrixAlgorithmSuite",RU=["typed","matrix","concat"],lt=N(OU,RU,r=>{var{typed:e,matrix:t,concat:n}=r,i=$A({typed:e}),a=Sr({typed:e}),o=eS({concat:n});return function(u){var s=u.elop,c=u.SD||u.DS,f;s?(f={"DenseMatrix, DenseMatrix":(d,g)=>i(...o(d,g),s),"Array, Array":(d,g)=>i(...o(t(d),t(g)),s).valueOf(),"Array, DenseMatrix":(d,g)=>i(...o(t(d),g),s),"DenseMatrix, Array":(d,g)=>i(...o(d,t(g)),s)},u.SS&&(f["SparseMatrix, SparseMatrix"]=(d,g)=>u.SS(...o(d,g),s,!1)),u.DS&&(f["DenseMatrix, SparseMatrix"]=(d,g)=>u.DS(...o(d,g),s,!1),f["Array, SparseMatrix"]=(d,g)=>u.DS(...o(t(d),g),s,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(d,g)=>c(...o(g,d),s,!0),f["SparseMatrix, Array"]=(d,g)=>c(...o(t(g),d),s,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(g,v),d)),"Array, Array":e.referToSelf(d=>(g,v)=>i(...o(t(g),t(v)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(t(g),v),d)),"DenseMatrix, Array":e.referToSelf(d=>(g,v)=>i(...o(g,t(v)),d))},u.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.SS(...o(g,v),d,!1))),u.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(g,v),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(t(g),v),d,!1))),c&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(g,v)=>c(...o(v,g),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(g,v)=>c(...o(t(v),g),d,!0))));var m=u.scalar||"any",p=u.Ds||u.Ss;p&&(s?(f["DenseMatrix,"+m]=(d,g)=>a(d,g,s,!1),f[m+", DenseMatrix"]=(d,g)=>a(g,d,s,!0),f["Array,"+m]=(d,g)=>a(t(d),g,s,!1).valueOf(),f[m+", Array"]=(d,g)=>a(t(g),d,s,!0).valueOf()):(f["DenseMatrix,"+m]=e.referToSelf(d=>(g,v)=>a(g,v,d,!1)),f[m+", DenseMatrix"]=e.referToSelf(d=>(g,v)=>a(v,g,d,!0)),f["Array,"+m]=e.referToSelf(d=>(g,v)=>a(t(g),v,d,!1).valueOf()),f[m+", Array"]=e.referToSelf(d=>(g,v)=>a(t(v),g,d,!0).valueOf())));var h=u.sS!==void 0?u.sS:u.Ss;return s?(u.Ss&&(f["SparseMatrix,"+m]=(d,g)=>u.Ss(d,g,s,!1)),h&&(f[m+", SparseMatrix"]=(d,g)=>h(g,d,s,!0))):(u.Ss&&(f["SparseMatrix,"+m]=e.referToSelf(d=>(g,v)=>u.Ss(g,v,d,!1))),h&&(f[m+", SparseMatrix"]=e.referToSelf(d=>(g,v)=>h(v,g,d,!0)))),s&&s.signatures&&xf(f,s.signatures),f}});var tS="mod",kU=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Hu=N(tS,kU,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l,concat:u}=r,s=Wu({typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}),c=Nr({typed:e,equalScalar:a}),f=Xt({typed:e}),m=za({typed:e,equalScalar:a}),p=Lt({typed:e,equalScalar:a}),h=At({typed:e,DenseMatrix:l}),d=lt({typed:e,matrix:i,concat:u});return e(tS,{"number, number":g,"BigNumber, BigNumber":function(E,y){if(y.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return y.isZero()?E:E.mod(y)},"Fraction, Fraction":function(E,y){if(y.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return E.compare(0)>=0?E.mod(y):E.mod(y).add(y).mod(y)}},d({SS:m,DS:f,SD:c,Ss:p,sS:h}));function g(v,E){return E===0?v:v-E*s(v/E)}});var PU="matAlgo01xDSid",LU=["typed"],hn=N(PU,LU,r=>{var{typed:e}=r;return function(n,i,a,o){var l=n._data,u=n._size,s=n._datatype,c=i._values,f=i._index,m=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v=typeof s=="string"&&s===h?s:void 0,E=v?e.find(a,[v,v]):a,y,D,x=[];for(y=0;y<d;y++)x[y]=[];var b=[],C=[];for(D=0;D<g;D++){for(var S=D+1,A=m[D],F=m[D+1],I=A;I<F;I++)y=f[I],b[y]=o?E(c[I],l[y][D]):E(l[y][D],c[I]),C[y]=S;for(y=0;y<d;y++)C[y]===S?x[y][D]=b[y]:x[y][D]=l[y][D]}return n.createDenseMatrix({data:x,size:[d,g],datatype:v})}});var qU="matAlgo04xSidSid",VU=["typed","equalScalar"],Es=N(qU,VU,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var v=c[0],E=c[1],y,D=t,x=0,b=o;typeof f=="string"&&f===g&&(y=f,D=e.find(t,[y,y]),x=e.convert(0,y),b=e.find(o,[y,y]));var C=l&&m?[]:void 0,S=[],A=[],F=l&&m?[]:void 0,I=l&&m?[]:void 0,M=[],O=[],P,k,_,T,z;for(k=0;k<E;k++){A[k]=S.length;var B=k+1;for(T=s[k],z=s[k+1],_=T;_<z;_++)P=u[_],S.push(P),M[P]=B,F&&(F[P]=l[_]);for(T=h[k],z=h[k+1],_=T;_<z;_++)if(P=p[_],M[P]===B){if(F){var U=b(F[P],m[_]);D(U,x)?M[P]=null:F[P]=U}}else S.push(P),O[P]=B,I&&(I[P]=m[_]);if(F&&I)for(_=A[k];_<S.length;)P=S[_],M[P]===B?(C[_]=F[P],_++):O[P]===B?(C[_]=I[P],_++):S.splice(_,1)}return A[E]=S.length,i.createSparseMatrix({values:C,index:S,ptr:A,size:[v,E],datatype:y})}});var UU="matAlgo10xSids",zU=["typed","DenseMatrix"],Ln=N(UU,zU,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=o;typeof m=="string"&&(d=m,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],E=[],y=[],D=0;D<h;D++){for(var x=D+1,b=c[D],C=c[D+1],S=b;S<C;S++){var A=s[S];E[A]=u[S],y[A]=x}for(var F=0;F<p;F++)D===0&&(v[F]=[]),y[F]===x?v[F][D]=l?g(a,E[F]):g(E[F],a):v[F][D]=a}return new t({data:v,size:[p,h],datatype:d})}});function la(r,e,t,n){if(!(this instanceof la))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=e,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+e+" provided, "+t+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}la.prototype=new Error;la.prototype.constructor=Error;la.prototype.name="ArgumentsError";la.prototype.isArgumentsError=!0;var rS="gcd",WU=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],vv="number | BigNumber | Fraction | Matrix | Array",HU="".concat(vv,", ").concat(vv,", ...").concat(vv);function nS(r){return!r.some(e=>Array.isArray(e))}var yv=N(rS,WU,r=>{var{typed:e,matrix:t,config:n,round:i,equalScalar:a,zeros:o,BigNumber:l,DenseMatrix:u,concat:s}=r,c=Hu({typed:e,config:n,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}),f=hn({typed:e}),m=Es({typed:e,equalScalar:a}),p=Ln({typed:e,DenseMatrix:u}),h=lt({typed:e,matrix:t,concat:s});return e(rS,{"number, number":d,"BigNumber, BigNumber":g,"Fraction, Fraction":(v,E)=>v.gcd(E)},h({SS:m,DS:f,Ss:p}),{[HU]:e.referToSelf(v=>(E,y,D)=>{for(var x=v(E,y),b=0;b<D.length;b++)x=v(x,D[b]);return x}),Array:e.referToSelf(v=>E=>{if(E.length===1&&Array.isArray(E[0])&&nS(E[0]))return v(...E[0]);if(nS(E))return v(...E);throw new la("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(v=>E=>v(E.toArray()))});function d(v,E){if(!Ue(v)||!Ue(E))throw new Error("Parameters in function gcd must be integer numbers");for(var y;E!==0;)y=c(v,E),v=E,E=y;return v<0?-v:v}function g(v,E){if(!v.isInt()||!E.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new l(0);!E.isZero();){var D=c(v,E);v=E,E=D}return v.lt(y)?v.neg():v}});var GU="matAlgo06xS0S0",jU=["typed","equalScalar"],Wa=N(GU,jU,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._size,s=i._datatype,c=a._values,f=a._size,m=a._datatype;if(u.length!==f.length)throw new ot(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var p=u[0],h=u[1],d,g=t,v=0,E=o;typeof s=="string"&&s===m&&(d=s,g=e.find(t,[d,d]),v=e.convert(0,d),E=e.find(o,[d,d]));for(var y=l&&c?[]:void 0,D=[],x=[],b=y?[]:void 0,C=[],S=[],A=0;A<h;A++){x[A]=D.length;var F=A+1;if(qh(i,A,C,b,S,F,D,E),qh(a,A,C,b,S,F,D,E),b)for(var I=x[A];I<D.length;){var M=D[I];if(S[M]===F){var O=b[M];g(O,v)?D.splice(I,1):(y.push(O),I++)}else D.splice(I,1)}else for(var P=x[A];P<D.length;){var k=D[P];S[k]!==F?D.splice(P,1):P++}}return x[h]=D.length,i.createSparseMatrix({values:y,index:D,ptr:x,size:[p,h],datatype:d})}});var iS="lcm",ZU=["typed","matrix","equalScalar","concat"],xv=N(iS,ZU,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Nr({typed:e,equalScalar:n}),o=Wa({typed:e,equalScalar:n}),l=Lt({typed:e,equalScalar:n}),u=lt({typed:e,matrix:t,concat:i}),s="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(s,", ").concat(s,", ...").concat(s)]=e.referToSelf(m=>(p,h,d)=>{for(var g=m(p,h),v=0;v<d.length;v++)g=m(g,d[v]);return g}),e(iS,{"number, number":Jh,"BigNumber, BigNumber":f,"Fraction, Fraction":(m,p)=>m.lcm(p)},u({SS:o,DS:a,Ss:l}),c);function f(m,p){if(!m.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(m.isZero())return m;if(p.isZero())return p;for(var h=m.times(p);!p.isZero();){var d=p;p=m.mod(d),m=d}return h.div(m).abs()}});var aS="log10",YU=["typed","config","Complex"],bv=N(aS,YU,r=>{var{typed:e,config:t,Complex:n}=r;return e(aS,{number:function(a){return a>=0||t.predictable?Xh(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>je(a,i))})});var oS="log2",JU=["typed","config","Complex"],Dv=N(oS,JU,r=>{var{typed:e,config:t,Complex:n}=r;return e(oS,{number:function(o){return o>=0||t.predictable?Qh(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>je(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var XU="multiplyScalar",QU=["typed"],wv=N(XU,QU,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Wh,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var sS="multiply",KU=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ev=N(sS,KU,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=r,l=Lt({typed:e,equalScalar:a}),u=Sr({typed:e});function s(x,b){switch(x.length){case 1:switch(b.length){case 1:if(x[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(x[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+x[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(x[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+x[1]+") must match Vector length ("+b[0]+")");break;case 2:if(x[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+x[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+x.length+" dimensions)")}}function c(x,b,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(x,b)}function f(x,b){if(b.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return m(x,b)}function m(x,b){var C=x._data,S=x._size,A=x._datatype,F=b._data,I=b._size,M=b._datatype,O=S[0],P=I[1],k,_=n,T=i;A&&M&&A===M&&typeof A=="string"&&(k=A,_=e.find(n,[k,k]),T=e.find(i,[k,k]));for(var z=[],B=0;B<P;B++){for(var U=T(C[0],F[0][B]),Y=1;Y<O;Y++)U=_(U,T(C[Y],F[Y][B]));z[B]=U}return x.createDenseMatrix({data:z,size:[P],datatype:k})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":E}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":D});function d(x,b){var C=x._data,S=x._size,A=x._datatype,F=b._data,I=b._datatype,M=S[0],O=S[1],P,k=n,_=i;A&&I&&A===I&&typeof A=="string"&&(P=A,k=e.find(n,[P,P]),_=e.find(i,[P,P]));for(var T=[],z=0;z<M;z++){for(var B=C[z],U=_(B[0],F[0]),Y=1;Y<O;Y++)U=k(U,_(B[Y],F[Y]));T[z]=U}return x.createDenseMatrix({data:T,size:[M],datatype:P})}function g(x,b){var C=x._data,S=x._size,A=x._datatype,F=b._data,I=b._size,M=b._datatype,O=S[0],P=S[1],k=I[1],_,T=n,z=i;A&&M&&A===M&&typeof A=="string"&&(_=A,T=e.find(n,[_,_]),z=e.find(i,[_,_]));for(var B=[],U=0;U<O;U++){var Y=C[U];B[U]=[];for(var J=0;J<k;J++){for(var L=z(Y[0],F[0][J]),X=1;X<P;X++)L=T(L,z(Y[X],F[X][J]));B[U][J]=L}}return x.createDenseMatrix({data:B,size:[O,k],datatype:_})}function v(x,b){var C=x._data,S=x._size,A=x._datatype,F=b._values,I=b._index,M=b._ptr,O=b._size,P=b._datatype;if(!F)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var k=S[0],_=O[1],T,z=n,B=i,U=a,Y=0;A&&P&&A===P&&typeof A=="string"&&(T=A,z=e.find(n,[T,T]),B=e.find(i,[T,T]),U=e.find(a,[T,T]),Y=e.convert(0,T));for(var J=[],L=[],X=[],se=b.createSparseMatrix({values:J,index:L,ptr:X,size:[k,_],datatype:T}),te=0;te<_;te++){X[te]=L.length;var me=M[te],de=M[te+1];if(de>me)for(var fe=0,ue=0;ue<k;ue++){for(var xe=ue+1,We=void 0,Ne=me;Ne<de;Ne++){var Ve=I[Ne];fe!==xe?(We=B(C[ue][Ve],F[Ne]),fe=xe):We=z(We,B(C[ue][Ve],F[Ne]))}fe===xe&&!U(We,Y)&&(L.push(ue),J.push(We))}}return X[_]=L.length,se}function E(x,b){var C=x._values,S=x._index,A=x._ptr,F=x._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=b._data,M=b._datatype,O=x._size[0],P=b._size[0],k=[],_=[],T=[],z,B=n,U=i,Y=a,J=0;F&&M&&F===M&&typeof F=="string"&&(z=F,B=e.find(n,[z,z]),U=e.find(i,[z,z]),Y=e.find(a,[z,z]),J=e.convert(0,z));var L=[],X=[];T[0]=0;for(var se=0;se<P;se++){var te=I[se];if(!Y(te,J))for(var me=A[se],de=A[se+1],fe=me;fe<de;fe++){var ue=S[fe];X[ue]?L[ue]=B(L[ue],U(te,C[fe])):(X[ue]=!0,_.push(ue),L[ue]=U(te,C[fe]))}}for(var xe=_.length,We=0;We<xe;We++){var Ne=_[We];k[We]=L[Ne]}return T[1]=_.length,x.createSparseMatrix({values:k,index:_,ptr:T,size:[O,1],datatype:z})}function y(x,b){var C=x._values,S=x._index,A=x._ptr,F=x._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=b._data,M=b._datatype,O=x._size[0],P=b._size[0],k=b._size[1],_,T=n,z=i,B=a,U=0;F&&M&&F===M&&typeof F=="string"&&(_=F,T=e.find(n,[_,_]),z=e.find(i,[_,_]),B=e.find(a,[_,_]),U=e.convert(0,_));for(var Y=[],J=[],L=[],X=x.createSparseMatrix({values:Y,index:J,ptr:L,size:[O,k],datatype:_}),se=[],te=[],me=0;me<k;me++){L[me]=J.length;for(var de=me+1,fe=0;fe<P;fe++){var ue=I[fe][me];if(!B(ue,U))for(var xe=A[fe],We=A[fe+1],Ne=xe;Ne<We;Ne++){var Ve=S[Ne];te[Ve]!==de?(te[Ve]=de,J.push(Ve),se[Ve]=z(ue,C[Ne])):se[Ve]=T(se[Ve],z(ue,C[Ne]))}}for(var W=L[me],j=J.length,le=W;le<j;le++){var H=J[le];Y[le]=se[H]}}return L[k]=J.length,X}function D(x,b){var C=x._values,S=x._index,A=x._ptr,F=x._datatype,I=b._values,M=b._index,O=b._ptr,P=b._datatype,k=x._size[0],_=b._size[1],T=C&&I,z,B=n,U=i;F&&P&&F===P&&typeof F=="string"&&(z=F,B=e.find(n,[z,z]),U=e.find(i,[z,z]));for(var Y=T?[]:void 0,J=[],L=[],X=x.createSparseMatrix({values:Y,index:J,ptr:L,size:[k,_],datatype:z}),se=T?[]:void 0,te=[],me,de,fe,ue,xe,We,Ne,Ve,W=0;W<_;W++){L[W]=J.length;var j=W+1;for(xe=O[W],We=O[W+1],ue=xe;ue<We;ue++)if(Ve=M[ue],T)for(de=A[Ve],fe=A[Ve+1],me=de;me<fe;me++)Ne=S[me],te[Ne]!==j?(te[Ne]=j,J.push(Ne),se[Ne]=U(I[ue],C[me])):se[Ne]=B(se[Ne],U(I[ue],C[me]));else for(de=A[Ve],fe=A[Ve+1],me=de;me<fe;me++)Ne=S[me],te[Ne]!==j&&(te[Ne]=j,J.push(Ne));if(T)for(var le=L[W],H=J.length,Q=le;Q<H;Q++){var ne=J[Q];Y[Q]=se[ne]}}return L[_]=J.length,X}return e(sS,i,{"Array, Array":e.referTo("Matrix, Matrix",x=>(b,C)=>{s(Qe(b),Qe(C));var S=x(t(b),t(C));return He(S)?S.valueOf():S}),"Matrix, Matrix":function(b,C){var S=b.size(),A=C.size();return s(S,A),S.length===1?A.length===1?c(b,C,S[0]):f(b,C):A.length===1?p(b,C):h(b,C)},"Matrix, Array":e.referTo("Matrix,Matrix",x=>(b,C)=>x(b,t(C))),"Array, Matrix":e.referToSelf(x=>(b,C)=>x(t(b,C.storage()),C)),"SparseMatrix, any":function(b,C){return l(b,C,i,!1)},"DenseMatrix, any":function(b,C){return u(b,C,i,!1)},"any, SparseMatrix":function(b,C){return l(C,b,i,!0)},"any, DenseMatrix":function(b,C){return u(C,b,i,!0)},"Array, any":function(b,C){return u(t(b),C,i,!1).valueOf()},"any, Array":function(b,C){return u(t(C),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(x=>(b,C,S)=>{for(var A=x(b,C),F=0;F<S.length;F++)A=x(A,S[F]);return A})})});var uS="nthRoot",$U=["typed","matrix","equalScalar","BigNumber","concat"],Cv=N(uS,$U,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,concat:a}=r,o=hn({typed:e}),l=Nr({typed:e,equalScalar:n}),u=Wa({typed:e,equalScalar:n}),s=Lt({typed:e,equalScalar:n}),c=lt({typed:e,matrix:t,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(uS,{number:Kh,"number, number":Kh,BigNumber:p=>m(p,new i(2)),"BigNumber, BigNumber":m,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",p=>h=>p(t(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",p=>h=>p(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",p=>h=>p(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return u(h,d,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return o(h,d,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",p=>(h,d)=>p(t(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return s(d,h,p,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:l,Ss:s,sS:!1}));function m(p,h){var d=i.precision,g=i.clone({precision:d+2}),v=new i(0),E=new g(1),y=h.isNegative();if(y&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return y?new g(1/0):0;if(!p.isFinite())return y?v:p;var D=p.abs().pow(E.div(h));return D=p.isNeg()?D.neg():D,new i((y?E.div(D):D).toPrecision(d))}});var lS="sign",ez=["typed","BigNumber","Fraction","complex"],Fv=N(lS,ez,r=>{var{typed:e,BigNumber:t,complex:n,Fraction:i}=r;return e(lS,{number:Uf,Complex:function(o){return o.im===0?n(Uf(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>je(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var tz="sqrt",rz=["config","typed","Complex"],Av=N(tz,rz,r=>{var{config:e,typed:t,Complex:n}=r;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var cS="square",nz=["typed"],Sv=N(cS,nz,r=>{var{typed:e}=r;return e(cS,{number:$h,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var fS="subtract",iz=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix","concat"],Nv=N(fS,iz,r=>{var{typed:e,matrix:t,equalScalar:n,addScalar:i,unaryMinus:a,DenseMatrix:o,concat:l}=r,u=hn({typed:e}),s=Xt({typed:e}),c=za({typed:e,equalScalar:n}),f=Ln({typed:e,DenseMatrix:o}),m=At({typed:e,DenseMatrix:o}),p=lt({typed:e,matrix:t,concat:l});return e(fS,{"number, number":(h,d)=>h-d,"Complex, Complex":(h,d)=>h.sub(d),"BigNumber, BigNumber":(h,d)=>h.minus(d),"Fraction, Fraction":(h,d)=>h.sub(d),"Unit, Unit":e.referToSelf(h=>(d,g)=>{if(d.value===null)throw new Error("Parameter x contains a unit with undefined value");if(g.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!d.equalBase(g))throw new Error("Units do not match");var v=d.clone();return v.value=e.find(h,[v.valueType(),g.valueType()])(v.value,g.value),v.fixPrefix=!1,v})},p({SS:c,DS:u,SD:s,Ss:m,sS:f}))});var mS="xgcd",az=["typed","config","matrix","BigNumber"],Mv=N(mS,az,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(mS,{"number, number":function(l,u){var s=eg(l,u);return t.matrix==="Array"?s:n(s)},"BigNumber, BigNumber":a});function a(o,l){var u,s,c,f=new i(0),m=new i(1),p=f,h=m,d=m,g=f;if(!o.isInt()||!l.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!l.isZero();)s=o.div(l).floor(),c=o.mod(l),u=p,p=h.minus(s.times(p)),h=u,u=d,d=g.minus(s.times(d)),g=u,o=l,l=c;var v;return o.lt(f)?v=[o.neg(),h.neg(),g.neg()]:v=[o,o.isZero()?0:h,g],t.matrix==="Array"?v:n(v)}});var pS="invmod",oz=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],_v=N(pS,oz,r=>{var{typed:e,config:t,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:l,add:u,isInteger:s}=r;return e(pS,{"number, number":c,"BigNumber, BigNumber":c});function c(f,m){if(!s(f)||!s(m))throw new Error("Parameters in function invmod must be integer numbers");if(f=l(f,m),a(m,0))throw new Error("Divisor must be non zero");var p=i(f,m);p=p.valueOf();var[h,d]=p;return a(h,n(1))?(d=l(d,m),o(d,n(0))&&(d=u(d,m)),d):NaN}});var sz="matAlgo09xS0Sf",uz=["typed","equalScalar"],Hf=N(sz,uz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var v=c[0],E=c[1],y,D=t,x=0,b=o;typeof f=="string"&&f===g&&(y=f,D=e.find(t,[y,y]),x=e.convert(0,y),b=e.find(o,[y,y]));var C=l&&m?[]:void 0,S=[],A=[],F=C?[]:void 0,I=[],M,O,P,k,_;for(O=0;O<E;O++){A[O]=S.length;var T=O+1;if(F)for(k=h[O],_=h[O+1],P=k;P<_;P++)M=p[P],I[M]=T,F[M]=m[P];for(k=s[O],_=s[O+1],P=k;P<_;P++)if(M=u[P],F){var z=I[M]===T?F[M]:x,B=b(l[P],z);D(B,x)||(S.push(M),C.push(B))}else S.push(M)}return A[E]=S.length,i.createSparseMatrix({values:C,index:S,ptr:A,size:[v,E],datatype:y})}});var dS="dotMultiply",lz=["typed","matrix","equalScalar","multiplyScalar","concat"],Tv=N(dS,lz,r=>{var{typed:e,matrix:t,equalScalar:n,multiplyScalar:i,concat:a}=r,o=Nr({typed:e,equalScalar:n}),l=Hf({typed:e,equalScalar:n}),u=Lt({typed:e,equalScalar:n}),s=lt({typed:e,matrix:t,concat:a});return e(dS,s({elop:i,SS:l,DS:o,Ss:u}))});function hS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero()||e.eq(-1)||r.eq(e))return r;if(e.isZero()||r.eq(-1))return e;if(!r.isFinite()||!e.isFinite()){if(!r.isFinite()&&!e.isFinite())return r.isNegative()===e.isNegative()?r:new t(0);if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r}return Iv(r,e,function(n,i){return n&i})}function Cs(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var e=r.constructor,t=e.precision;e.config({precision:1e9});var n=r.plus(new e(1));return n.s=-n.s||null,e.config({precision:t}),n}function gS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);var n=new t(-1);return r.isZero()||e.eq(n)||r.eq(e)?e:e.isZero()||r.eq(n)?r:!r.isFinite()||!e.isFinite()?!r.isFinite()&&!r.isNegative()&&e.isNegative()||r.isNegative()&&!e.isNegative()&&!e.isFinite()?n:r.isNegative()&&e.isNegative()?r.isFinite()?r:e:r.isFinite()?e:r:Iv(r,e,function(i,a){return i|a})}function Iv(r,e,t){var n=r.constructor,i,a,o=+(r.s<0),l=+(e.s<0);if(o){i=Gf(Cs(r));for(var u=0;u<i.length;++u)i[u]^=1}else i=Gf(r);if(l){a=Gf(Cs(e));for(var s=0;s<a.length;++s)a[s]^=1}else a=Gf(e);var c,f,m;i.length<=a.length?(c=i,f=a,m=o):(c=a,f=i,m=l);var p=c.length,h=f.length,d=t(o,l)^1,g=new n(d^1),v=new n(1),E=new n(2),y=n.precision;for(n.config({precision:1e9});p>0;)t(c[--p],f[--h])===d&&(g=g.plus(v)),v=v.times(E);for(;h>0;)t(m,f[--h])===d&&(g=g.plus(v)),v=v.times(E);return n.config({precision:y}),d===0&&(g.s=-g.s),g}function Gf(r){for(var e=r.d,t=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var l=r.e,u=t.slice(0,o+1||1),s=u.length;if(l>0)if(++l>s)for(l-=s;l--;)u+="0";else l<s&&(u=u.slice(0,l)+"."+u.slice(l));for(var c=[0],f=0;f<u.length;){for(var m=c.length;m--;)c[m]*=10;c[0]+=parseInt(u.charAt(f++));for(var p=0;p<c.length;++p)c[p]>1&&((c[p+1]===null||c[p+1]===void 0)&&(c[p+1]=0),c[p+1]+=c[p]>>1,c[p]&=1)}return c.reverse()}function vS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero())return e;if(e.isZero())return r;if(r.eq(e))return new t(0);var n=new t(-1);return r.eq(n)?Cs(e):e.eq(n)?Cs(r):!r.isFinite()||!e.isFinite()?!r.isFinite()&&!e.isFinite()?n:new t(r.isNegative()===e.isNegative()?1/0:-1/0):Iv(r,e,function(i,a){return i^a})}function yS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:!r.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?r.times(Math.pow(2,e.toNumber())+""):r.times(new t(2).pow(e))}function xS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:e.isFinite()?e.lt(55)?r.div(Math.pow(2,e.toNumber())+"").floor():r.div(new t(2).pow(e)).floor():r.isNegative()?new t(-1):r.isFinite()?new t(0):new t(NaN)}var bS="bitAnd",cz=["typed","matrix","equalScalar","concat"],Bv=N(bS,cz,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Nr({typed:e,equalScalar:n}),o=Wa({typed:e,equalScalar:n}),l=Lt({typed:e,equalScalar:n}),u=lt({typed:e,matrix:t,concat:i});return e(bS,{"number, number":ng,"BigNumber, BigNumber":hS},u({SS:o,DS:a,Ss:l}))});var DS="bitNot",fz=["typed"],Ov=N(DS,fz,r=>{var{typed:e}=r;return e(DS,{number:ig,BigNumber:Cs,"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var wS="bitOr",mz=["typed","matrix","equalScalar","DenseMatrix","concat"],Rv=N(wS,mz,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=hn({typed:e}),l=Es({typed:e,equalScalar:n}),u=Ln({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:t,concat:a});return e(wS,{"number, number":ag,"BigNumber, BigNumber":gS},s({SS:l,DS:o,Ss:u}))});var pz="matAlgo07xSSf",dz=["typed","DenseMatrix"],Rr=N(pz,dz,r=>{var{typed:e,DenseMatrix:t}=r;return function(a,o,l){var u=a._size,s=a._datatype,c=o._size,f=o._datatype;if(u.length!==c.length)throw new ot(u.length,c.length);if(u[0]!==c[0]||u[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+c+")");var m=u[0],p=u[1],h,d=0,g=l;typeof s=="string"&&s===f&&(h=s,d=e.convert(0,h),g=e.find(l,[h,h]));var v,E,y=[];for(v=0;v<m;v++)y[v]=[];var D=[],x=[],b=[],C=[];for(E=0;E<p;E++){var S=E+1;for(n(a,E,b,D,S),n(o,E,C,x,S),v=0;v<m;v++){var A=b[v]===S?D[v]:d,F=C[v]===S?x[v]:d;y[v][E]=g(A,F)}}return new t({data:y,size:[m,p],datatype:h})};function n(i,a,o,l,u){for(var s=i._values,c=i._index,f=i._ptr,m=f[a],p=f[a+1];m<p;m++){var h=c[m];o[h]=u,l[h]=s[m]}}});var ES="bitXor",hz=["typed","matrix","DenseMatrix","concat"],kv=N(ES,hz,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=Xt({typed:e}),o=Rr({typed:e,DenseMatrix:n}),l=At({typed:e,DenseMatrix:n}),u=lt({typed:e,matrix:t,concat:i});return e(ES,{"number, number":og,"BigNumber, BigNumber":vS},u({SS:o,DS:a,Ss:l}))});var CS="arg",gz=["typed"],Pv=N(CS,gz,r=>{var{typed:e}=r;return e(CS,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var FS="conj",vz=["typed"],Lv=N(FS,vz,r=>{var{typed:e}=r;return e(FS,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var AS="im",yz=["typed"],qv=N(AS,yz,r=>{var{typed:e}=r;return e(AS,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var SS="re",xz=["typed"],Vv=N(SS,xz,r=>{var{typed:e}=r;return e(SS,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var NS="not",bz=["typed"],Uv=N(NS,bz,r=>{var{typed:e}=r;return e(NS,{"null | undefined":()=>!0,number:mg,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var MS="or",Dz=["typed","matrix","equalScalar","DenseMatrix","concat"],zv=N(MS,Dz,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),l=za({typed:e,equalScalar:n}),u=At({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:t,concat:a});return e(MS,{"number, number":pg,"Complex, Complex":function(f,m){return f.re!==0||f.im!==0||m.re!==0||m.im!==0},"BigNumber, BigNumber":function(f,m){return!f.isZero()&&!f.isNaN()||!m.isZero()&&!m.isNaN()},"Unit, Unit":e.referToSelf(c=>(f,m)=>c(f.value||0,m.value||0))},s({SS:l,DS:o,Ss:u}))});var _S="xor",wz=["typed","matrix","DenseMatrix","concat"],Wv=N(_S,wz,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=Xt({typed:e}),o=Rr({typed:e,DenseMatrix:n}),l=At({typed:e,DenseMatrix:n}),u=lt({typed:e,matrix:t,concat:i});return e(_S,{"number, number":dg,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(s=>(c,f)=>s(c.value||0,f.value||0))},u({SS:o,DS:a,Ss:l}))});var TS="concat",Ez=["typed","matrix","isInteger"],Gu=N(TS,Ez,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e(TS,{"...Array | Matrix | number | BigNumber":function(a){var o,l=a.length,u=-1,s,c=!1,f=[];for(o=0;o<l;o++){var m=a[o];if(He(m)&&(c=!0),tt(m)||$e(m)){if(o!==l-1)throw new Error("Dimension must be specified as last argument");if(s=u,u=m.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||o>0&&u>s)throw new sn(u,s+1)}else{var p=Xe(m).valueOf(),h=Qe(p);if(f[o]=p,s=u,u=h.length-1,o>0&&u!==s)throw new ot(s+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=gh(d,f.shift(),u);return c?t(d):d},"...string":function(a){return a.join("")}})});var IS="column",Cz=["typed","Index","matrix","range"],ju=N(IS,Cz,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(IS,{"Matrix, number":a,"Array, number":function(l,u){return a(n(Xe(l)),u).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Pt(l,o.size()[1]);var u=i(0,o.size()[0]),s=new t(u,l),c=o.subset(s);return He(c)?c:n([[c]])}});var BS="count",Fz=["typed","size","prod"],Hv=N(BS,Fz,r=>{var{typed:e,size:t,prod:n}=r;return e(BS,{string:function(a){return a.length},"Matrix | Array":function(a){return n(t(a))}})});var OS="cross",Az=["typed","matrix","subtract","multiply"],Gv=N(OS,Az,r=>{var{typed:e,matrix:t,subtract:n,multiply:i}=r;return e(OS,{"Matrix, Matrix":function(l,u){return t(a(l.toArray(),u.toArray()))},"Matrix, Array":function(l,u){return t(a(l.toArray(),u))},"Array, Matrix":function(l,u){return t(a(l,u.toArray()))},"Array, Array":a});function a(o,l){var u=Math.max(Qe(o).length,Qe(l).length);o=gs(o),l=gs(l);var s=Qe(o),c=Qe(l);if(s.length!==1||c.length!==1||s[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+s.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(o[1],l[2]),i(o[2],l[1])),n(i(o[2],l[0]),i(o[0],l[2])),n(i(o[0],l[1]),i(o[1],l[0]))];return u>1?[f]:f}});var RS="diag",Sz=["typed","matrix","DenseMatrix","SparseMatrix"],jv=N(RS,Sz,r=>{var{typed:e,matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(RS,{Array:function(s){return a(s,0,Qe(s),null)},"Array, number":function(s,c){return a(s,c,Qe(s),null)},"Array, BigNumber":function(s,c){return a(s,c.toNumber(),Qe(s),null)},"Array, string":function(s,c){return a(s,0,Qe(s),c)},"Array, number, string":function(s,c,f){return a(s,c,Qe(s),f)},"Array, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),Qe(s),f)},Matrix:function(s){return a(s,0,s.size(),s.storage())},"Matrix, number":function(s,c){return a(s,c,s.size(),s.storage())},"Matrix, BigNumber":function(s,c){return a(s,c.toNumber(),s.size(),s.storage())},"Matrix, string":function(s,c){return a(s,0,s.size(),c)},"Matrix, number, string":function(s,c,f){return a(s,c,s.size(),f)},"Matrix, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),s.size(),f)}});function a(u,s,c,f){if(!Ue(s))throw new TypeError("Second parameter in function diag must be an integer");var m=s>0?s:0,p=s<0?-s:0;switch(c.length){case 1:return o(u,s,f,c[0],p,m);case 2:return l(u,s,f,c,p,m)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(u,s,c,f,m,p){var h=[f+m,f+p];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var d=c==="sparse"?i.diagonal(h,u,s):n.diagonal(h,u,s);return c!==null?d:d.valueOf()}function l(u,s,c,f,m,p){if(He(u)){var h=u.diagonal(s);return c!==null?c!==h.storage()?t(h,c):h:h.valueOf()}for(var d=Math.min(f[0]-m,f[1]-p),g=[],v=0;v<d;v++)g[v]=u[v+m][v+p];return c!==null?t(g):g}});var Zu=wr(lh(),1);function ci(r,e,t,n,i){if(Zu.default.isTypedFunction(r)){var a=[e,t,n],o=Zu.default.resolve(r,a);if(o)return f(o.implementation,a);var l=[e,t],u=Zu.default.resolve(r,l);if(u)return f(u.implementation,l);var s=[e],c=Zu.default.resolve(r,s);return c?f(c.implementation,s):f(r,a)}else return r(e,t,n);function f(m,p){try{return m.apply(m,p)}catch(g){var h;if(g instanceof TypeError&&((h=g.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat(wt(e))),p.length>=2&&d.push("index: ".concat(wt(t))),p.length>=3&&d.push("array: ".concat(wt(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(r.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(r.name,": ").concat(g.message))}}}var Nz="filter",Mz=["typed"],Zv=N(Nz,Mz,r=>{var{typed:e}=r;return e("filter",{"Array, function":kS,"Matrix, function":function(n,i){return n.create(kS(n.toArray(),i))},"Array, RegExp":vs,"Matrix, RegExp":function(n,i){return n.create(vs(n.toArray(),i))}})});function kS(r,e){return Sf(r,function(t,n,i){return ci(e,t,[n],i,"filter")})}var PS="flatten",_z=["typed","matrix"],Yv=N(PS,_z,r=>{var{typed:e,matrix:t}=r;return e(PS,{Array:function(i){return dt(i)},Matrix:function(i){var a=dt(i.toArray());return t(a)}})});var LS="forEach",Tz=["typed"],Jv=N(LS,Tz,r=>{var{typed:e}=r;return e(LS,{"Array, function":Iz,"Matrix, function":function(n,i){n.forEach(i)}})});function Iz(r,e){var t=function n(i,a){if(Array.isArray(i))Ra(i,function(o,l){n(o,a.concat(l))});else return ci(e,i,a,r,"forEach")};t(r,[])}var qS="getMatrixDataType",Bz=["typed"],Xv=N(qS,Bz,r=>{var{typed:e}=r;return e(qS,{Array:function(n){return ka(n,wt)},Matrix:function(n){return n.getDataType()}})});var VS="identity",Oz=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Qv=N(VS,Oz,r=>{var{typed:e,config:t,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=r;return e(VS,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return u(c,c,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return u(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return u(c,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,m){return u(c,f,m)},Array:function(c){return l(c)},"Array, string":function(c,f){return l(c,f)},Matrix:function(c){return l(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return l(c.valueOf(),f)}});function l(s,c){switch(s.length){case 0:return c?n(c):[];case 1:return u(s[0],s[0],c);case 2:return u(s[0],s[1],c);default:throw new Error("Vector containing two values expected")}}function u(s,c,f){var m=$e(s)||$e(c)?i:null;if($e(s)&&(s=s.toNumber()),$e(c)&&(c=c.toNumber()),!Ue(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!Ue(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var p=m?new i(1):1,h=m?new m(0):0,d=[s,c];if(f){if(f==="sparse")return o.diagonal(d,p,0,h);if(f==="dense")return a.diagonal(d,p,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=Ni([],d,h),v=s<c?s:c,E=0;E<v;E++)g[E][E]=p;return g}});var US="kron",Rz=["typed","matrix","multiplyScalar"],Kv=N(US,Rz,r=>{var{typed:e,matrix:t,multiplyScalar:n}=r;return e(US,{"Matrix, Matrix":function(o,l){return t(i(o.toArray(),l.toArray()))},"Matrix, Array":function(o,l){return t(i(o.toArray(),l))},"Array, Matrix":function(o,l){return t(i(o,l.toArray()))},"Array, Array":i});function i(a,o){if(Qe(a).length===1&&(a=[a]),Qe(o).length===1&&(o=[o]),Qe(a).length>2||Qe(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var l=[],u=[];return a.map(function(s){return o.map(function(c){return u=[],l.push(u),s.map(function(f){return c.map(function(m){return u.push(n(f,m))})})})})&&l}});var zS="map",kz=["typed"],$v=N(zS,kz,r=>{var{typed:e}=r;return e(zS,{"Array, function":Pz,"Matrix, function":function(n,i){return n.map(i)}})});function Pz(r,e){var t=function n(i,a){return Array.isArray(i)?i.map(function(o,l){return n(o,a.concat(l))}):ci(e,i,a,r,"map")};return t(r,[])}var WS="diff",Lz=["typed","matrix","subtract","number"],Yu=N(WS,Lz,r=>{var{typed:e,matrix:t,subtract:n,number:i}=r;return e(WS,{"Array | Matrix":function(c){return He(c)?t(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,f){if(!Ue(f))throw new RangeError("Dimension must be a whole number");return He(c)?t(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",s=>(c,f)=>s(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",s=>(c,f)=>s(c,i(f)))});function a(s,c){if(He(s)&&(s=s.toArray()),!Array.isArray(s))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return s.forEach(m=>{f.push(a(m,c-1))}),f}else{if(c===0)return o(s);throw RangeError("Cannot have negative dimension")}}function o(s){for(var c=[],f=s.length,m=1;m<f;m++)c.push(l(s[m-1],s[m]));return c}function l(s,c){He(s)&&(s=s.toArray()),He(c)&&(c=c.toArray());var f=Array.isArray(s),m=Array.isArray(c);if(f&&m)return u(s,c);if(!f&&!m)return n(c,s);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function u(s,c){if(s.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],m=s.length,p=0;p<m;p++)f.push(l(s[p],c[p]));return f}});var qz="ones",Vz=["typed","config","matrix","BigNumber"],e0=N(qz,Vz,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(u,s){var c=o(u),f=c?new i(1):1;if(l(u),s){var m=n(s);return u.length>0?m.resize(u,f):m}else{var p=[];return u.length>0?Ni(p,u,f):p}}function o(u){var s=!1;return u.forEach(function(c,f,m){$e(c)&&(s=!0,m[f]=c.toNumber())}),s}function l(u){u.forEach(function(s){if(typeof s!="number"||!Ue(s)||s<0)throw new Error("Parameters in function ones must be positive integers")})}});function Fs(){throw new Error('No "bignumber" implementation available')}function jf(){throw new Error('No "fraction" implementation available')}function Zf(){throw new Error('No "matrix" implementation available')}var HS="range",Uz=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Ju=N(HS,Uz,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c}=r;return e(HS,{string:m,"string, boolean":m,"number, number":function(g,v){return f(p(g,v,1,!1))},"number, number, number":function(g,v,E){return f(p(g,v,E,!1))},"number, number, boolean":function(g,v,E){return f(p(g,v,1,E))},"number, number, number, boolean":function(g,v,E,y){return f(p(g,v,E,y))},"BigNumber, BigNumber":function(g,v){var E=g.constructor;return f(p(g,v,new E(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,v,E){return f(p(g,v,E,!1))},"BigNumber, BigNumber, boolean":function(g,v,E){var y=g.constructor;return f(p(g,v,new y(1),E))},"BigNumber, BigNumber, BigNumber, boolean":function(g,v,E,y){return f(p(g,v,E,y))},"Unit, Unit, Unit":function(g,v,E){return f(p(g,v,E,!1))},"Unit, Unit, Unit, boolean":function(g,v,E,y){return f(p(g,v,E,y))}});function f(d){return t.matrix==="Matrix"?n?n(d):Zf():d}function m(d,g){var v=h(d);if(!v)throw new SyntaxError('String "'+d+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&Fs(),f(p(i(v.start),i(v.end),i(v.step)),g)):f(p(v.start,v.end,v.step,g))}function p(d,g,v,E){for(var y=[],D=c(v)?E?o:a:E?u:l,x=d;D(x,g);)y.push(x),x=s(x,v);return y}function h(d){var g=d.split(":"),v=g.map(function(y){return Number(y)}),E=v.some(function(y){return isNaN(y)});if(E)return null;switch(v.length){case 2:return{start:v[0],end:v[1],step:1};case 3:return{start:v[0],end:v[2],step:v[1]};default:return null}}});var GS="reshape",zz=["typed","isInteger","matrix"],t0=N(GS,zz,r=>{var{typed:e,isInteger:t}=r;return e(GS,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),Ou(i,a)}})});var Wz="resize",Hz=["config","matrix"],r0=N(Wz,Hz,r=>{var{config:e,matrix:t}=r;return function(a,o,l){if(arguments.length!==2&&arguments.length!==3)throw new la("resize",arguments.length,2,3);if(He(o)&&(o=o.valueOf()),$e(o[0])&&(o=o.map(function(c){return $e(c)?c.toNumber():c})),He(a))return a.resize(o,l,!0);if(typeof a=="string")return n(a,o,l);var u=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return Xe(a)}else{Array.isArray(a)||(a=[a]),a=Xe(a);var s=Ni(a,o,l);return u?t(s):s}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new ot(a.length,1);var l=a[0];if(typeof l!="number"||!Ue(l))throw new TypeError("Invalid size, must contain positive integers (size: "+rt(a)+")");if(i.length>l)return i.substring(0,l);if(i.length<l){for(var u=i,s=0,c=l-i.length;s<c;s++)u+=o;return u}else return i}});var jS="rotate",Gz=["typed","multiply","rotationMatrix"],n0=N(jS,Gz,r=>{var{typed:e,multiply:t,rotationMatrix:n}=r;return e(jS,{"Array , number | BigNumber | Complex | Unit":function(o,l){i(o,2);var u=t(n(l),o);return u.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,l){return i(o,2),t(n(l),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,u){i(o,3);var s=t(n(l,u),o);return s},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,u){return i(o,3),t(n(l,u),o)}});function i(a,o){var l=Array.isArray(a)?Qe(a):a.size();if(l.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l.length===2&&l[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var ZS="rotationMatrix",jz=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],i0=N(ZS,jz,r=>{var{typed:e,config:t,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:l,matrix:u,DenseMatrix:s,SparseMatrix:c,cos:f,sin:m}=r;return e(ZS,{"":function(){return t.matrix==="Matrix"?u([]):[]},string:function(y){return u(y)},"number | BigNumber | Complex | Unit":function(y){return p(y,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,D){return p(y,D)},"number | BigNumber | Complex | Unit, Array":function(y,D){var x=u(D);return h(x),v(y,x,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,D){h(D);var x=D.storage()||(t.matrix==="Matrix"?"dense":void 0);return v(y,D,x)},"number | BigNumber | Complex | Unit, Array, string":function(y,D,x){var b=u(D);return h(b),v(y,b,x)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,D,x){return h(D),v(y,D,x)}});function p(E,y){var D=$e(E),x=D?new l(-1):-1,b=f(E),C=m(E),S=[[b,n(x,C)],[C,b]];return g(S,y)}function h(E){var y=E.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(E){return E.reduce((y,D)=>n(y,D))}function g(E,y){if(y){if(y==="sparse")return new c(E);if(y==="dense")return new s(E);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return E}function v(E,y,D){var x=o(y);if(x===0)throw new RangeError("Rotation around zero vector");var b=$e(E)?l:null,C=b?new b(1):1,S=b?new b(-1):-1,A=b?new b(y.get([0])/x):y.get([0])/x,F=b?new b(y.get([1])/x):y.get([1])/x,I=b?new b(y.get([2])/x):y.get([2])/x,M=f(E),O=i(C,a(M)),P=m(E),k=i(M,d([A,A,O])),_=i(d([A,F,O]),d([S,I,P])),T=i(d([A,I,O]),d([F,P])),z=i(d([A,F,O]),d([I,P])),B=i(M,d([F,F,O])),U=i(d([F,I,O]),d([S,A,P])),Y=i(d([A,I,O]),d([S,F,P])),J=i(d([F,I,O]),d([A,P])),L=i(M,d([I,I,O])),X=[[k,_,T],[z,B,U],[Y,J,L]];return g(X,D)}});var YS="row",Zz=["typed","Index","matrix","range"],Xu=N(YS,Zz,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(YS,{"Matrix, number":a,"Array, number":function(l,u){return a(n(Xe(l)),u).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Pt(l,o.size()[0]);var u=i(0,o.size()[1]),s=new t(l,u),c=o.subset(s);return He(c)?c:n([[c]])}});var JS="size",Yz=["typed","config","?matrix"],a0=N(JS,Yz,r=>{var{typed:e,config:t,matrix:n}=r;return e(JS,{Matrix:function(a){return a.create(a.size())},Array:Qe,string:function(a){return t.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:n?n([]):Zf()}})});var XS="squeeze",Jz=["typed","matrix"],o0=N(XS,Jz,r=>{var{typed:e,matrix:t}=r;return e(XS,{Array:function(i){return gs(Xe(i))},Matrix:function(i){var a=gs(i.toArray());return Array.isArray(a)?t(a):a},any:function(i){return Xe(i)}})});var QS="subset",Xz=["typed","matrix","zeros","add"],Qu=N(QS,Xz,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r;return e(QS,{"Matrix, Index":function(l,u){return yo(u)?t():(Bu(l,u),l.subset(u))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(l,u){var s=o(t(l),u);return u.isScalar()?s:s.valueOf()}}),"Object, Index":Kz,"string, Index":Qz,"Matrix, Index, any, any":function(l,u,s,c){return yo(u)?l:(Bu(l,u),l.clone().subset(u,a(s,u),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s,c){var f=o(t(l),u,s,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s){return o(t(l),u,s,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s){return o(l,u,s,void 0)}}),"string, Index, string":KS,"string, Index, string, string":KS,"Object, Index, any":$z});function a(o,l){if(typeof o=="string")throw new Error("can't boradcast a string");if(l._isScalar)return o;var u=l.size();if(u.every(s=>s>0))try{return i(o,n(u))}catch(s){return o}else return o}});function Qz(r,e){if(!Ba(e))throw new TypeError("Index expected");if(yo(e))return"";if(Bu(Array.from(r),e),e.size().length!==1)throw new ot(e.size().length,1);var t=r.length;Pt(e.min()[0],t),Pt(e.max()[0],t);var n=e.dimension(0),i="";return n.forEach(function(a){i+=r.charAt(a)}),i}function KS(r,e,t,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(yo(e))return r;if(Bu(Array.from(r),e),e.size().length!==1)throw new ot(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new ot(i.size()[0],t.length);var o=r.length;Pt(e.min()[0]),Pt(e.max()[0]);for(var l=[],u=0;u<o;u++)l[u]=r.charAt(u);if(i.forEach(function(f,m){l[f]=t.charAt(m[0])}),l.length>o)for(var s=o-1,c=l.length;s<c;s++)l[s]||(l[s]=n);return l.join("")}function Kz(r,e){if(!yo(e)){if(e.size().length!==1)throw new ot(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return ar(r,t)}}function $z(r,e,t){if(yo(e))return r;if(e.size().length!==1)throw new ot(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Xe(r);return Wi(i,n,t),i}var $S="transpose",eW=["typed","matrix"],s0=N($S,eW,r=>{var{typed:e,matrix:t}=r;return e($S,{Array:o=>n(t(o)).valueOf(),Matrix:n,any:Xe});function n(o){var l=o.size(),u;switch(l.length){case 1:u=o.clone();break;case 2:{var s=l[0],c=l[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+rt(l)+")");switch(o.storage()){case"dense":u=i(o,s,c);break;case"sparse":u=a(o,s,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+rt(l)+")")}return u}function i(o,l,u){for(var s=o._data,c=[],f,m=0;m<u;m++){f=c[m]=[];for(var p=0;p<l;p++)f[p]=Xe(s[p][m])}return o.createDenseMatrix({data:c,size:[u,l],datatype:o._datatype})}function a(o,l,u){for(var s=o._values,c=o._index,f=o._ptr,m=s?[]:void 0,p=[],h=[],d=[],g=0;g<l;g++)d[g]=0;var v,E,y;for(v=0,E=c.length;v<E;v++)d[c[v]]++;for(var D=0,x=0;x<l;x++)h.push(D),D+=d[x],d[x]=h[x];for(h.push(D),y=0;y<u;y++)for(var b=f[y],C=f[y+1],S=b;S<C;S++){var A=d[c[S]]++;p[A]=y,s&&(m[A]=Xe(s[S]))}return o.createSparseMatrix({values:m,index:p,ptr:h,size:[u,l],datatype:o._datatype})}});var eN="ctranspose",tW=["typed","transpose","conj"],u0=N(eN,tW,r=>{var{typed:e,transpose:t,conj:n}=r;return e(eN,{any:function(a){return n(t(a))}})});var tN="zeros",rW=["typed","config","matrix","BigNumber"],l0=N(tN,rW,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(tN,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(u,s){var c=o(u),f=c?new i(0):0;if(l(u),s){var m=n(s);return u.length>0?m.resize(u,f):m}else{var p=[];return u.length>0?Ni(p,u,f):p}}function o(u){var s=!1;return u.forEach(function(c,f,m){$e(c)&&(s=!0,m[f]=c.toNumber())}),s}function l(u){u.forEach(function(s){if(typeof s!="number"||!Ue(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});var rN="fft",nW=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],c0=N(rN,nW,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:l,i:u,dotDivide:s,conj:c,pow:f,ceil:m,log2:p}=r;return e(rN,{Array:h,Matrix:function(y){return y.create(h(y.toArray()))}});function h(E){var y=Qe(E);return y.length===1?v(E,y[0]):d(E.map(D=>h(D,y.slice(1))),0)}function d(E,y){var D=Qe(E);if(y!==0)return new Array(D[0]).fill(0).map((b,C)=>d(E[C],y-1));if(D.length===1)return v(E);function x(b){var C=Qe(b);return new Array(C[1]).fill(0).map((S,A)=>new Array(C[0]).fill(0).map((F,I)=>b[I][A]))}return x(d(x(E),1))}function g(E){for(var y=E.length,D=o(a(i(-1,i(u,l)),y)),x=[],b=1-y;b<y;b++)x.push(f(D,a(f(b,2),2)));for(var C=f(2,m(p(y+y-1))),S=[...new Array(y).fill(0).map((_,T)=>i(E[T],x[y-1+T])),...new Array(C-y).fill(0)],A=[...new Array(y+y-1).fill(0).map((_,T)=>a(1,x[T])),...new Array(C-(y+y-1)).fill(0)],F=v(S),I=v(A),M=new Array(C).fill(0).map((_,T)=>i(F[T],I[T])),O=s(c(h(c(M))),C),P=[],k=y-1;k<y+y-1;k++)P.push(i(O[k],x[k]));return P}function v(E){var y=E.length;if(y===1)return[E[0]];if(y%2===0){for(var D=[...v(E.filter((S,A)=>A%2===0),y/2),...v(E.filter((S,A)=>A%2===1),y/2)],x=0;x<y/2;x++){var b=D[x],C=i(D[x+y/2],o(i(i(l,u),a(-x,y))));D[x]=n(b,C),D[x+y/2]=n(b,i(-1,C))}return D}else return g(E)}});var nN="ifft",iW=["typed","fft","dotDivide","conj"],f0=N(nN,iW,r=>{var{typed:e,fft:t,dotDivide:n,conj:i}=r;return e(nN,{"Array | Matrix":function(o){var l=He(o)?o.size():Qe(o);return n(i(t(i(o))),l.reduce((u,s)=>u*s,1))}})});function Ha(r){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(r)}function m0(r,e){if(Ha(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Ha(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function p0(r){var e=m0(r,"string");return Ha(e)==="symbol"?e:String(e)}function Mt(r,e,t){return e=p0(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function iN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function aW(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(t),!0).forEach(function(n){Mt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var oW="solveODE",sW=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],d0=N(oW,sW,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,max:o,map:l,abs:u,isPositive:s,isNegative:c,larger:f,smaller:m,matrix:p,bignumber:h,unaryMinus:d}=r;function g(S){return function(A,F,I,M){var O=!(F.length===2&&(F.every(b)||F.every(nn)));if(O)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var P=F[0],k=F[1],_=f(k,P),T=M.firstStep;if(T!==void 0&&!s(T))throw new Error('"firstStep" must be positive');var z=M.maxStep;if(z!==void 0&&!s(z))throw new Error('"maxStep" must be positive');var B=M.minStep;if(B&&c(B))throw new Error('"minStep" must be positive or zero');var U=[P,k,T,B,z].filter(ke=>ke!==void 0);if(!(U.every(b)||U.every(nn)))throw new Error('Inconsistent type of "t" dependant variables');for(var Y=1,J=M.tol?M.tol:1e-4,L=M.minDelta?M.minDelta:.2,X=M.maxDelta?M.maxDelta:5,se=M.maxIter?M.maxIter:1e4,te=[P,k,...I,z,B].some($e),[me,de,fe,ue]=te?[h(S.a),h(S.c),h(S.b),h(S.bp)]:[S.a,S.c,S.b,S.bp],xe=T?_?T:d(T):a(n(k,P),Y),We=[P],Ne=[I],Ve=n(fe,ue),W=0,j=0,le=D(_),H=x(_);le(We[W],k);){var Q=[];xe=H(We[W],k,xe),Q.push(A(We[W],Ne[W]));for(var ne=1;ne<de.length;++ne)Q.push(A(t(We[W],i(de[ne],xe)),t(Ne[W],i(xe,me[ne],Q))));var ye=o(u(l(i(Ve,Q),ke=>nn(ke)?ke.value:ke)));ye<J&&J/ye>1/4&&(We.push(t(We[W],xe)),Ne.push(t(Ne[W],i(xe,fe,Q))),W++);var ge=.84*(J/ye)**(1/5);if(m(ge,L)?ge=L:f(ge,X)&&(ge=X),ge=te?h(ge):ge,xe=i(xe,ge),z&&f(u(xe),z)?xe=_?z:d(z):B&&m(u(xe),B)&&(xe=_?B:d(B)),j++,j>se)throw new Error("Maximum number of iterations reached, try changing options")}return{t:We,y:Ne}}}function v(S,A,F,I){var M=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],O=[null,1/2,3/4,1],P=[2/9,1/3,4/9,0],k=[7/24,1/4,1/3,1/8],_={a:M,c:O,b:P,bp:k};return g(_)(S,A,F,I)}function E(S,A,F,I){var M=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],O=[null,1/5,3/10,4/5,8/9,1,1],P=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],k=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],_={a:M,c:O,b:P,bp:k};return g(_)(S,A,F,I)}function y(S,A,F,I){var M=I.method?I.method:"RK45",O={RK23:v,RK45:E};if(M.toUpperCase()in O){var P=aW({},I);return delete P.method,O[M.toUpperCase()](S,A,F,P)}else{var k=Object.keys(O).map(T=>'"'.concat(T,'"')),_="".concat(k.slice(0,-1).join(", ")," and ").concat(k.slice(-1));throw new Error('Unavailable method "'.concat(M,'". Available methods are ').concat(_))}}function D(S){return S?m:f}function x(S){var A=S?f:m;return function(F,I,M){var O=t(F,M);return A(O,I)?n(I,F):M}}function b(S){return $e(S)||tt(S)}function C(S,A,F,I){var M=y(S,A.toArray(),F.toArray(),I);return{t:p(M.t),y:p(M.y)}}return e("solveODE",{"function, Array, Array, Object":y,"function, Matrix, Matrix, Object":C,"function, Array, Array":(S,A,F)=>y(S,A,F,{}),"function, Matrix, Matrix":(S,A,F)=>C(S,A,F,{}),"function, Array, number | BigNumber | Unit":(S,A,F)=>{var I=y(S,A,[F],{});return{t:I.t,y:I.y.map(M=>M[0])}},"function, Matrix, number | BigNumber | Unit":(S,A,F)=>{var I=y(S,A.toArray(),[F],{});return{t:p(I.t),y:p(I.y.map(M=>M[0]))}},"function, Array, number | BigNumber | Unit, Object":(S,A,F,I)=>{var M=y(S,A,[F],I);return{t:M.t,y:M.y.map(O=>O[0])}},"function, Matrix, number | BigNumber | Unit, Object":(S,A,F,I)=>{var M=y(S,A.toArray(),[F],I);return{t:p(M.t),y:p(M.y.map(O=>O[0]))}}})});var uW="erf",lW=["typed"],h0=N(uW,lW,r=>{var{typed:e}=r;return e("name",{number:function(o){var l=Math.abs(o);return l>=mW?si(o):l<=cW?si(o)*t(l):l<=4?si(o)*(1-n(l)):si(o)*(1-i(l))},"Array | Matrix":e.referToSelf(a=>o=>je(o,a))});function t(a){var o=a*a,l=ca[0][4]*o,u=o,s;for(s=0;s<3;s+=1)l=(l+ca[0][s])*o,u=(u+As[0][s])*o;return a*(l+ca[0][3])/(u+As[0][3])}function n(a){var o=ca[1][8]*a,l=a,u;for(u=0;u<7;u+=1)o=(o+ca[1][u])*a,l=(l+As[1][u])*a;var s=(o+ca[1][7])/(l+As[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*s}function i(a){var o=1/(a*a),l=ca[2][5]*o,u=o,s;for(s=0;s<4;s+=1)l=(l+ca[2][s])*o,u=(u+As[2][s])*o;var c=o*(l+ca[2][4])/(u+As[2][4]);c=(fW-c)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*c}}),cW=.46875,fW=.5641895835477563,ca=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],As=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],mW=Math.pow(2,53);var aN="zeta",pW=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],g0=N(aN,pW,r=>{var{typed:e,config:t,multiply:n,pow:i,divide:a,factorial:o,equal:l,smallerEq:u,isNegative:s,gamma:c,sin:f,subtract:m,add:p,Complex:h,BigNumber:d,pi:g}=r;return e(aN,{number:b=>v(b,C=>C,()=>20),BigNumber:b=>v(b,C=>new d(C),()=>Math.abs(Math.log10(t.epsilon))),Complex:E});function v(b,C,S){return l(b,0)?C(-.5):l(b,1)?C(NaN):isFinite(b)?y(b,C,S,A=>A):s(b)?C(NaN):C(1)}function E(b){return b.re===0&&b.im===0?new h(-.5):b.re===1?new h(NaN,NaN):b.re===1/0&&b.im===0?new h(1):b.im===1/0||b.re===-1/0?new h(NaN,NaN):y(b,C=>C,C=>Math.round(1.3*15+.9*Math.abs(C.im)),C=>C.re)}function y(b,C,S,A){var F=S(b);if(A(b)>-(F-1)/2)return x(b,C(F),C);var I=n(i(2,b),i(C(g),m(b,1)));return I=n(I,f(n(a(C(g),2),b))),I=n(I,c(m(1,b))),n(I,y(m(1,b),C,S,A))}function D(b,C){for(var S=b,A=b;u(A,C);A=p(A,1)){var F=a(n(o(p(C,m(A,1))),i(4,A)),n(o(m(C,A)),o(n(2,A))));S=p(S,F)}return n(C,S)}function x(b,C,S){for(var A=a(1,n(D(S(0),C),m(1,i(2,m(1,b))))),F=S(0),I=S(1);u(I,C);I=p(I,1))F=p(F,a(n((-1)**(I-1),D(I,C)),i(I,b)));return n(A,F)}});var oN="mode",dW=["typed","isNaN","isNumeric"],v0=N(oN,dW,r=>{var{typed:e,isNaN:t,isNumeric:n}=r;return e(oN,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=dt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var l={},u=[],s=0,c=0;c<a.length;c++){var f=a[c];if(n(f)&&t(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in l||(l[f]=0),l[f]++,l[f]===s?u.push(f):l[f]>s&&(s=l[f],u=[f])}return u}});function yr(r,e,t){var n;return String(r).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+wt(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+wt(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var sN="prod",hW=["typed","config","multiplyScalar","numeric"],y0=N(sN,hW,r=>{var{typed:e,config:t,multiplyScalar:n,numeric:i}=r;return e(sN,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(l,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(l){return a(l)}});function a(o){var l;if(dn(o,function(u){try{l=l===void 0?u:n(l,u)}catch(s){throw yr(s,"prod",u)}}),typeof l=="string"&&(l=i(l,t.number)),l===void 0)throw new Error("Cannot calculate prod of an empty array");return l}});var uN="format",gW=["typed"],x0=N(uN,gW,r=>{var{typed:e}=r;return e(uN,{any:rt,"any, Object | function | number":rt})});var lN="bin",vW=["typed","format"],b0=N(lN,vW,r=>{var{typed:e,format:t}=r;return e(lN,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var cN="oct",yW=["typed","format"],D0=N(cN,yW,r=>{var{typed:e,format:t}=r;return e(cN,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var fN="hex",xW=["typed","format"],w0=N(fN,xW,r=>{var{typed:e,format:t}=r;return e(fN,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var Yf=/\$([\w.]+)/g;var mN="print",bW=["typed"],Ku=N(mN,bW,r=>{var{typed:e}=r;return e(mN,{"string, Object | Array":pN,"string, Object | Array, number | Object":pN})});function pN(r,e,t){return r.replace(Yf,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var l=a.shift();o=l?o[l]:o+"."}return o!==void 0?gr(o)?o:rt(o,t):n})}var dN="to",DW=["typed","matrix","concat"],E0=N(dN,DW,r=>{var{typed:e,matrix:t,concat:n}=r,i=lt({typed:e,matrix:t,concat:n});return e(dN,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var hN="isPrime",wW=["typed"],C0=N(hN,wW,r=>{var{typed:e}=r;return e(hN,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(E,y,D){for(var x=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),E=E.mul(E).mod(D)):(y=y.sub(1),x=E.mul(x).mod(D));return x}var l=n.constructor.clone({precision:n.toFixed(0).length*2});n=new l(n);for(var u=0,s=n.sub(1);s.mod(2).eq(0);)s=s.div(2),u+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(E=>E<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var m=2;m<=f;m+=1)c.push(f)}for(var p=0;p<c.length;p+=1){var h=c[p],d=o(n.sub(n).add(h),s,n);if(!d.eq(1)){for(var g=0,v=d;!v.eq(n.sub(1));g+=1,v=v.mul(v).mod(n))if(g===u-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>n=>je(n,t))})});var EW="numeric",CW=["number","?bignumber","?fraction"],F0=N(EW,CW,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):Fs,Fraction:n?o=>n(o):jf};return function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=wt(l);if(!(c in i))throw new TypeError("Cannot convert "+l+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+l+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===c?l:a[u](l)}});var gN="divideScalar",FW=["typed","numeric"],A0=N(gN,FW,r=>{var{typed:e,numeric:t}=r;return e(gN,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var vN="pow",AW=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],S0=N(vN,AW,r=>{var{typed:e,config:t,identity:n,multiply:i,matrix:a,inv:o,number:l,fraction:u,Complex:s}=r;return e(vN,{"number, number":c,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||t.predictable?h.pow(d):new s(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var g=h.pow(d);if(g!=null)return g;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(h,d){return m(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function c(p,h){if(t.predictable&&!Ue(h)&&p<0)try{var d=u(h),g=l(d);if((h===g||Math.abs((h-g)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-p,h)}catch(v){}return t.predictable&&(p<-1&&h===1/0||p>-1&&p<0&&h===-1/0)?NaN:Ue(h)||p>=0||t.predictable?tg(p,h):p*p<1&&h===1/0||p*p>1&&h===-1/0?0:new s(p,0).pow(h,0)}function f(p,h){if(!Ue(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=Qe(p);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(p),-h)}catch(E){throw E.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):E}for(var g=n(d[0]).valueOf(),v=p;h>=1;)(h&1)===1&&(g=i(v,g)),h>>=1,v=i(v,v);return g}function m(p,h){return a(f(p.valueOf(),h))}});var Ss="Number of decimals in function round must be an integer",yN="round",SW=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],N0=N(yN,SW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,BigNumber:a,DenseMatrix:o}=r,l=Lt({typed:e,equalScalar:n}),u=At({typed:e,DenseMatrix:o}),s=Sr({typed:e});return e(yN,{number:rg,"number, number":rg,"number, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Ss);return new a(f).toDecimalPlaces(m.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,m){if(m%1)throw new TypeError(Ss);return f.round(m)},"Complex, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Ss);var p=m.toNumber();return f.round(p)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Ss);return f.toDecimalPlaces(m.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,m){if(m%1)throw new TypeError(Ss);return f.round(m)},"Fraction, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Ss);return f.round(m.toNumber())},"Array | Matrix":e.referToSelf(c=>f=>je(f,c,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(c=>(f,m)=>l(f,m,c,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(c=>(f,m)=>s(f,m,c,!1)),"Array, number | BigNumber":e.referToSelf(c=>(f,m)=>s(t(f),m,c,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(c=>(f,m)=>n(f,0)?i(m.size(),m.storage()):u(m,f,c,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(c=>(f,m)=>n(f,0)?i(m.size(),m.storage()):s(m,f,c,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(c=>(f,m)=>s(t(m),f,c,!0).valueOf())})});var xN="log",NW=["config","typed","divideScalar","Complex"],M0=N(xN,NW,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r;return e(xN,{number:function(o){return o>=0||t.predictable?EA(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,l)=>n(a(o),a(l)))})});var bN="log1p",MW=["typed","config","divideScalar","log","Complex"],_0=N(bN,MW,r=>{var{typed:e,config:t,divideScalar:n,log:i,Complex:a}=r;return e(bN,{number:function(u){return u>=-1||t.predictable?bf(u):o(new a(u,0))},Complex:o,BigNumber:function(u){var s=u.plus(1);return!s.isNegative()||t.predictable?s.ln():o(new a(u.toNumber(),0))},"Array | Matrix":e.referToSelf(l=>u=>je(u,l)),"any, any":e.referToSelf(l=>(u,s)=>n(l(u),i(s)))});function o(l){var u=l.re+1;return new a(Math.log(Math.sqrt(u*u+l.im*l.im)),Math.atan2(l.im,u))}});var DN="nthRoots",_W=["config","typed","divideScalar","Complex"],T0=N(DN,_W,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r,a=[function(u){return new i(u,0)},function(u){return new i(0,u)},function(u){return new i(-u,0)},function(u){return new i(0,-u)}];function o(l,u){if(u<0)throw new Error("Root must be greater than zero");if(u===0)throw new Error("Root must be non-zero");if(u%1!==0)throw new Error("Root must be an integer");if(l===0||l.abs()===0)return[new i(0,0)];var s=typeof l=="number",c;(s||l.re===0||l.im===0)&&(s?c=2*+(l<0):l.im===0?c=2*+(l.re<0):c=2*+(l.im<0)+1);for(var f=l.arg(),m=l.abs(),p=[],h=Math.pow(m,1/u),d=0;d<u;d++){var g=(c+4*d)/u;if(g===Math.round(g)){p.push(a[g%4](h));continue}p.push(new i({r:h,phi:(f+2*Math.PI*d)/u}))}return p}return e(DN,{Complex:function(u){return o(u,2)},"Complex, number":o})});var wN="dotPow",TW=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],I0=N(wN,TW,r=>{var{typed:e,equalScalar:t,matrix:n,pow:i,DenseMatrix:a,concat:o}=r,l=Xt({typed:e}),u=Rr({typed:e,DenseMatrix:a}),s=Lt({typed:e,equalScalar:t}),c=At({typed:e,DenseMatrix:a}),f=lt({typed:e,matrix:n,concat:o}),m={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(m[p]=i.signatures[p]);var h=e(m);return e(wN,f({elop:h,SS:u,DS:l,Ss:s,sS:c}))});var EN="dotDivide",IW=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],B0=N(EN,IW,r=>{var{typed:e,matrix:t,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=r,l=Nr({typed:e,equalScalar:n}),u=Xt({typed:e}),s=Rr({typed:e,DenseMatrix:a}),c=Lt({typed:e,equalScalar:n}),f=At({typed:e,DenseMatrix:a}),m=lt({typed:e,matrix:t,concat:o});return e(EN,m({elop:i,SS:s,DS:u,SD:l,Ss:c,sS:f}))});function Zi(r){var{DenseMatrix:e}=r;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+rt(o)+")");var l=o[0],u=o[1];if(l!==u)throw new RangeError("Matrix must be square (size: "+rt(o)+")");var s=[];if(He(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var m=0;m<l;m++)s[m]=[f[m]];return new e({data:s,size:[l,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==l||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(vo(i)){if(a){s=[];for(var p=0;p<l;p++)s[p]=[f[p][0]];return new e({data:s,size:[l,1],datatype:i._datatype})}return i}if(Fi(i)){for(var h=0;h<l;h++)s[h]=[0];for(var d=i._values,g=i._index,v=i._ptr,E=v[1],y=v[0];y<E;y++){var D=g[y];s[D][0]=d[y]}return new e({data:s,size:[l,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Et(i)){var x=Qe(i);if(x.length===1){if(x[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<l;b++)s[b]=[i[b]];return new e({data:s,size:[l,1]})}if(x.length===2){if(x[0]!==l||x[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<l;C++)s[C]=[i[C][0]];return new e({data:s,size:[l,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var CN="lsolve",BW=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],O0=N(CN,BW,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:l}=r,u=Zi({DenseMatrix:l});return e(CN,{"SparseMatrix, Array | Matrix":function(m,p){return c(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=t(m),d=s(h,p);return d.valueOf()}});function s(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=[],v=f._data,E=0;E<d;E++){var y=p[E][0]||0,D=void 0;if(o(y,0))D=0;else{var x=v[E][E];if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(y,x);for(var b=E+1;b<h;b++)p[b]=[a(p[b][0]||0,i(D,v[b][E]))]}g[E]=[D]}return new l({data:g,size:[h,1]})}function c(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,E=f._ptr,y=[],D=0;D<d;D++){var x=p[D][0]||0;if(o(x,0))y[D]=[0];else{for(var b=0,C=[],S=[],A=E[D],F=E[D+1],I=A;I<F;I++){var M=v[I];M===D?b=g[I]:M>D&&(C.push(g[I]),S.push(M))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=n(x,b),P=0,k=S.length;P<k;P++){var _=S[P];p[_]=[a(p[_][0]||0,i(O,C[P]))]}y[D]=[O]}}return new l({data:y,size:[h,1]})}});var FN="usolve",OW=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],R0=N(FN,OW,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:l}=r,u=Zi({DenseMatrix:l});return e(FN,{"SparseMatrix, Array | Matrix":function(m,p){return c(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=t(m),d=s(h,p);return d.valueOf()}});function s(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=[],v=f._data,E=d-1;E>=0;E--){var y=p[E][0]||0,D=void 0;if(o(y,0))D=0;else{var x=v[E][E];if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(y,x);for(var b=E-1;b>=0;b--)p[b]=[a(p[b][0]||0,i(D,v[b][E]))]}g[E]=[D]}return new l({data:g,size:[h,1]})}function c(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,E=f._ptr,y=[],D=d-1;D>=0;D--){var x=p[D][0]||0;if(o(x,0))y[D]=[0];else{for(var b=0,C=[],S=[],A=E[D],F=E[D+1],I=F-1;I>=A;I--){var M=v[I];M===D?b=g[I]:M<D&&(C.push(g[I]),S.push(M))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=n(x,b),P=0,k=S.length;P<k;P++){var _=S[P];p[_]=[a(p[_][0],i(O,C[P]))]}y[D]=[O]}}return new l({data:y,size:[h,1]})}});var AN="lsolveAll",RW=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],k0=N(AN,RW,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:l}=r,u=Zi({DenseMatrix:l});return e(AN,{"SparseMatrix, Array | Matrix":function(m,p){return c(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=t(m),d=s(h,p);return d.map(g=>g.valueOf())}});function s(f,m){for(var p=[u(f,m,!0)._data.map(S=>S[0])],h=f._data,d=f._size[0],g=f._size[1],v=0;v<g;v++)for(var E=p.length,y=0;y<E;y++){var D=p[y];if(o(h[v][v],0))if(o(D[v],0)){if(y===0){var b=[...D];b[v]=1;for(var C=v+1;C<g;C++)b[C]=a(b[C],h[C][v]);p.push(b)}}else{if(y===0)return[];p.splice(y,1),y-=1,E-=1}else{D[v]=n(D[v],h[v][v]);for(var x=v+1;x<g;x++)D[x]=a(D[x],i(D[v],h[x][v]))}}return p.map(S=>new l({data:S.map(A=>[A]),size:[d,1]}))}function c(f,m){for(var p=[u(f,m,!0)._data.map(Y=>Y[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,E=f._ptr,y=0;y<d;y++)for(var D=p.length,x=0;x<D;x++){for(var b=p[x],C=[],S=[],A=E[y],F=E[y+1],I=0,M=A;M<F;M++){var O=v[M];O===y?I=g[M]:O>y&&(C.push(g[M]),S.push(O))}if(o(I,0))if(o(b[y],0)){if(x===0){var T=[...b];T[y]=1;for(var z=0,B=S.length;z<B;z++){var U=S[z];T[U]=a(T[U],C[z])}p.push(T)}}else{if(x===0)return[];p.splice(x,1),x-=1,D-=1}else{b[y]=n(b[y],I);for(var P=0,k=S.length;P<k;P++){var _=S[P];b[_]=a(b[_],i(b[y],C[P]))}}}return p.map(Y=>new l({data:Y.map(J=>[J]),size:[h,1]}))}});var SN="usolveAll",kW=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],P0=N(SN,kW,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:l}=r,u=Zi({DenseMatrix:l});return e(SN,{"SparseMatrix, Array | Matrix":function(m,p){return c(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=t(m),d=s(h,p);return d.map(g=>g.valueOf())}});function s(f,m){for(var p=[u(f,m,!0)._data.map(S=>S[0])],h=f._data,d=f._size[0],g=f._size[1],v=g-1;v>=0;v--)for(var E=p.length,y=0;y<E;y++){var D=p[y];if(o(h[v][v],0))if(o(D[v],0)){if(y===0){var b=[...D];b[v]=1;for(var C=v-1;C>=0;C--)b[C]=a(b[C],h[C][v]);p.push(b)}}else{if(y===0)return[];p.splice(y,1),y-=1,E-=1}else{D[v]=n(D[v],h[v][v]);for(var x=v-1;x>=0;x--)D[x]=a(D[x],i(D[v],h[x][v]))}}return p.map(S=>new l({data:S.map(A=>[A]),size:[d,1]}))}function c(f,m){for(var p=[u(f,m,!0)._data.map(Y=>Y[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,E=f._ptr,y=d-1;y>=0;y--)for(var D=p.length,x=0;x<D;x++){for(var b=p[x],C=[],S=[],A=E[y],F=E[y+1],I=0,M=F-1;M>=A;M--){var O=v[M];O===y?I=g[M]:O<y&&(C.push(g[M]),S.push(O))}if(o(I,0))if(o(b[y],0)){if(x===0){var T=[...b];T[y]=1;for(var z=0,B=S.length;z<B;z++){var U=S[z];T[U]=a(T[U],C[z])}p.push(T)}}else{if(x===0)return[];p.splice(x,1),x-=1,D-=1}else{b[y]=n(b[y],I);for(var P=0,k=S.length;P<k;P++){var _=S[P];b[_]=a(b[_],i(b[y],C[P]))}}}return p.map(Y=>new l({data:Y.map(J=>[J]),size:[h,1]}))}});var PW="matAlgo08xS0Sid",LW=["typed","equalScalar"],Ns=N(PW,LW,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!l||!m)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v=c[0],E=c[1],y,D=t,x=0,b=o;typeof f=="string"&&f===g&&(y=f,D=e.find(t,[y,y]),x=e.convert(0,y),b=e.find(o,[y,y]));for(var C=[],S=[],A=[],F=[],I=[],M,O,P,k,_=0;_<E;_++){A[_]=S.length;var T=_+1;for(O=s[_],P=s[_+1],M=O;M<P;M++)k=u[M],I[k]=T,F[k]=l[M],S.push(k);for(O=h[_],P=h[_+1],M=O;M<P;M++)k=p[M],I[k]===T&&(F[k]=b(F[k],m[M]));for(M=A[_];M<S.length;){k=S[M];var z=F[k];D(z,x)?S.splice(M,1):(C.push(z),M++)}}return A[E]=S.length,i.createSparseMatrix({values:C,index:S,ptr:A,size:[v,E],datatype:y})}});var Ms=N("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:e,matrix:t}=r;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf())}});var NN="leftShift",qW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],L0=N(NN,qW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,l=hn({typed:e}),u=Nr({typed:e,equalScalar:n}),s=Ns({typed:e,equalScalar:n}),c=Ln({typed:e,DenseMatrix:a}),f=Lt({typed:e,equalScalar:n}),m=Sr({typed:e}),p=lt({typed:e,matrix:t,concat:o}),h=Ms({typed:e,matrix:t});return e(NN,{"number, number":sg,"BigNumber, BigNumber":yS,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:l,SD:u}))});var MN="rightArithShift",VW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],q0=N(MN,VW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,l=hn({typed:e}),u=Nr({typed:e,equalScalar:n}),s=Ns({typed:e,equalScalar:n}),c=Ln({typed:e,DenseMatrix:a}),f=Lt({typed:e,equalScalar:n}),m=Sr({typed:e}),p=lt({typed:e,matrix:t,concat:o}),h=Ms({typed:e,matrix:t});return e(MN,{"number, number":ug,"BigNumber, BigNumber":xS,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:l,SD:u}))});var _N="rightLogShift",UW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],V0=N(_N,UW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,l=hn({typed:e}),u=Nr({typed:e,equalScalar:n}),s=Ns({typed:e,equalScalar:n}),c=Ln({typed:e,DenseMatrix:a}),f=Lt({typed:e,equalScalar:n}),m=Sr({typed:e}),p=lt({typed:e,matrix:t,concat:o}),h=Ms({typed:e,matrix:t});return e(_N,{"number, number":lg,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:l,SD:u}))});var TN="and",zW=["typed","matrix","equalScalar","zeros","not","concat"],U0=N(TN,zW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,l=Nr({typed:e,equalScalar:n}),u=Wa({typed:e,equalScalar:n}),s=Lt({typed:e,equalScalar:n}),c=Sr({typed:e}),f=lt({typed:e,matrix:t,concat:o});return e(TN,{"number, number":hg,"Complex, Complex":function(p,h){return(p.re!==0||p.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(p,h){return!p.isZero()&&!h.isZero()&&!p.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(m=>(p,h)=>m(p.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(m=>(p,h)=>a(h)?i(p.size(),p.storage()):s(p,h,m,!1)),"DenseMatrix, any":e.referToSelf(m=>(p,h)=>a(h)?i(p.size(),p.storage()):c(p,h,m,!1)),"any, SparseMatrix":e.referToSelf(m=>(p,h)=>a(p)?i(p.size(),p.storage()):s(h,p,m,!0)),"any, DenseMatrix":e.referToSelf(m=>(p,h)=>a(p)?i(p.size(),p.storage()):c(h,p,m,!0)),"Array, any":e.referToSelf(m=>(p,h)=>m(t(p),h).valueOf()),"any, Array":e.referToSelf(m=>(p,h)=>m(p,t(h)).valueOf())},f({SS:u,DS:l}))});var Jf="compare",WW=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],z0=N(Jf,WW,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:l,concat:u}=r,s=Xt({typed:e}),c=za({typed:e,equalScalar:n}),f=At({typed:e,DenseMatrix:l}),m=lt({typed:e,matrix:i,concat:u}),p=li({typed:e});return e(Jf,HW({typed:e,config:t}),{"boolean, boolean":function(d,g){return d===g?0:d>g?1:-1},"BigNumber, BigNumber":function(d,g){return Xr(d,g,t.epsilon)?new a(0):new a(d.cmp(g))},"Fraction, Fraction":function(d,g){return new o(d.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,m({SS:c,DS:s,Ss:f}))}),HW=N(Jf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Jf,{"number, number":function(i,a){return Ar(i,a,t.epsilon)?0:i>a?1:-1}})});var Eo=wr(BN(),1);var ON="compareNatural",GW=["typed","compare"],W0=N(ON,GW,r=>{var{typed:e,compare:t}=r,n=t.signatures["boolean,boolean"];return e(ON,{"any, any":i});function i(u,s){var c=wt(u),f=wt(s),m;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return m=t(u,s),m.toString()!=="0"?m>0?1:-1:(0,Eo.default)(c,f);var p=["Array","DenseMatrix","SparseMatrix"];if(p.includes(c)||p.includes(f))return m=a(i,u,s),m!==0?m:(0,Eo.default)(c,f);if(c!==f)return(0,Eo.default)(c,f);if(c==="Complex")return jW(u,s);if(c==="Unit")return u.equalBase(s)?i(u.value,s.value):o(i,u.formatUnits(),s.formatUnits());if(c==="boolean")return n(u,s);if(c==="string")return(0,Eo.default)(u,s);if(c==="Object")return l(i,u,s);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(u,s,c){return Fi(s)&&Fi(c)?o(u,s.toJSON().values,c.toJSON().values):Fi(s)?a(u,s.toArray(),c):Fi(c)?a(u,s,c.toArray()):vo(s)?a(u,s.toJSON().data,c):vo(c)?a(u,s,c.toJSON().data):Array.isArray(s)?Array.isArray(c)?o(u,s,c):a(u,s,[c]):a(u,[s],c)}function o(u,s,c){for(var f=0,m=Math.min(s.length,c.length);f<m;f++){var p=u(s[f],c[f]);if(p!==0)return p}return s.length>c.length?1:s.length<c.length?-1:0}function l(u,s,c){var f=Object.keys(s),m=Object.keys(c);f.sort(Eo.default),m.sort(Eo.default);var p=o(u,f,m);if(p!==0)return p;for(var h=0;h<f.length;h++){var d=u(s[f[h]],c[m[h]]);if(d!==0)return d}return 0}});function jW(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var RN="compareText",ZW=["typed","matrix","concat"];Ff.signature="any, any";var H0=N(RN,ZW,r=>{var{typed:e,matrix:t,concat:n}=r,i=lt({typed:e,matrix:t,concat:n});return e(RN,Ff,i({elop:Ff,Ds:!0}))});var Xf="equal",YW=["typed","matrix","equalScalar","DenseMatrix","concat"],G0=N(Xf,YW,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=At({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:t,concat:a});return e(Xf,JW({typed:e,equalScalar:n}),s({elop:n,SS:l,DS:o,Ss:u}))}),JW=N(Xf,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(Xf,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var kN="equalText",XW=["typed","compareText","isZero"],j0=N(kN,XW,r=>{var{typed:e,compareText:t,isZero:n}=r;return e(kN,{"any, any":function(a,o){return n(t(a,o))}})});var Qf="smaller",QW=["typed","config","matrix","DenseMatrix","concat"],Z0=N(Qf,QW,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=At({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:n,concat:a}),c=li({typed:e});return e(Qf,KW({typed:e,config:t}),{"boolean, boolean":(f,m)=>f<m,"BigNumber, BigNumber":function(m,p){return m.lt(p)&&!Xr(m,p,t.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)===-1,"Complex, Complex":function(m,p){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),KW=N(Qf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Qf,{"number, number":function(i,a){return i<a&&!Ar(i,a,t.epsilon)}})});var Kf="smallerEq",$W=["typed","config","matrix","DenseMatrix","concat"],Y0=N(Kf,$W,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=At({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:n,concat:a}),c=li({typed:e});return e(Kf,eH({typed:e,config:t}),{"boolean, boolean":(f,m)=>f<=m,"BigNumber, BigNumber":function(m,p){return m.lte(p)||Xr(m,p,t.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),eH=N(Kf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Kf,{"number, number":function(i,a){return i<=a||Ar(i,a,t.epsilon)}})});var $f="larger",tH=["typed","config","matrix","DenseMatrix","concat"],J0=N($f,tH,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=At({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:n,concat:a}),c=li({typed:e});return e($f,rH({typed:e,config:t}),{"boolean, boolean":(f,m)=>f>m,"BigNumber, BigNumber":function(m,p){return m.gt(p)&&!Xr(m,p,t.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),rH=N($f,["typed","config"],r=>{var{typed:e,config:t}=r;return e($f,{"number, number":function(i,a){return i>a&&!Ar(i,a,t.epsilon)}})});var em="largerEq",nH=["typed","config","matrix","DenseMatrix","concat"],X0=N(em,nH,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=At({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:n,concat:a}),c=li({typed:e});return e(em,iH({typed:e,config:t}),{"boolean, boolean":(f,m)=>f>=m,"BigNumber, BigNumber":function(m,p){return m.gte(p)||Xr(m,p,t.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),iH=N(em,["typed","config"],r=>{var{typed:e,config:t}=r;return e(em,{"number, number":function(i,a){return i>=a||Ar(i,a,t.epsilon)}})});var PN="deepEqual",aH=["typed","equal"],Q0=N(PN,aH,r=>{var{typed:e,equal:t}=r;return e(PN,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var l=0;l<o;l++)if(!n(i[l],a[l]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var tm="unequal",oH=["typed","config","equalScalar","matrix","DenseMatrix","concat"],K0=N(tm,oH,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=r,l=Xt({typed:e}),u=Rr({typed:e,DenseMatrix:a}),s=At({typed:e,DenseMatrix:a}),c=lt({typed:e,matrix:i,concat:o});return e(tm,sH({typed:e,equalScalar:n}),c({elop:f,SS:u,DS:l,Ss:s}));function f(m,p){return!n(m,p)}}),sH=N(tm,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(tm,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var LN="partitionSelect",uH=["typed","isNumeric","isNaN","compare"],$0=N(LN,uH,r=>{var{typed:e,isNumeric:t,isNaN:n,compare:i}=r,a=i,o=(s,c)=>-i(s,c);return e(LN,{"Array | Matrix, number":function(c,f){return l(c,f,a)},"Array | Matrix, number, string":function(c,f,m){if(m==="asc")return l(c,f,a);if(m==="desc")return l(c,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":l});function l(s,c,f){if(!Ue(c)||c<0)throw new Error("k must be a non-negative integer");if(He(s)){var m=s.size();if(m.length>1)throw new Error("Only one dimensional matrices supported");return u(s.valueOf(),c,f)}if(Array.isArray(s))return u(s,c,f)}function u(s,c,f){if(c>=s.length)throw new Error("k out of bounds");for(var m=0;m<s.length;m++)if(t(s[m])&&n(s[m]))return s[m];for(var p=0,h=s.length-1;p<h;){for(var d=p,g=h,v=s[Math.floor(Math.random()*(h-p+1))+p];d<g;)if(f(s[d],v)>=0){var E=s[g];s[g]=s[d],s[d]=E,--g}else++d;f(s[d],v)>0&&--d,c<=d?h=d:p=d+1}return s[c]}});var qN="sort",lH=["typed","matrix","compare","compareNatural"],ey=N(qN,lH,r=>{var{typed:e,matrix:t,compare:n,compareNatural:i}=r,a=n,o=(c,f)=>-n(c,f);return e(qN,{Array:function(f){return u(f),f.sort(a)},Matrix:function(f){return s(f),t(f.toArray().sort(a),f.storage())},"Array, function":function(f,m){return u(f),f.sort(m)},"Matrix, function":function(f,m){return s(f),t(f.toArray().sort(m),f.storage())},"Array, string":function(f,m){return u(f),f.sort(l(m))},"Matrix, string":function(f,m){return s(f),t(f.toArray().sort(l(m)),f.storage())}});function l(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(c){if(Qe(c).length!==1)throw new Error("One dimensional array expected")}function s(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}});var VN="max",cH=["typed","config","numeric","larger"],$u=N(VN,cH,r=>{var{typed:e,config:t,numeric:n,larger:i}=r;return e(VN,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return Ua(u,s.valueOf(),a)},"...":function(u){if(ui(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(s){throw yr(s,"max",u)}}function o(l){var u;if(dn(l,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(c){throw yr(c,"max",s)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var UN="min",fH=["typed","config","numeric","smaller"],el=N(UN,fH,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r;return e(UN,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return Ua(u,s.valueOf(),a)},"...":function(u){if(ui(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(s){throw yr(s,"min",u)}}function o(l){var u;if(dn(l,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(c){throw yr(c,"min",s)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var mH="ImmutableDenseMatrix",pH=["smaller","DenseMatrix"],ty=N(mH,pH,r=>{var{smaller:e,DenseMatrix:t}=r;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!gr(a))throw new Error("Invalid datatype: "+a);if(He(i)||Et(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Et(i.data)&&Et(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+wt(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new t,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return He(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:Xe(this._data),size:Xe(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var dH="Index",hH=["ImmutableDenseMatrix","getMatrixDataType"],ry=N(dH,hH,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,l=arguments.length;o<l;o++){var u=arguments[o],s=Et(u),c=He(u),f=null;if(ds(u))this._dimensions.push(u),this._isScalar=!1;else if(s||c){var m=void 0;t(u)==="boolean"?(s&&(m=i(zN(u).valueOf())),c&&(m=i(zN(u._data).valueOf())),f=u.valueOf().length):m=i(u.valueOf()),this._dimensions.push(m);var p=m.size();(p.length!==1||p[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(i([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,l=a.length;o<l;o++)if(typeof a[o]!="number"||!Ue(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=Xe(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?1:u.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.max()}return a},n.prototype.min=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.min()}return a},n.prototype.forEach=function(a){for(var o=0,l=this._dimensions.length;o<l;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a.push(typeof u=="string"?u:u.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function zN(r){var e=[];return r.forEach((t,n)=>{t&&e.push(n)}),e}var gH="FibonacciHeap",vH=["smaller","larger"],ny=N(gH,vH,r=>{var{smaller:e,larger:t}=r,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var m={key:c,value:f,degree:0};if(this._minimum){var p=this._minimum;m.left=p,m.right=p.right,p.right=m,m.right.left=m,e(c,p.key)&&(this._minimum=m)}else m.left=m,m.right=m,this._minimum=m;return this._size++,m},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,m=c.degree,p=c.child;m>0;){var h=p.right;p.left.right=p.right,p.right.left=p.left,p.left=f,p.right=f.right,f.right=p,p.right.left=p,p.parent=null,p=h,m--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=s(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,m){f.key=m;var p=f.parent;return p&&e(f.key,p.key)&&(o(c,f,p),l(c,p)),e(f.key,c.key)&&(c=f),c}function o(c,f,m){f.left.right=f.right,f.right.left=f.left,m.degree--,m.child===f&&(m.child=f.right),m.degree===0&&(m.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function l(c,f){var m=f.parent;m&&(f.mark?(o(c,f,m),l(m)):f.mark=!0)}var u=function(f,m){f.left.right=f.right,f.right.left=f.left,f.parent=m,m.child?(f.left=m.child,f.right=m.child.right,m.child.right=f,f.right.left=f):(m.child=f,f.right=f,f.left=f),m.degree++,f.mark=!1};function s(c,f){var m=Math.floor(Math.log(f)*n)+1,p=new Array(m),h=0,d=c;if(d)for(h++,d=d.right;d!==c;)h++,d=d.right;for(var g;h>0;){for(var v=d.degree,E=d.right;g=p[v],!!g;){if(t(d.key,g.key)){var y=g;g=d,d=y}u(g,d),p[v]=null,v++}p[v]=d,d=E,h--}c=null;for(var D=0;D<m;D++)g=p[D],g&&(c?(g.left.right=g.right,g.right.left=g.left,g.left=c,g.right=c.right,c.right=g,g.right.left=g,e(g.key,c.key)&&(c=g)):c=g);return c}return i},{isClass:!0});var yH="Spa",xH=["addScalar","equalScalar","FibonacciHeap"],iy=N(yH,xH,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:n}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var l=this._heap.insert(a,o);this._values[a]=l}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var l=this._values[a];l?l.value=e(l.value,o):(l=this._heap.insert(a,o),this._values[a]=l)},i.prototype.forEach=function(a,o,l){var u=this._heap,s=this._values,c=[],f=u.extractMinimum();for(f&&c.push(f);f&&f.key<=o;)f.key>=a&&(t(f.value,0)||l(f.key,f.value,this)),f=u.extractMinimum(),f&&c.push(f);for(var m=0;m<c.length;m++){var p=c[m];f=u.insert(p.key,p.value),s[f.key]=f}},i.prototype.swap=function(a,o){var l=this._values[a],u=this._values[o];if(!l&&u)l=this._heap.insert(a,u.value),this._heap.remove(u),this._values[a]=l,this._values[o]=void 0;else if(l&&!u)u=this._heap.insert(o,l.value),this._heap.remove(l),this._values[o]=u,this._values[a]=void 0;else if(l&&u){var s=l.value;l.value=u.value,u.value=s}},i},{isClass:!0});var WN=bo(function(r){return new r(1).exp()},{hasher:rm}),HN=bo(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:rm}),tl=bo(function(r){return r.acos(-1)},{hasher:rm}),GN=bo(function(r){return tl(r).times(2)},{hasher:rm});function rm(r){return r[0].precision}function jN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ay(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(t),!0).forEach(function(n){Mt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var bH="Unit",DH=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],oy=N(bH,DH,r=>{var{on:e,config:t,addScalar:n,subtract:i,multiplyScalar:a,divideScalar:o,pow:l,abs:u,fix:s,round:c,equal:f,isNumeric:m,format:p,number:h,Complex:d,BigNumber:g,Fraction:v}=r,E=h;function y(W,j){if(!(this instanceof y))throw new Error("Constructor must be called with the new operator");if(!(W==null||m(W)||Sn(W)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,j===void 0)this.units=[],this.dimensions=z.map(H=>0);else if(typeof j=="string"){var le=y.parse(j);this.units=le.units,this.dimensions=le.dimensions}else if(nn(j)&&j.value===null)this.fixPrefix=j.fixPrefix,this.skipAutomaticSimplification=j.skipAutomaticSimplification,this.dimensions=j.dimensions.slice(0),this.units=j.units.map(H=>ur({},H));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(W)}Object.defineProperty(y,"name",{value:"Unit"}),y.prototype.constructor=y,y.prototype.type="Unit",y.prototype.isUnit=!0;var D,x,b;function C(){for(;b===" "||b==="	";)F()}function S(W){return W>="0"&&W<="9"||W==="."}function A(W){return W>="0"&&W<="9"}function F(){x++,b=D.charAt(x)}function I(W){x=W,b=D.charAt(x)}function M(){var W="",j=x;if(b==="+"?F():b==="-"&&(W+=b,F()),!S(b))return I(j),null;if(b==="."){if(W+=b,F(),!A(b))return I(j),null}else{for(;A(b);)W+=b,F();b==="."&&(W+=b,F())}for(;A(b);)W+=b,F();if(b==="E"||b==="e"){var le="",H=x;if(le+=b,F(),(b==="+"||b==="-")&&(le+=b,F()),!A(b))return I(H),W;for(W=W+le;A(b);)W+=b,F()}return W}function O(){for(var W="";A(b)||y.isValidAlpha(b);)W+=b,F();var j=W.charAt(0);return y.isValidAlpha(j)?W:null}function P(W){return b===W?(F(),W):null}y.parse=function(W,j){if(j=j||{},D=W,x=-1,b="",typeof D!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var le=new y;le.units=[];var H=1,Q=!1;F(),C();var ne=M(),ye=null;if(ne){if(t.number==="BigNumber")ye=new g(ne);else if(t.number==="Fraction")try{ye=new v(ne)}catch(ce){ye=parseFloat(ne)}else ye=parseFloat(ne);C(),P("*")?(H=1,Q=!0):P("/")&&(H=-1,Q=!0)}for(var ge=[],ke=1;;){for(C();b==="(";)ge.push(H),ke*=H,H=1,F(),C();var Ee=void 0;if(b){var mt=b;if(Ee=O(),Ee===null)throw new SyntaxError('Unexpected "'+mt+'" in "'+D+'" at index '+x.toString())}else break;var Dt=k(Ee);if(Dt===null)throw new SyntaxError('Unit "'+Ee+'" not found.');var It=H*ke;if(C(),P("^")){C();var Ht=M();if(Ht===null)throw new SyntaxError('In "'+W+'", "^" must be followed by a floating-point number');It*=Ht}le.units.push({unit:Dt.unit,prefix:Dt.prefix,power:It});for(var G=0;G<z.length;G++)le.dimensions[G]+=(Dt.unit.dimensions[G]||0)*It;for(C();b===")";){if(ge.length===0)throw new SyntaxError('Unmatched ")" in "'+D+'" at index '+x.toString());ke/=ge.pop(),F(),C()}if(Q=!1,P("*")?(H=1,Q=!0):P("/")?(H=-1,Q=!0):H=1,Dt.unit.base){var re=Dt.unit.base.key;te.auto[re]={unit:Dt.unit,prefix:Dt.prefix}}}if(C(),b)throw new SyntaxError('Could not parse: "'+W+'"');if(Q)throw new SyntaxError('Trailing characters: "'+W+'"');if(ge.length!==0)throw new SyntaxError('Unmatched "(" in "'+D+'"');if(le.units.length===0&&!j.allowNoUnits)throw new SyntaxError('"'+W+'" contains no units');return le.value=ye!==void 0?le._normalize(ye):null,le},y.prototype.clone=function(){var W=new y;W.fixPrefix=this.fixPrefix,W.skipAutomaticSimplification=this.skipAutomaticSimplification,W.value=Xe(this.value),W.dimensions=this.dimensions.slice(0),W.units=[];for(var j=0;j<this.units.length;j++){W.units[j]={};for(var le in this.units[j])Ge(this.units[j],le)&&(W.units[j][le]=this.units[j][le])}return W},y.prototype.valueType=function(){return wt(this.value)},y.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},y.prototype._normalize=function(W){if(W==null||this.units.length===0)return W;for(var j=W,le=y._getNumberConverter(wt(W)),H=0;H<this.units.length;H++){var Q=le(this.units[H].unit.value),ne=le(this.units[H].prefix.value),ye=le(this.units[H].power);j=a(j,l(a(Q,ne),ye))}return j},y.prototype._denormalize=function(W,j){if(W==null||this.units.length===0)return W;for(var le=W,H=y._getNumberConverter(wt(W)),Q=0;Q<this.units.length;Q++){var ne=H(this.units[Q].unit.value),ye=H(this.units[Q].prefix.value),ge=H(this.units[Q].power);le=o(le,l(a(ne,ye),ge))}return le};var k=bo(W=>{if(Ge(L,W)){var j=L[W],le=j.prefixes[""];return{unit:j,prefix:le}}for(var H in L)if(Ge(L,H)&&W2(W,H)){var Q=L[H],ne=W.length-H.length,ye=W.substring(0,ne),ge=Ge(Q.prefixes,ye)?Q.prefixes[ye]:void 0;if(ge!==void 0)return{unit:Q,prefix:ge}}return null},{hasher:W=>W[0],limit:100});y.isValuelessUnit=function(W){return k(W)!==null},y.prototype.hasBase=function(W){if(typeof W=="string"&&(W=B[W]),!W)return!1;for(var j=0;j<z.length;j++)if(Math.abs((this.dimensions[j]||0)-(W.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equalBase=function(W){for(var j=0;j<z.length;j++)if(Math.abs((this.dimensions[j]||0)-(W.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equals=function(W){return this.equalBase(W)&&f(this.value,W.value)},y.prototype.multiply=function(W){for(var j=this.clone(),le=nn(W)?W:new y(W),H=0;H<z.length;H++)j.dimensions[H]=(this.dimensions[H]||0)+(le.dimensions[H]||0);for(var Q=0;Q<le.units.length;Q++){var ne=ay({},le.units[Q]);j.units.push(ne)}if(this.value!==null||le.value!==null){var ye=this.value===null?this._normalize(1):this.value,ge=le.value===null?le._normalize(1):le.value;j.value=a(ye,ge)}else j.value=null;return nn(W)&&(j.skipAutomaticSimplification=!1),_(j)},y.prototype.divideInto=function(W){return new y(W).divide(this)},y.prototype.divide=function(W){for(var j=this.clone(),le=nn(W)?W:new y(W),H=0;H<z.length;H++)j.dimensions[H]=(this.dimensions[H]||0)-(le.dimensions[H]||0);for(var Q=0;Q<le.units.length;Q++){var ne=ay(ay({},le.units[Q]),{},{power:-le.units[Q].power});j.units.push(ne)}if(this.value!==null||le.value!==null){var ye=this.value===null?this._normalize(1):this.value,ge=le.value===null?le._normalize(1):le.value;j.value=o(ye,ge)}else j.value=null;return nn(W)&&(j.skipAutomaticSimplification=!1),_(j)},y.prototype.pow=function(W){for(var j=this.clone(),le=0;le<z.length;le++)j.dimensions[le]=(this.dimensions[le]||0)*W;for(var H=0;H<j.units.length;H++)j.units[H].power*=W;return j.value!==null?j.value=l(j.value,W):j.value=null,j.skipAutomaticSimplification=!1,_(j)};function _(W){return W.equalBase(B.NONE)&&W.value!==null&&!t.predictable?W.value:W}y.prototype.abs=function(){var W=this.clone();if(W.value!==null)if(W._isDerived()||W.units[0].unit.offset===0)W.value=u(W.value);else{var j=W._numberConverter(),le=j(W.units[0].unit.value),H=j(W.units[0].unit.offset),Q=a(le,H);W.value=i(u(n(W.value,Q)),Q)}for(var ne in W.units)(W.units[ne].unit.name==="VA"||W.units[ne].unit.name==="VAR")&&(W.units[ne].unit=L.W);return W},y.prototype.to=function(W){var j=this.value===null?this._normalize(1):this.value,le;if(typeof W=="string")le=y.parse(W);else if(nn(W))le=W.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(le))throw new Error("Units do not match ('".concat(le.toString(),"' != '").concat(this.toString(),"')"));if(le.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===le.units[0].unit.offset)le.value=Xe(j);else{var H=y._getNumberConverter(wt(j)),Q=this.units[0].unit.value,ne=this.units[0].unit.offset,ye=a(Q,ne),ge=le.units[0].unit.value,ke=le.units[0].unit.offset,Ee=a(ge,ke);le.value=n(j,H(i(ye,Ee)))}return le.fixPrefix=!0,le.skipAutomaticSimplification=!0,le},y.prototype.toNumber=function(W){return E(this.toNumeric(W))},y.prototype.toNumeric=function(W){var j;return W?j=this.to(W):j=this.clone(),j._isDerived()||j.units.length===0?j._denormalize(j.value):j._denormalize(j.value,j.units[0].prefix.value)},y.prototype.toString=function(){return this.format()},y.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},y.fromJSON=function(W){var j=new y(W.value,W.unit);return j.fixPrefix=W.fixPrefix||!1,j},y.prototype.valueOf=y.prototype.toString,y.prototype.simplify=function(){var W=this.clone(),j=[],le;for(var H in me)if(Ge(me,H)&&W.hasBase(B[H])){le=H;break}if(le==="NONE")W.units=[];else{var Q;if(le&&Ge(me,le)&&(Q=me[le]),Q)W.units=[{unit:Q.unit,prefix:Q.prefix,power:1}];else{for(var ne=!1,ye=0;ye<z.length;ye++){var ge=z[ye];Math.abs(W.dimensions[ye]||0)>1e-12&&(Ge(me,ge)?j.push({unit:me[ge].unit,prefix:me[ge].prefix,power:W.dimensions[ye]||0}):ne=!0)}j.length<W.units.length&&!ne&&(W.units=j)}}return W},y.prototype.toSI=function(){for(var W=this.clone(),j=[],le=0;le<z.length;le++){var H=z[le];if(Math.abs(W.dimensions[le]||0)>1e-12)if(Ge(te.si,H))j.push({unit:te.si[H].unit,prefix:te.si[H].prefix,power:W.dimensions[le]||0});else throw new Error("Cannot express custom unit "+H+" in SI units")}return W.units=j,W.fixPrefix=!0,W.skipAutomaticSimplification=!0,W},y.prototype.formatUnits=function(){for(var W="",j="",le=0,H=0,Q=0;Q<this.units.length;Q++)this.units[Q].power>0?(le++,W+=" "+this.units[Q].prefix.name+this.units[Q].unit.name,Math.abs(this.units[Q].power-1)>1e-15&&(W+="^"+this.units[Q].power)):this.units[Q].power<0&&H++;if(H>0)for(var ne=0;ne<this.units.length;ne++)this.units[ne].power<0&&(le>0?(j+=" "+this.units[ne].prefix.name+this.units[ne].unit.name,Math.abs(this.units[ne].power+1)>1e-15&&(j+="^"+-this.units[ne].power)):(j+=" "+this.units[ne].prefix.name+this.units[ne].unit.name,j+="^"+this.units[ne].power));W=W.substr(1),j=j.substr(1),le>1&&H>0&&(W="("+W+")"),H>1&&le>0&&(j="("+j+")");var ye=W;return le>0&&H>0&&(ye+=" / "),ye+=j,ye},y.prototype.format=function(W){var j=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),le=!1;typeof j.value!="undefined"&&j.value!==null&&Sn(j.value)&&(le=Math.abs(j.value.re)<1e-14);for(var H in j.units)Ge(j.units,H)&&j.units[H].unit&&(j.units[H].unit.name==="VA"&&le?j.units[H].unit=L.VAR:j.units[H].unit.name==="VAR"&&!le&&(j.units[H].unit=L.VA));j.units.length===1&&!j.fixPrefix&&Math.abs(j.units[0].power-Math.round(j.units[0].power))<1e-14&&(j.units[0].prefix=j._bestPrefix());var Q=j._denormalize(j.value),ne=j.value!==null?p(Q,W||{}):"",ye=j.formatUnits();return j.value&&Sn(j.value)&&(ne="("+ne+")"),ye.length>0&&ne.length>0&&(ne+=" "),ne+=ye,ne},y.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var W=this.value!==null?u(this.value):0,j=u(this.units[0].unit.value),le=this.units[0].prefix;if(W===0)return le;var H=this.units[0].power,Q=Math.log(W/Math.pow(le.value*j,H))/Math.LN10-1.2;if(Q>-2.200001&&Q<1.800001)return le;Q=Math.abs(Q);var ne=this.units[0].unit.prefixes;for(var ye in ne)if(Ge(ne,ye)){var ge=ne[ye];if(ge.scientific){var ke=Math.abs(Math.log(W/Math.pow(ge.value*j,H))/Math.LN10-1.2);(ke<Q||ke===Q&&ge.name.length<le.name.length)&&(le=ge,Q=ke)}}return le},y.prototype.splitUnit=function(W){for(var j=this.clone(),le=[],H=0;H<W.length&&(j=j.to(W[H]),H!==W.length-1);H++){var Q=j.toNumeric(),ne=c(Q),ye=void 0,ge=f(ne,Q);ge?ye=ne:ye=s(j.toNumeric());var ke=new y(ye,W[H].toString());le.push(ke),j=i(j,ke)}for(var Ee=0,mt=0;mt<le.length;mt++)Ee=n(Ee,le[mt].value);return f(Ee,this.value)&&(j.value=0),le.push(j),le};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG=ur({},T.SHORT,T.LONG),T.BINARY_SHORT=ur({},T.BINARY_SHORT_SI,T.BINARY_SHORT_IEC),T.BINARY_LONG=ur({},T.BINARY_LONG_SI,T.BINARY_LONG_IEC);var z=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],B={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var U in B)Ge(B,U)&&(B[U].key=U);var Y={},J={name:"",base:Y,value:1,offset:0,dimensions:z.map(W=>0)},L={meter:{name:"meter",base:B.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:B.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:B.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:B.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:B.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:B.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:B.LENGTH,prefixes:T.NONE,value:5.0292,offset:0},chain:{name:"chain",base:B.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:B.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:B.LENGTH,prefixes:T.SHORT,value:1,offset:0},in:{name:"in",base:B.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:B.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:B.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:B.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:B.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:B.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:B.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:B.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:B.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:B.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:B.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:B.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:B.SURFACE,prefixes:T.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:B.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:B.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:B.SURFACE,prefixes:T.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:B.SURFACE,prefixes:T.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:B.SURFACE,prefixes:T.NONE,value:1e4,offset:0},m3:{name:"m3",base:B.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:B.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:B.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:B.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:B.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:B.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:B.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:B.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:B.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:B.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:B.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:B.VOLUME,prefixes:T.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:B.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:B.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:B.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:B.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:B.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:B.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:B.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:B.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:B.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:B.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:B.VOLUME,prefixes:T.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:B.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:B.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:B.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:B.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:B.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:B.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:B.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:B.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},obl:{name:"obl",base:B.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},g:{name:"g",base:B.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:B.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:B.MASS,prefixes:T.SHORT,value:907.18474,offset:0},t:{name:"t",base:B.MASS,prefixes:T.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:B.MASS,prefixes:T.LONG,value:1e3,offset:0},grain:{name:"grain",base:B.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:B.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:B.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:B.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:B.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:B.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:B.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:B.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:B.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:B.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:B.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:B.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:B.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:B.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:B.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:B.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:B.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:B.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:B.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:B.TIME,prefixes:T.NONE,value:86400,offset:0},week:{name:"week",base:B.TIME,prefixes:T.NONE,value:7*86400,offset:0},month:{name:"month",base:B.TIME,prefixes:T.NONE,value:2629800,offset:0},year:{name:"year",base:B.TIME,prefixes:T.NONE,value:31557600,offset:0},decade:{name:"decade",base:B.TIME,prefixes:T.NONE,value:315576e3,offset:0},century:{name:"century",base:B.TIME,prefixes:T.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:B.TIME,prefixes:T.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:B.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:B.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:B.ANGLE,prefixes:T.SHORT,value:1,offset:0},radian:{name:"radian",base:B.ANGLE,prefixes:T.LONG,value:1,offset:0},deg:{name:"deg",base:B.ANGLE,prefixes:T.SHORT,value:null,offset:0},degree:{name:"degree",base:B.ANGLE,prefixes:T.LONG,value:null,offset:0},grad:{name:"grad",base:B.ANGLE,prefixes:T.SHORT,value:null,offset:0},gradian:{name:"gradian",base:B.ANGLE,prefixes:T.LONG,value:null,offset:0},cycle:{name:"cycle",base:B.ANGLE,prefixes:T.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:B.ANGLE,prefixes:T.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:B.ANGLE,prefixes:T.NONE,value:null,offset:0},A:{name:"A",base:B.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:B.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:B.TEMPERATURE,prefixes:T.SHORT,value:1,offset:0},degC:{name:"degC",base:B.TEMPERATURE,prefixes:T.SHORT,value:1,offset:273.15},degF:{name:"degF",base:B.TEMPERATURE,prefixes:T.SHORT,value:new v(5,9),offset:459.67},degR:{name:"degR",base:B.TEMPERATURE,prefixes:T.SHORT,value:new v(5,9),offset:0},kelvin:{name:"kelvin",base:B.TEMPERATURE,prefixes:T.LONG,value:1,offset:0},celsius:{name:"celsius",base:B.TEMPERATURE,prefixes:T.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:B.TEMPERATURE,prefixes:T.LONG,value:new v(5,9),offset:459.67},rankine:{name:"rankine",base:B.TEMPERATURE,prefixes:T.LONG,value:new v(5,9),offset:0},mol:{name:"mol",base:B.AMOUNT_OF_SUBSTANCE,prefixes:T.SHORT,value:1,offset:0},mole:{name:"mole",base:B.AMOUNT_OF_SUBSTANCE,prefixes:T.LONG,value:1,offset:0},cd:{name:"cd",base:B.LUMINOUS_INTENSITY,prefixes:T.SHORT,value:1,offset:0},candela:{name:"candela",base:B.LUMINOUS_INTENSITY,prefixes:T.LONG,value:1,offset:0},N:{name:"N",base:B.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:B.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:B.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:B.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:B.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:B.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:B.FORCE,prefixes:T.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:B.FORCE,prefixes:T.NONE,value:9.80665,offset:0},J:{name:"J",base:B.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:B.ENERGY,prefixes:T.LONG,value:1,offset:0},erg:{name:"erg",base:B.ENERGY,prefixes:T.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:B.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:B.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:B.ENERGY,prefixes:T.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:B.ENERGY,prefixes:T.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:B.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"watt",base:B.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:B.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:B.POWER,prefixes:T.SHORT,value:d.I,offset:0},VA:{name:"VA",base:B.POWER,prefixes:T.SHORT,value:1,offset:0},Pa:{name:"Pa",base:B.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:B.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:B.PRESSURE,prefixes:T.NONE,value:101325,offset:0},bar:{name:"bar",base:B.PRESSURE,prefixes:T.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:B.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:B.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:B.PRESSURE,prefixes:T.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:B.PRESSURE,prefixes:T.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:B.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:B.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:B.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:B.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:B.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:B.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:B.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:B.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:B.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:B.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:B.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:B.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:B.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:B.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:B.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:B.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:B.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:B.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:B.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},X={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function se(W){if(W.number==="BigNumber"){var j=tl(g);L.rad.value=new g(1),L.deg.value=j.div(180),L.grad.value=j.div(200),L.cycle.value=j.times(2),L.arcsec.value=j.div(648e3),L.arcmin.value=j.div(10800)}else L.rad.value=1,L.deg.value=Math.PI/180,L.grad.value=Math.PI/200,L.cycle.value=Math.PI*2,L.arcsec.value=Math.PI/648e3,L.arcmin.value=Math.PI/10800;L.radian.value=L.rad.value,L.degree.value=L.deg.value,L.gradian.value=L.grad.value}se(t),e&&e("config",function(W,j){W.number!==j.number&&se(W)});var te={si:{NONE:{unit:J,prefix:T.NONE[""]},LENGTH:{unit:L.m,prefix:T.SHORT[""]},MASS:{unit:L.g,prefix:T.SHORT.k},TIME:{unit:L.s,prefix:T.SHORT[""]},CURRENT:{unit:L.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:L.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:L.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:L.mol,prefix:T.SHORT[""]},ANGLE:{unit:L.rad,prefix:T.SHORT[""]},BIT:{unit:L.bits,prefix:T.SHORT[""]},FORCE:{unit:L.N,prefix:T.SHORT[""]},ENERGY:{unit:L.J,prefix:T.SHORT[""]},POWER:{unit:L.W,prefix:T.SHORT[""]},PRESSURE:{unit:L.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:L.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:L.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:L.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:L.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:L.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:L.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:L.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:L.T,prefix:T.SHORT[""]},FREQUENCY:{unit:L.Hz,prefix:T.SHORT[""]}}};te.cgs=JSON.parse(JSON.stringify(te.si)),te.cgs.LENGTH={unit:L.m,prefix:T.SHORT.c},te.cgs.MASS={unit:L.g,prefix:T.SHORT[""]},te.cgs.FORCE={unit:L.dyn,prefix:T.SHORT[""]},te.cgs.ENERGY={unit:L.erg,prefix:T.NONE[""]},te.us=JSON.parse(JSON.stringify(te.si)),te.us.LENGTH={unit:L.ft,prefix:T.NONE[""]},te.us.MASS={unit:L.lbm,prefix:T.NONE[""]},te.us.TEMPERATURE={unit:L.degF,prefix:T.NONE[""]},te.us.FORCE={unit:L.lbf,prefix:T.NONE[""]},te.us.ENERGY={unit:L.BTU,prefix:T.BTU[""]},te.us.POWER={unit:L.hp,prefix:T.NONE[""]},te.us.PRESSURE={unit:L.psi,prefix:T.NONE[""]},te.auto=JSON.parse(JSON.stringify(te.si));var me=te.auto;y.setUnitSystem=function(W){if(Ge(te,W))me=te[W];else throw new Error("Unit system "+W+" does not exist. Choices are: "+Object.keys(te).join(", "))},y.getUnitSystem=function(){for(var W in te)if(Ge(te,W)&&te[W]===me)return W},y.typeConverters={BigNumber:function(j){return j!=null&&j.isFraction?new g(j.n).div(j.d).times(j.s):new g(j+"")},Fraction:function(j){return new v(j)},Complex:function(j){return j},number:function(j){return j!=null&&j.isFraction?h(j):j}},y.prototype._numberConverter=function(){var W=y.typeConverters[this.valueType()];if(W)return W;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},y._getNumberConverter=function(W){if(!y.typeConverters[W])throw new TypeError('Unsupported type "'+W+'"');return y.typeConverters[W]};for(var de in L)if(Ge(L,de)){var fe=L[de];fe.dimensions=fe.base.dimensions}for(var ue in X)if(Ge(X,ue)){var xe=L[X[ue]],We={};for(var Ne in xe)Ge(xe,Ne)&&(We[Ne]=xe[Ne]);We.name=ue,L[ue]=We}y.isValidAlpha=function(j){return/^[a-zA-Z]$/.test(j)};function Ve(W){for(var j=0;j<W.length;j++){if(b=W.charAt(j),j===0&&!y.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+W+'"');if(j>0&&!(y.isValidAlpha(b)||A(b)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+W+'"')}}return y.createUnit=function(W,j){if(typeof W!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(j&&j.override){for(var le in W)if(Ge(W,le)&&y.deleteUnit(le),W[le].aliases)for(var H=0;H<W[le].aliases.length;H++)y.deleteUnit(W[le].aliases[H])}var Q;for(var ne in W)Ge(W,ne)&&(Q=y.createUnitSingle(ne,W[ne]));return Q},y.createUnitSingle=function(W,j){if((typeof j=="undefined"||j===null)&&(j={}),typeof W!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ge(L,W))throw new Error('Cannot create unit "'+W+'": a unit with that name already exists');Ve(W);var le=null,H=[],Q=0,ne,ye,ge;if(j&&j.type==="Unit")le=j.clone();else if(typeof j=="string")j!==""&&(ne=j);else if(typeof j=="object")ne=j.definition,ye=j.prefixes,Q=j.offset,ge=j.baseName,j.aliases&&(H=j.aliases.valueOf());else throw new TypeError('Cannot create unit "'+W+'" from "'+j.toString()+'": expecting "string" or "Unit" or "Object"');if(H){for(var ke=0;ke<H.length;ke++)if(Ge(L,H[ke]))throw new Error('Cannot create alias "'+H[ke]+'": a unit with that name already exists')}if(ne&&typeof ne=="string"&&!le)try{le=y.parse(ne,{allowNoUnits:!0})}catch(ze){throw ze.message='Could not create unit "'+W+'" from "'+ne+'": '+ze.message,ze}else ne&&ne.type==="Unit"&&(le=ne.clone());H=H||[],Q=Q||0,ye&&ye.toUpperCase?ye=T[ye.toUpperCase()]||T.NONE:ye=T.NONE;var Ee={};if(le){Ee={name:W,value:le.value,dimensions:le.dimensions.slice(0),prefixes:ye,offset:Q};var Ht=!1;for(var G in B)if(Ge(B,G)){for(var re=!0,ce=0;ce<z.length;ce++)if(Math.abs((Ee.dimensions[ce]||0)-(B[G].dimensions[ce]||0))>1e-12){re=!1;break}if(re){Ht=!0,Ee.base=B[G];break}}if(!Ht){ge=ge||W+"_STUFF";var be={dimensions:le.dimensions.slice(0)};be.key=ge,B[ge]=be,me[ge]={unit:Ee,prefix:T.NONE[""]},Ee.base=B[ge]}}else{if(ge=ge||W+"_STUFF",z.indexOf(ge)>=0)throw new Error('Cannot create new base unit "'+W+'": a base unit with that name already exists (and cannot be overridden)');z.push(ge);for(var mt in B)Ge(B,mt)&&(B[mt].dimensions[z.length-1]=0);for(var Dt={dimensions:[]},It=0;It<z.length;It++)Dt.dimensions[It]=0;Dt.dimensions[z.length-1]=1,Dt.key=ge,B[ge]=Dt,Ee={name:W,value:1,dimensions:B[ge].dimensions.slice(0),prefixes:ye,offset:Q,base:B[ge]},me[ge]={unit:Ee,prefix:T.NONE[""]}}y.UNITS[W]=Ee;for(var Ce=0;Ce<H.length;Ce++){var De=H[Ce],Pe={};for(var we in Ee)Ge(Ee,we)&&(Pe[we]=Ee[we]);Pe.name=De,y.UNITS[De]=Pe}return delete k.cache,new y(null,W)},y.deleteUnit=function(W){delete y.UNITS[W]},y.PREFIXES=T,y.BASE_DIMENSIONS=z,y.BASE_UNITS=B,y.UNIT_SYSTEMS=te,y.UNITS=L,y},{isClass:!0});var ZN="unit",wH=["typed","Unit"],sy=N(ZN,wH,r=>{var{typed:e,Unit:t}=r;return e(ZN,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>je(i,n))})});var YN="sparse",EH=["typed","SparseMatrix"],uy=N(YN,EH,r=>{var{typed:e,SparseMatrix:t}=r;return e(YN,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var JN="createUnit",CH=["typed","Unit"],ly=N(JN,CH,r=>{var{typed:e,Unit:t}=r;return e(JN,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var l={};return l[i]=a,t.createUnit(l,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var XN="acos",FH=["typed","config","Complex"],cy=N(XN,FH,r=>{var{typed:e,config:t,Complex:n}=r;return e(XN,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var QN="acosh",AH=["typed","config","Complex"],fy=N(QN,AH,r=>{var{typed:e,config:t,Complex:n}=r;return e(QN,{number:function(a){return a>=1||t.predictable?yg(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var KN="acot",SH=["typed","BigNumber"],my=N(KN,SH,r=>{var{typed:e,BigNumber:t}=r;return e(KN,{number:xg,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var $N="acoth",NH=["typed","config","Complex","BigNumber"],py=N($N,NH,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e($N,{number:function(o){return o>=1||o<=-1||t.predictable?bg(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var eM="acsc",MH=["typed","config","Complex","BigNumber"],dy=N(eM,MH,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(eM,{number:function(o){return o<=-1||o>=1||t.predictable?Dg(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var tM="acsch",_H=["typed","BigNumber"],hy=N(tM,_H,r=>{var{typed:e,BigNumber:t}=r;return e(tM,{number:wg,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var rM="asec",TH=["typed","config","Complex","BigNumber"],gy=N(rM,TH,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(rM,{number:function(o){return o<=-1||o>=1||t.predictable?Eg(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var nM="asech",IH=["typed","config","Complex","BigNumber"],vy=N(nM,IH,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(nM,{number:function(o){if(o<=1&&o>=-1||t.predictable){var l=1/o;if(l>0||t.predictable)return Cg(o);var u=Math.sqrt(l*l-1);return new n(Math.log(u-l),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var iM="asin",BH=["typed","config","Complex"],yy=N(iM,BH,r=>{var{typed:e,config:t,Complex:n}=r;return e(iM,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var OH="asinh",RH=["typed"],xy=N(OH,RH,r=>{var{typed:e}=r;return e("asinh",{number:Fg,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var kH="atan",PH=["typed"],by=N(kH,PH,r=>{var{typed:e}=r;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var aM="atan2",LH=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Dy=N(aM,LH,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=r,l=Nr({typed:e,equalScalar:n}),u=Xt({typed:e}),s=Hf({typed:e,equalScalar:n}),c=Lt({typed:e,equalScalar:n}),f=At({typed:e,DenseMatrix:a}),m=lt({typed:e,matrix:t,concat:o});return e(aM,{"number, number":Math.atan2,"BigNumber, BigNumber":(p,h)=>i.atan2(p,h)},m({scalar:"number | BigNumber",SS:s,DS:u,SD:l,Ss:c,sS:f}))});var oM="atanh",qH=["typed","config","Complex"],wy=N(oM,qH,r=>{var{typed:e,config:t,Complex:n}=r;return e(oM,{number:function(a){return a<=1&&a>=-1||t.predictable?Ag(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var fi=N("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,n.valueType())(n.value)})}});var sM="cos",VH=["typed"],Ey=N(sM,VH,r=>{var{typed:e}=r,t=fi({typed:e});return e(sM,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},t)});var uM="cosh",UH=["typed"],Cy=N(uM,UH,r=>{var{typed:e}=r;return e(uM,{number:Ef,"Complex | BigNumber":t=>t.cosh()})});var lM="cot",zH=["typed","BigNumber"],Fy=N(lM,zH,r=>{var{typed:e,BigNumber:t}=r,n=fi({typed:e});return e(lM,{number:Sg,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},n)});var cM="coth",WH=["typed","BigNumber"],Ay=N(cM,WH,r=>{var{typed:e,BigNumber:t}=r;return e(cM,{number:Ng,Complex:n=>n.coth(),BigNumber:n=>new t(1).div(n.tanh())})});var fM="csc",HH=["typed","BigNumber"],Sy=N(fM,HH,r=>{var{typed:e,BigNumber:t}=r,n=fi({typed:e});return e(fM,{number:Mg,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},n)});var mM="csch",GH=["typed","BigNumber"],Ny=N(mM,GH,r=>{var{typed:e,BigNumber:t}=r;return e(mM,{number:_g,Complex:n=>n.csch(),BigNumber:n=>new t(1).div(n.sinh())})});var pM="sec",jH=["typed","BigNumber"],My=N(pM,jH,r=>{var{typed:e,BigNumber:t}=r,n=fi({typed:e});return e(pM,{number:Tg,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},n)});var dM="sech",ZH=["typed","BigNumber"],_y=N(dM,ZH,r=>{var{typed:e,BigNumber:t}=r;return e(dM,{number:Ig,Complex:n=>n.sech(),BigNumber:n=>new t(1).div(n.cosh())})});var hM="sin",YH=["typed"],Ty=N(hM,YH,r=>{var{typed:e}=r,t=fi({typed:e});return e(hM,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},t)});var gM="sinh",JH=["typed"],Iy=N(gM,JH,r=>{var{typed:e}=r;return e(gM,{number:Bg,"Complex | BigNumber":t=>t.sinh()})});var vM="tan",XH=["typed"],By=N(vM,XH,r=>{var{typed:e}=r,t=fi({typed:e});return e(vM,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},t)});var QH="tanh",KH=["typed"],Oy=N(QH,KH,r=>{var{typed:e}=r;return e("tanh",{number:Cf,"Complex | BigNumber":t=>t.tanh()})});var yM="setCartesian",$H=["typed","size","subset","compareNatural","Index","DenseMatrix"],Ry=N(yM,$H,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(yM,{"Array | Matrix, Array | Matrix":function(u,s){var c=[];if(n(t(u),new a(0))!==0&&n(t(s),new a(0))!==0){var f=dt(Array.isArray(u)?u:u.toArray()).sort(i),m=dt(Array.isArray(s)?s:s.toArray()).sort(i);c=[];for(var p=0;p<f.length;p++)for(var h=0;h<m.length;h++)c.push([f[p],m[h]])}return Array.isArray(u)&&Array.isArray(s)?c:new o(c)}})});var xM="setDifference",eG=["typed","size","subset","compareNatural","Index","DenseMatrix"],ky=N(xM,eG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(xM,{"Array | Matrix, Array | Matrix":function(u,s){var c;if(n(t(u),new a(0))===0)c=[];else{if(n(t(s),new a(0))===0)return dt(u.toArray());var f=aa(dt(Array.isArray(u)?u:u.toArray()).sort(i)),m=aa(dt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var p,h=0;h<f.length;h++){p=!1;for(var d=0;d<m.length;d++)if(i(f[h].value,m[d].value)===0&&f[h].identifier===m[d].identifier){p=!0;break}p||c.push(f[h])}}return Array.isArray(u)&&Array.isArray(s)?ys(c):new o(ys(c))}})});var bM="setDistinct",tG=["typed","size","subset","compareNatural","Index","DenseMatrix"],Py=N(bM,tG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(bM,{"Array | Matrix":function(u){var s;if(n(t(u),new a(0))===0)s=[];else{var c=dt(Array.isArray(u)?u:u.toArray()).sort(i);s=[],s.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&s.push(c[f])}return Array.isArray(u)?s:new o(s)}})});var DM="setIntersect",rG=["typed","size","subset","compareNatural","Index","DenseMatrix"],Ly=N(DM,rG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(DM,{"Array | Matrix, Array | Matrix":function(u,s){var c;if(n(t(u),new a(0))===0||n(t(s),new a(0))===0)c=[];else{var f=aa(dt(Array.isArray(u)?u:u.toArray()).sort(i)),m=aa(dt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var p=0;p<f.length;p++)for(var h=0;h<m.length;h++)if(i(f[p].value,m[h].value)===0&&f[p].identifier===m[h].identifier){c.push(f[p]);break}}return Array.isArray(u)&&Array.isArray(s)?ys(c):new o(ys(c))}})});var wM="setIsSubset",nG=["typed","size","subset","compareNatural","Index"],qy=N(wM,nG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(wM,{"Array | Matrix, Array | Matrix":function(l,u){if(n(t(l),new a(0))===0)return!0;if(n(t(u),new a(0))===0)return!1;for(var s=aa(dt(Array.isArray(l)?l:l.toArray()).sort(i)),c=aa(dt(Array.isArray(u)?u:u.toArray()).sort(i)),f,m=0;m<s.length;m++){f=!1;for(var p=0;p<c.length;p++)if(i(s[m].value,c[p].value)===0&&s[m].identifier===c[p].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var EM="setMultiplicity",iG=["typed","size","subset","compareNatural","Index"],Vy=N(EM,iG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(EM,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(l,u){if(n(t(u),new a(0))===0)return 0;for(var s=dt(Array.isArray(u)?u:u.toArray()),c=0,f=0;f<s.length;f++)i(s[f],l)===0&&c++;return c}})});var CM="setPowerset",aG=["typed","size","subset","compareNatural","Index"],Uy=N(CM,aG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(CM,{"Array | Matrix":function(s){if(n(t(s),new a(0))===0)return[];for(var c=dt(Array.isArray(s)?s:s.toArray()).sort(i),f=[],m=0;m.toString(2).length<=c.length;)f.push(o(c,m.toString(2).split("").reverse())),m++;return l(f)}});function o(u,s){for(var c=[],f=0;f<s.length;f++)s[f]==="1"&&c.push(u[f]);return c}function l(u){for(var s=[],c=u.length-1;c>0;c--)for(var f=0;f<c;f++)u[f].length>u[f+1].length&&(s=u[f],u[f]=u[f+1],u[f+1]=s);return u}});var FM="setSize",oG=["typed","compareNatural"],zy=N(FM,oG,r=>{var{typed:e,compareNatural:t}=r;return e(FM,{"Array | Matrix":function(i){return Array.isArray(i)?dt(i).length:dt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?dt(i).length:dt(i.toArray()).length;for(var o=dt(Array.isArray(i)?i:i.toArray()).sort(t),l=1,u=1;u<o.length;u++)t(o[u],o[u-1])!==0&&l++;return l}})});var AM="setSymDifference",sG=["typed","size","concat","subset","setDifference","Index"],Wy=N(AM,sG,r=>{var{typed:e,size:t,concat:n,subset:i,setDifference:a,Index:o}=r;return e(AM,{"Array | Matrix, Array | Matrix":function(u,s){if(i(t(u),new o(0))===0)return dt(s);if(i(t(s),new o(0))===0)return dt(u);var c=dt(u),f=dt(s);return n(a(c,f),a(f,c))}})});var SM="setUnion",uG=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],Hy=N(SM,uG,r=>{var{typed:e,size:t,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:l}=r;return e(SM,{"Array | Matrix, Array | Matrix":function(s,c){if(i(t(s),new l(0))===0)return dt(c);if(i(t(c),new l(0))===0)return dt(s);var f=dt(s),m=dt(c);return n(o(f,m),a(f,m))}})});var NM="add",lG=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Gy=N(NM,lG,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:l}=r,u=hn({typed:e}),s=Es({typed:e,equalScalar:i}),c=Ln({typed:e,DenseMatrix:a}),f=lt({typed:e,matrix:t,concat:l});return e(NM,{"any, any":n,"any, any, ...any":e.referToSelf(m=>(p,h,d)=>{for(var g=m(p,h),v=0;v<d.length;v++)g=m(g,d[v]);return g})},f({elop:n,DS:u,SS:s,Ss:c}))});var MM="hypot",cG=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],jy=N(MM,cG,r=>{var{typed:e,abs:t,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:l,isPositive:u}=r;return e(MM,{"... number | BigNumber":s,Array:s,Matrix:c=>s(dt(c.toArray()))});function s(c){for(var f=0,m=0,p=0;p<c.length;p++){if(Sn(c[p]))throw new TypeError("Unexpected type of argument to hypot");var h=t(c[p]);l(m,h)?(f=a(f,a(i(m,h),i(m,h))),f=n(f,1),m=h):f=n(f,u(h)?a(i(h,m),i(h,m)):h)}return a(m,o(f))}});var _M="norm",fG=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Zy=N(_M,fG,r=>{var{typed:e,abs:t,add:n,pow:i,conj:a,sqrt:o,multiply:l,equalScalar:u,larger:s,smaller:c,matrix:f,ctranspose:m,eigs:p}=r;return e(_M,{number:Math.abs,Complex:function(S){return S.abs()},BigNumber:function(S){return S.abs()},boolean:function(S){return Math.abs(S)},Array:function(S){return b(f(S),2)},Matrix:function(S){return b(S,2)},"Array, number | BigNumber | string":function(S,A){return b(f(S),A)},"Matrix, number | BigNumber | string":function(S,A){return b(S,A)}});function h(C){var S=0;return C.forEach(function(A){var F=t(A);s(F,S)&&(S=F)},!0),S}function d(C){var S;return C.forEach(function(A){var F=t(A);(!S||c(F,S))&&(S=F)},!0),S||0}function g(C,S){if(S===Number.POSITIVE_INFINITY||S==="inf")return h(C);if(S===Number.NEGATIVE_INFINITY||S==="-inf")return d(C);if(S==="fro")return b(C,2);if(typeof S=="number"&&!isNaN(S)){if(!u(S,0)){var A=0;return C.forEach(function(F){A=n(i(t(F),S),A)},!0),i(A,1/S)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function v(C){var S=0;return C.forEach(function(A,F){S=n(S,l(A,a(A)))}),t(o(S))}function E(C){var S=[],A=0;return C.forEach(function(F,I){var M=I[1],O=n(S[M]||0,t(F));s(O,A)&&(A=O),S[M]=O},!0),A}function y(C){var S=C.size();if(S[0]!==S[1])throw new RangeError("Invalid matrix dimensions");var A=m(C),F=l(A,C),I=p(F).values.toArray(),M=I[I.length-1];return t(o(M))}function D(C){var S=[],A=0;return C.forEach(function(F,I){var M=I[0],O=n(S[M]||0,t(F));s(O,A)&&(A=O),S[M]=O},!0),A}function x(C,S){if(S===1)return E(C);if(S===Number.POSITIVE_INFINITY||S==="inf")return D(C);if(S==="fro")return v(C);if(S===2)return y(C);throw new Error("Unsupported parameter value "+S)}function b(C,S){var A=C.size();if(A.length===1)return g(C,S);if(A.length===2){if(A[0]&&A[1])return x(C,S);throw new RangeError("Invalid matrix dimensions")}}});var TM="dot",mG=["typed","addScalar","multiplyScalar","conj","size"],Yy=N(TM,mG,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:a}=r;return e(TM,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":u});function o(c,f){var m=s(c),p=s(f),h,d;if(m.length===1)h=m[0];else if(m.length===2&&m[1]===1)h=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(p.length===1)d=p[0];else if(p.length===2&&p[1]===1)d=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function l(c,f){var m=o(c,f),p=He(c)?c._data:c,h=He(c)?c._datatype:void 0,d=He(f)?f._data:f,g=He(f)?f._datatype:void 0,v=s(c).length===2,E=s(f).length===2,y=t,D=n;if(h&&g&&h===g&&typeof h=="string"){var x=h;y=e.find(t,[x,x]),D=e.find(n,[x,x])}if(!v&&!E){for(var b=D(i(p[0]),d[0]),C=1;C<m;C++)b=y(b,D(i(p[C]),d[C]));return b}if(!v&&E){for(var S=D(i(p[0]),d[0][0]),A=1;A<m;A++)S=y(S,D(i(p[A]),d[A][0]));return S}if(v&&!E){for(var F=D(i(p[0][0]),d[0]),I=1;I<m;I++)F=y(F,D(i(p[I][0]),d[I]));return F}if(v&&E){for(var M=D(i(p[0][0]),d[0][0]),O=1;O<m;O++)M=y(M,D(i(p[O][0]),d[O][0]));return M}}function u(c,f){o(c,f);for(var m=c._index,p=c._values,h=f._index,d=f._values,g=0,v=t,E=n,y=0,D=0;y<m.length&&D<h.length;){var x=m[y],b=h[D];if(x<b){y++;continue}if(x>b){D++;continue}x===b&&(g=v(g,E(p[y],d[D])),y++,D++)}return g}function s(c){return He(c)?c.size():a(c)}});var pG="trace",dG=["typed","matrix","add"],Jy=N(pG,dG,r=>{var{typed:e,matrix:t,add:n}=r;return e("trace",{Array:function(l){return i(t(l))},SparseMatrix:a,DenseMatrix:i,any:Xe});function i(o){var l=o._size,u=o._data;switch(l.length){case 1:if(l[0]===1)return Xe(u[0]);throw new RangeError("Matrix must be square (size: "+rt(l)+")");case 2:{var s=l[0],c=l[1];if(s===c){for(var f=0,m=0;m<s;m++)f=n(f,u[m][m]);return f}else throw new RangeError("Matrix must be square (size: "+rt(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+rt(l)+")")}}function a(o){var l=o._values,u=o._index,s=o._ptr,c=o._size,f=c[0],m=c[1];if(f===m){var p=0;if(l.length>0)for(var h=0;h<m;h++)for(var d=s[h],g=s[h+1],v=d;v<g;v++){var E=u[v];if(E===h){p=n(p,l[v]);break}if(E>h)break}return p}throw new RangeError("Matrix must be square (size: "+rt(c)+")")}});var IM="index",hG=["typed","Index"],Xy=N(IM,hG,r=>{var{typed:e,Index:t}=r;return e(IM,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(l){return $e(l)?l.toNumber():Et(l)||He(l)?l.map(function(u){return $e(u)?u.toNumber():u}):l}),o=new t;return t.apply(o,a),o}})});var nm=new Set(["end"]);var gG="Node",vG=["mathWithTransform"],Qy=N(gG,vG,r=>{var{mathWithTransform:e}=r;function t(i){for(var a of[...nm])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},l=null;function u(s){var c=oa(s);return t(c),a(c,o,l)}return{evaluate:u}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!yt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(l,u){l.forEach(function(s,c,f){u(s,c,f),o(s,u)})}o(this,a)}transform(a){function o(l,u,s){var c=a(l,u,s);return c!==l?c:l.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(l,u,s){a(l,u,s)&&o.push(l)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Ai(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this.toHTML(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Qt(r){return r&&r.isIndexError?new sn(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function im(r){var{subset:e}=r;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ar(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Qt(a)}}}var am="AccessorNode",yG=["subset","Node"],Ky=N(am,yG,r=>{var{subset:e,Node:t}=r,n=im({subset:e});function i(o){return!(jn(o)||an(o)||vt(o)||Mn(o)||Oa(o)||on(o)||Zt(o))}class a extends t{constructor(l,u){if(super(),!yt(l))throw new TypeError('Node expected for parameter "object"');if(!oi(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=l,this.index=u}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return am}get isAccessorNode(){return!0}_compile(l,u){var s=this.object._compile(l,u),c=this.index._compile(l,u);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(p,h,d){return ar(s(p,h,d),f)}}else return function(p,h,d){var g=s(p,h,d),v=c(p,h,g);return n(g,v)}}forEach(l){l(this.object,"object",this),l(this.index,"index",this)}map(l){return new a(this._ifNode(l(this.object,"object",this)),this._ifNode(l(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(l){var u=this.object.toString(l);return i(this.object)&&(u="("+u+")"),u+this.index.toString(l)}toHTML(l){var u=this.object.toHTML(l);return i(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(l)}_toTex(l){var u=this.object.toTex(l);return i(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(l)}toJSON(){return{mathjs:am,object:this.object,index:this.index}}static fromJSON(l){return new a(l.object,l.index)}}return Mt(a,"name",am),a},{isClass:!0,isNode:!0});var om="ArrayNode",xG=["Node"],$y=N(om,xG,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(yt))throw new TypeError("Array containing Nodes expected")}get type(){return om}get isArrayNode(){return!0}_compile(i,a){var o=Rn(this.items,function(s){return s._compile(i,a)}),l=i.config.matrix!=="Array";if(l){var u=i.matrix;return function(c,f,m){return u(Rn(o,function(p){return p(c,f,m)}))}}else return function(c,f,m){return Rn(o,function(p){return p(c,f,m)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:om,items:this.items}}static fromJSON(i){return new t(i.items)}toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,l){var u=o.some(an)&&!o.every(an),s=l||u,c=s?"&":"\\\\",f=o.map(function(m){return m.items?a(m.items,!l):m.toTex(i)}).join(c);return u||!s||s&&!l?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return Mt(t,"name",om),t},{isClass:!0,isNode:!0});function BM(r){var{subset:e,matrix:t}=r;return function(i,a,o){try{if(Array.isArray(i)){var l=t(i).subset(a,o).valueOf();return l.forEach((u,s)=>{i[s]=u}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Wi(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(u){throw Qt(u)}}}var mi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function sm(r,e){if(!e||e!=="auto")return r;for(var t=r;on(t);)t=t.content;return t}function Ot(r,e,t,n){var i=r;e!=="keep"&&(i=r.getContent());for(var a=i.getIdentifier(),o=null,l=0;l<mi.length;l++)if(a in mi[l]){o=l;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var u=sm(i.args[0],e);!(vt(u)&&n&&n.getIdentifier()==="OperatorNode:divide"&&Tu(sm(n.args[0],e)))&&!(u.getIdentifier()==="OperatorNode:divide"&&Tu(sm(u.args[0],e))&&vt(sm(u.args[1])))&&(o+=1)}return o}function _s(r,e){var t=r;e!=="keep"&&(t=r.getContent());var n=t.getIdentifier(),i=Ot(t,e);if(i===null)return null;var a=mi[i][n];if(Ge(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function um(r,e,t){var n=t!=="keep"?r.getContent():r,i=t!=="keep"?r.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),l=Ot(n,t);if(l===null)return null;var u=mi[l][a];if(Ge(u,"associativeWith")&&u.associativeWith instanceof Array){for(var s=0;s<u.associativeWith.length;s++)if(u.associativeWith[s]===o)return!0;return!1}return null}function OM(r){var e="OperatorNode:"+r;for(var t of mi)if(e in t)return t[e].op;return null}var lm="AssignmentNode",bG=["subset","?matrix","Node"],e1=N(lm,bG,r=>{var{subset:e,matrix:t,Node:n}=r,i=im({subset:e}),a=BM({subset:e,matrix:t});function o(u,s,c){s||(s="keep");var f=Ot(u,s,c),m=Ot(u.value,s,c);return s==="all"||m!==null&&m<=f}class l extends n{constructor(s,c,f){if(super(),this.object=s,this.index=f?c:null,this.value=f||c,!Zt(s)&&!jn(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Zt(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!oi(this.index))throw new TypeError('IndexNode expected as "index"');if(!yt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return lm}get isAssignmentNode(){return!0}_compile(s,c){var f=this.object._compile(s,c),m=this.index?this.index._compile(s,c):null,p=this.value._compile(s,c),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(D,x,b){var C=f(D,x,b),S=p(D,x,b);return Wi(C,d,S),S}}else{if(Zt(this.object))return function(D,x,b){var C=f(D,x,b),S=p(D,x,b),A=m(D,x,C);return D.set(h,a(C,A,S)),S};var g=this.object.object._compile(s,c);if(this.object.index.isObjectProperty()){var v=this.object.index.getObjectProperty();return function(D,x,b){var C=g(D,x,b),S=ar(C,v),A=m(D,x,S),F=p(D,x,b);return Wi(C,v,a(S,A,F)),F}}else{var E=this.object.index._compile(s,c);return function(D,x,b){var C=g(D,x,b),S=E(D,x,C),A=i(C,S),F=m(D,x,A),I=p(D,x,b);return a(C,S,a(A,F,I)),I}}}else{if(!Zt(this.object))throw new TypeError("SymbolNode expected as object");return function(D,x,b){var C=p(D,x,b);return D.set(h,C),C}}}forEach(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)}map(s){var c=this._ifNode(s(this.object,"object",this)),f=this.index?this._ifNode(s(this.index,"index",this)):null,m=this._ifNode(s(this.value,"value",this));return new l(c,f,m)}clone(){return new l(this.object,this.index,this.value)}_toString(s){var c=this.object.toString(s),f=this.index?this.index.toString(s):"",m=this.value.toString(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m="("+m+")"),c+f+" = "+m}toJSON(){return{mathjs:lm,object:this.object,index:this.index,value:this.value}}static fromJSON(s){return new l(s.object,s.index,s.value)}toHTML(s){var c=this.object.toHTML(s),f=this.index?this.index.toHTML(s):"",m=this.value.toHTML(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m='<span class="math-paranthesis math-round-parenthesis">(</span>'+m+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+m}_toTex(s){var c=this.object.toTex(s),f=this.index?this.index.toTex(s):"",m=this.value.toTex(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m="\\left(".concat(m,"\\right)")),c+f+":="+m}}return Mt(l,"name",lm),l},{isClass:!0,isNode:!0});var cm="BlockNode",DG=["ResultSet","Node"],t1=N(cm,DG,r=>{var{ResultSet:e,Node:t}=r;class n extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var l=o&&o.node,u=o&&o.visible!==void 0?o.visible:!0;if(!yt(l))throw new TypeError('Property "node" must be a Node');if(typeof u!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:l,visible:u}})}get type(){return cm}get isBlockNode(){return!0}_compile(a,o){var l=Rn(this.blocks,function(u){return{evaluate:u.node._compile(a,o),visible:u.visible}});return function(s,c,f){var m=[];return Ra(l,function(h){var d=h.evaluate(s,c,f);h.visible&&m.push(d)}),new e(m)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],l=0;l<this.blocks.length;l++){var u=this.blocks[l],s=this._ifNode(a(u.node,"blocks["+l+"].node",this));o[l]={node:s,visible:u.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:cm,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return Mt(n,"name",cm),n},{isClass:!0,isNode:!0});var fm="ConditionalNode",wG=["Node"],r1=N(fm,wG,r=>{var{Node:e}=r;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if($e(i))return!i.isZero();if(Sn(i))return!!(i.re||i.im);if(nn(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+wt(i)+'"')}class n extends e{constructor(a,o,l){if(super(),!yt(a))throw new TypeError("Parameter condition must be a Node");if(!yt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!yt(l))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=l}get type(){return fm}get isConditionalNode(){return!0}_compile(a,o){var l=this.condition._compile(a,o),u=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(f,m,p){return t(l(f,m,p))?u(f,m,p):s(f,m,p)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ot(this,o,a&&a.implicit),u=this.condition.toString(a),s=Ot(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=l)&&(u="("+u+")");var c=this.trueExpr.toString(a),f=Ot(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c="("+c+")");var m=this.falseExpr.toString(a),p=Ot(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=l)&&(m="("+m+")"),u+" ? "+c+" : "+m}toJSON(){return{mathjs:fm,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ot(this,o,a&&a.implicit),u=this.condition.toHTML(a),s=Ot(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=l)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=Ot(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var m=this.falseExpr.toHTML(a),p=Ot(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=l)&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+m}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Mt(n,"name",fm),n},{isClass:!0,isNode:!0});var LM=wr(kM(),1);var i1={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},_t={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},a1={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(_t.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(_t.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(_t.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(_t.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(_t.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(_t.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(_t.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(_t.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(_t.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(_t.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(_t.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(_t.bitAnd,"${args[1]}\\right)")},bitNot:{1:_t.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(_t.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(_t.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(_t.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(_t.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(_t.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(_t.and,"${args[1]}\\right)")},not:{1:_t.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(_t.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(_t.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(_t.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(_t.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(_t.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(_t.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(_t.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(_t.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(_t.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(_t.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(_t.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(_t.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(_t.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(i1.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},qM="\\mathrm{${name}}\\left(${args}\\right)",PM={deg:"^\\circ"};function mm(r){return(0,LM.default)(r,{preserveFormatting:!0})}function pm(r,e){return e=typeof e=="undefined"?!1:e,e?Ge(PM,r)?PM[r]:"\\mathrm{"+mm(r)+"}":Ge(i1,r)?i1[r]:mm(r)}var dm="ConstantNode",AG=["Node"],o1=N(dm,AG,r=>{var{Node:e}=r;class t extends e{constructor(i){super(),this.value=i}get type(){return dm}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return rt(this.value,i)}toHTML(i){var a=this._toString(i);switch(wt(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:dm,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i);switch(wt(this.value)){case"string":return"\\mathtt{"+mm(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return Mt(t,"name",dm),t},{isClass:!0,isNode:!0});var hm="FunctionAssignmentNode",SG=["typed","Node"],s1=N(hm,SG,r=>{var{typed:e,Node:t}=r;function n(a,o,l){var u=Ot(a,o,l),s=Ot(a.expr,o,l);return o==="all"||s!==null&&s<=u}class i extends t{constructor(o,l,u){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(l))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!yt(u))throw new TypeError('Node expected for parameter "expr"');if(nm.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var s=new Set;for(var c of l){var f=typeof c=="string"?c:c.name;if(s.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));s.add(f)}this.name=o,this.params=l.map(function(m){return m&&m.name||m}),this.types=l.map(function(m){return m&&m.type||"any"}),this.expr=u}get type(){return hm}get isFunctionAssignmentNode(){return!0}_compile(o,l){var u=Object.create(l);Ra(this.params,function(h){u[h]=!0});var s=this.expr._compile(o,u),c=this.name,f=this.params,m=hh(this.types,","),p=c+"("+hh(this.params,", ")+")";return function(d,g,v){var E={};E[m]=function(){for(var D=Object.create(g),x=0;x<f.length;x++)D[f[x]]=arguments[x];return s(d,D,v)};var y=e(c,E);return y.syntax=p,d.set(c,y),y}}forEach(o){o(this.expr,"expr",this)}map(o){var l=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),l)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toString(o);return n(this,l,o&&o.implicit)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u}toJSON(){var o=this.types;return{mathjs:hm,name:this.name,params:this.params.map(function(l,u){return{name:l,type:o[u]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}toHTML(o){for(var l=o&&o.parenthesis?o.parenthesis:"keep",u=[],s=0;s<this.params.length;s++)u.push('<span class="math-symbol math-parameter">'+Vr(this.params[s])+"</span>");var c=this.expr.toHTML(o);return n(this,l,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Vr(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toTex(o);return n(this,l,o&&o.implicit)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(pm).join(",")+"\\right):="+u}}return Mt(i,"name",hm),i},{isClass:!0,isNode:!0});var gm="IndexNode",NG=["Node","size"],u1=N(gm,NG,r=>{var{Node:e,size:t}=r;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(yt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return gm}get isIndexNode(){return!0}_compile(a,o){var l=Rn(this.dimensions,function(s,c){var f=s.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var m=Object.create(o);m.end=!0;var p=s._compile(a,m);return function(d,g,v){if(!He(v)&&!Et(v)&&!gr(v))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+wt(v));var E=t(v).valueOf(),y=Object.create(g);return y.end=E[c],p(d,y,v)}}else return s._compile(a,o)}),u=ar(a,"index");return function(c,f,m){var p=Rn(l,function(h){return h(c,f,m)});return u(...p)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this._ifNode(a(this.dimensions[l],"dimensions["+l+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&vt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:gm,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}toHTML(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this.dimensions[l].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Vr(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(l){return l.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Mt(n,"name",gm),n},{isClass:!0,isNode:!0});var vm="ObjectNode",MG=["Node"],l1=N(vm,MG,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return yt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return vm}get isObjectNode(){return!0}_compile(i,a){var o={};for(var l in this.properties)if(Ge(this.properties,l)){var u=Iu(l),s=JSON.parse(u),c=ar(this.properties,l);o[s]=c._compile(i,a)}return function(m,p,h){var d={};for(var g in o)Ge(o,g)&&(d[g]=o[g](m,p,h));return d}}forEach(i){for(var a in this.properties)Ge(this.properties,a)&&i(this.properties[a],"properties["+Iu(a)+"]",this)}map(i){var a={};for(var o in this.properties)Ge(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+Iu(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)Ge(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)Ge(this.properties,o)&&a.push(Iu(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:vm,properties:this.properties}}static fromJSON(i){return new t(i.properties)}toHTML(i){var a=[];for(var o in this.properties)Ge(this.properties,o)&&a.push('<span class="math-symbol math-property">'+Vr(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)Ge(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var l="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return l}}return Mt(t,"name",vm),t},{isClass:!0,isNode:!0});var ym="OperatorNode",_G=["Node"],c1=N(ym,_G,r=>{var{Node:e}=r;function t(a,o){var l=a;if(o==="auto")for(;on(l);)l=l.content;return vt(l)?!0:er(l)?t(l.args[0],o):!1}function n(a,o,l,u,s){var c=Ot(a,o,l),f=_s(a,o);if(o==="all"||u.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return u.map(function(F){switch(F.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var m;switch(u.length){case 0:m=[];break;case 1:{var p=Ot(u[0],o,l,a);if(s&&p!==null){var h,d;if(o==="keep"?(h=u[0].getIdentifier(),d=a.getIdentifier()):(h=u[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),mi[c][d].latexLeftParens===!1){m=[!1];break}if(mi[p][h].latexParens===!1){m=[!1];break}}if(p===null){m=[!1];break}if(p<=c){m=[!0];break}m=[!1]}break;case 2:{var g,v=Ot(u[0],o,l,a),E=um(a,u[0],o);v===null?g=!1:v===c&&f==="right"&&!E||v<c?g=!0:g=!1;var y,D=Ot(u[1],o,l,a),x=um(a,u[1],o);if(D===null?y=!1:D===c&&f==="left"&&!x||D<c?y=!0:y=!1,s){var b,C,S;o==="keep"?(b=a.getIdentifier(),C=a.args[0].getIdentifier(),S=a.args[1].getIdentifier()):(b=a.getContent().getIdentifier(),C=a.args[0].getContent().getIdentifier(),S=a.args[1].getContent().getIdentifier()),v!==null&&(mi[c][b].latexLeftParens===!1&&(g=!1),mi[v][C].latexParens===!1&&(g=!1)),D!==null&&(mi[c][b].latexRightParens===!1&&(y=!1),mi[D][S].latexParens===!1&&(y=!1))}m=[g,y]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(m=u.map(function(F){var I=Ot(F,o,l,a),M=um(a,F,o),O=_s(F,o);return I===null?!1:c===I&&f===O&&!M?!0:I<c}));break}if(u.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&l==="hide")for(var A=1;A<m.length;++A)t(u[A],o)&&!m[A-1]&&(o!=="keep"||!on(u[A-1]))&&(m[A]=!0);return m}class i extends e{constructor(o,l,u,s,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof l!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(yt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=s===!0,this.isPercentage=c===!0,this.op=o,this.fn=l,this.args=u||[]}get type(){return ym}get isOperatorNode(){return!0}_compile(o,l){if(typeof this.fn!="string"||!Nf(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=ar(o,this.fn),s=Rn(this.args,function(p){return p._compile(o,l)});if(s.length===1){var c=s[0];return function(h,d,g){return u(c(h,d,g))}}else if(s.length===2){var f=s[0],m=s[1];return function(h,d,g){return u(f(h,d,g),m(h,d,g))}}else return function(h,d,g){return u.apply(null,Rn(s,function(v){return v(h,d,g)}))}}forEach(o){for(var l=0;l<this.args.length;l++)o(this.args[l],"args["+l+"]",this)}map(o){for(var l=[],u=0;u<this.args.length;u++)l[u]=this._ifNode(o(this.args[u],"args["+u+"]",this));return new i(this.op,this.fn,l,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!1);if(s.length===1){var f=_s(this,l),m=s[0].toString(o);c[0]&&(m="("+m+")");var p=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(p?" ":"")+m:f==="left"?m+(p?" ":"")+this.op:m+this.op}else if(s.length===2){var h=s[0].toString(o),d=s[1].toString(o);return c[0]&&(h="("+h+")"),c[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=s.map(function(v,E){return v=v.toString(o),c[E]&&(v="("+v+")"),v});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:ym,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}toHTML(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!1);if(s.length===1){var f=_s(this,l),m=s[0].toHTML(o);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Vr(this.op)+"</span>"+m:m+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Vr(this.op)+"</span>"}else if(s.length===2){var p=s[0].toHTML(o),h=s[1].toHTML(o);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(this.op)+"</span>"+h}else{var d=s.map(function(g,v){return g=g.toHTML(o),c[v]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(this.op)+"</span>"):'<span class="math-function">'+Vr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!0),f=_t[this.fn];if(f=typeof f=="undefined"?this.op:f,s.length===1){var m=_s(this,l),p=s[0].toTex(o);return c[0]&&(p="\\left(".concat(p,"\\right)")),m==="right"?f+p:p+f}else if(s.length===2){var h=s[0],d=h.toTex(o);c[0]&&(d="\\left(".concat(d,"\\right)"));var g=s[1],v=g.toTex(o);c[1]&&(v="\\left(".concat(v,"\\right)"));var E;switch(l==="keep"?E=h.getIdentifier():E=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+v+"}";case"OperatorNode:pow":switch(d="{"+d+"}",v="{"+v+"}",E){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&u==="hide")return d+"~"+v}return d+f+v}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=s.map(function(D,x){return D=D.toTex(o),c[x]&&(D="\\left(".concat(D,"\\right)")),D});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&u==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+s.map(function(D){return D.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Mt(i,"name",ym),i},{isClass:!0,isNode:!0});var xm="ParenthesisNode",TG=["Node"],f1=N(xm,TG,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),!yt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return xm}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:xm,content:this.content}}static fromJSON(i){return new t(i.content)}toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Mt(t,"name",xm),t},{isClass:!0,isNode:!0});var bm="RangeNode",IG=["Node"],m1=N(bm,IG,r=>{var{Node:e}=r;function t(i,a,o){var l=Ot(i,a,o),u={},s=Ot(i.start,a,o);if(u.start=s!==null&&s<=l||a==="all",i.step){var c=Ot(i.step,a,o);u.step=c!==null&&c<=l||a==="all"}var f=Ot(i.end,a,o);return u.end=f!==null&&f<=l||a==="all",u}class n extends e{constructor(a,o,l){if(super(),!yt(a))throw new TypeError("Node expected");if(!yt(o))throw new TypeError("Node expected");if(l&&!yt(l))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=l||null}get type(){return bm}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return Zt(o)&&o.name==="end"});return a.length>0}_compile(a,o){var l=a.range,u=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(m,p,h){return l(u(m,p,h),s(m,p,h),c(m,p,h))}}else return function(m,p,h){return l(u(m,p,h),s(m,p,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),u,s=this.start.toString(a);if(l.start&&(s="("+s+")"),u=s,this.step){var c=this.step.toString(a);l.step&&(c="("+c+")"),u+=":"+c}var f=this.end.toString(a);return l.end&&(f="("+f+")"),u+=":"+f,u}toJSON(){return{mathjs:bm,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),u,s=this.start.toHTML(a);if(l.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=s,this.step){var c=this.step.toHTML(a);l.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return l.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+f,u}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),u=this.start.toTex(a);if(l.start&&(u="\\left(".concat(u,"\\right)")),this.step){var s=this.step.toTex(a);l.step&&(s="\\left(".concat(s,"\\right)")),u+=":"+s}var c=this.end.toTex(a);return l.end&&(c="\\left(".concat(c,"\\right)")),u+=":"+c,u}}return Mt(n,"name",bm),n},{isClass:!0,isNode:!0});var Dm="RelationalNode",BG=["Node"],p1=N(Dm,BG,r=>{var{Node:e}=r,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return Dm}get isRelationalNode(){return!0}_compile(a,o){var l=this,u=this.params.map(s=>s._compile(a,o));return function(c,f,m){for(var p,h=u[0](c,f,m),d=0;d<l.conditionals.length;d++){p=h,h=u[d+1](c,f,m);var g=ar(a,l.conditionals[d]);if(!g(p,h))return!1}return!0}}forEach(a){this.params.forEach((o,l)=>a(o,"params["+l+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,l)=>this._ifNode(a(o,"params["+l+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ot(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=Ot(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=l?"("+f.toString(a)+")":f.toString(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+=" "+t[this.conditionals[c]],s+=" "+u[c+1];return s}toJSON(){return{mathjs:Dm,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ot(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=Ot(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=l?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(t[this.conditionals[c]])+"</span>"+u[c+1];return s}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ot(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=Ot(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=l?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+=_t[this.conditionals[c]]+u[c+1];return s}}return Mt(n,"name",Dm),n},{isClass:!0,isNode:!0});var OG="SymbolNode",RG=["math","?Unit","Node"],d1=N(OG,RG,r=>{var{math:e,Unit:t,Node:n}=r;function i(o){return t?t.isValuelessUnit(o):!1}class a extends n{constructor(l){if(super(),typeof l!="string")throw new TypeError('String expected for parameter "name"');this.name=l}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(l,u){var s=this.name;if(u[s]===!0)return function(f,m,p){return ar(m,s)};if(s in l)return function(f,m,p){return f.has(s)?f.get(s):ar(l,s)};var c=i(s);return function(f,m,p){return f.has(s)?f.get(s):c?new t(null,s):a.onUndefinedSymbol(s)}}forEach(l){}map(l){return this.clone()}static onUndefinedSymbol(l){throw new Error("Undefined symbol "+l)}clone(){return new a(this.name)}_toString(l){return this.name}toHTML(l){var u=Vr(this.name);return u==="true"||u==="false"?'<span class="math-symbol math-boolean">'+u+"</span>":u==="i"?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":u==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":u==="NaN"?'<span class="math-symbol math-nan-symbol">'+u+"</span>":u==="null"?'<span class="math-symbol math-null-symbol">'+u+"</span>":u==="undefined"?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(l){return new a(l.name)}_toTex(l){var u=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(u=!0);var s=pm(this.name,u);return s[0]==="\\"?s:" "+s}}return a},{isClass:!0,isNode:!0});function Co(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return typeof r.createSubScope=="function"?yh(r.createSubScope(),...t):yh(Hi(),r,...t)}var wm="FunctionNode",kG=["math","Node","SymbolNode"],h1=N(wm,kG,r=>{var e,{math:t,Node:n,SymbolNode:i}=r,a=u=>rt(u,{truncate:78});function o(u,s,c){for(var f="",m=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0,h;(h=m.exec(u))!==null;)if(f+=u.substring(p,h.index),p=h.index,h[0]==="$$")f+="$",p++;else{p+=h[0].length;var d=s[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(yt(d))f+=d.toTex(c);else if(Array.isArray(d))f+=d.map(function(g,v){if(yt(g))return g.toTex(c);throw new TypeError("Template: "+h[1]+"["+v+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(yt(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(c);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=u.slice(p),f}class l extends n{constructor(s,c){if(super(),typeof s=="string"&&(s=new i(s)),!yt(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(yt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=c||[]}get name(){return this.fn.name||""}get type(){return wm}get isFunctionNode(){return!0}_compile(s,c){var f=this.args.map(S=>S._compile(s,c));if(Zt(this.fn)){var m=this.fn.name;if(c[m]){var v=this.args;return function(A,F,I){var M=ar(F,m);if(typeof M!="function")throw new TypeError("Argument '".concat(m,"' was not a function; received: ").concat(a(M)));if(M.rawArgs)return M(v,s,Co(A,F),A);var O=f.map(P=>P(A,F,I));return M.apply(M,O)}}else{var p=m in s?ar(s,m):void 0,h=typeof p=="function"&&p.rawArgs===!0,d=S=>{var A;if(S.has(m))A=S.get(m);else if(m in s)A=ar(s,m);else return l.onUndefinedFunction(m);if(typeof A=="function")return A;throw new TypeError("'".concat(m,`' is not a function; its value is:
  `).concat(a(A)))};if(h){var g=this.args;return function(A,F,I){var M=d(A);return M(g,s,Co(A,F),A)}}else switch(f.length){case 0:return function(A,F,I){var M=d(A);return M()};case 1:return function(A,F,I){var M=d(A),O=f[0];return M(O(A,F,I))};case 2:return function(A,F,I){var M=d(A),O=f[0],P=f[1];return M(O(A,F,I),P(A,F,I))};default:return function(A,F,I){var M=d(A),O=f.map(P=>P(A,F,I));return M(...O)}}}}else if(jn(this.fn)&&oi(this.fn.index)&&this.fn.index.isObjectProperty()){var E=this.fn.object._compile(s,c),y=this.fn.index.getObjectProperty(),D=this.args;return function(A,F,I){var M=E(A,F,I),O=K2(M,y);if(O!=null&&O.rawArgs)return O(D,s,Co(A,F),A);var P=f.map(k=>k(A,F,I));return O.apply(M,P)}}else{var x=this.fn.toString(),b=this.fn._compile(s,c),C=this.args;return function(A,F,I){var M=b(A,F,I);if(typeof M!="function")throw new TypeError("Expression '".concat(x,"' did not evaluate to a function; value is:")+`
  `.concat(a(M)));if(M.rawArgs)return M(C,s,Co(A,F),A);var O=f.map(P=>P(A,F,I));return M.apply(M,O)}}}forEach(s){s(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)s(this.args[c],"args["+c+"]",this)}map(s){for(var c=this._ifNode(s(this.fn,"fn",this)),f=[],m=0;m<this.args.length;m++)f[m]=this._ifNode(s(this.args[m],"args["+m+"]",this));return new l(c,f)}clone(){return new l(this.fn,this.args.slice(0))}toString(s){var c,f=this.fn.toString(s);return s&&typeof s.handler=="object"&&Ge(s.handler,f)&&(c=s.handler[f](this,s)),typeof c!="undefined"?c:super.toString(s)}_toString(s){var c=this.args.map(function(m){return m.toString(s)}),f=zi(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:wm,fn:this.fn,args:this.args}}toHTML(s){var c=this.args.map(function(f){return f.toHTML(s)});return'<span class="math-function">'+Vr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(s){var c;return s&&typeof s.handler=="object"&&Ge(s.handler,this.name)&&(c=s.handler[this.name](this,s)),typeof c!="undefined"?c:super.toTex(s)}_toTex(s){var c=this.args.map(function(p){return p.toTex(s)}),f;a1[this.name]&&(f=a1[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(f=t[this.name].toTex);var m;switch(typeof f){case"function":m=f(this,s);break;case"string":m=o(f,this,s);break;case"object":switch(typeof f[c.length]){case"function":m=f[c.length](this,s);break;case"string":m=o(f[c.length],this,s);break}}return typeof m!="undefined"?m:o(qM,this,s)}getIdentifier(){return this.type+":"+this.name}}return e=l,Mt(l,"name",wm),Mt(l,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),Mt(l,"fromJSON",function(u){return new e(u.fn,u.args)}),l},{isClass:!0,isNode:!0});var VM="parse",PG=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],g1=N(VM,PG,r=>{var{typed:e,numeric:t,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:l,ConditionalNode:u,ConstantNode:s,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:m,ObjectNode:p,OperatorNode:h,ParenthesisNode:d,RangeNode:g,RelationalNode:v,SymbolNode:E}=r,y=e(VM,{string:function(R){return U(R,{})},"Array | Matrix":function(R){return D(R,{})},"string, Object":function(R,q){var K=q.nodes!==void 0?q.nodes:{};return U(R,K)},"Array | Matrix, Object":D});function D(w){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=R.nodes!==void 0?R.nodes:{};return je(w,function(K){if(typeof K!="string")throw new TypeError("String expected");return U(K,q)})}var x={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},S={true:!0,false:!1,null:null,undefined:void 0},A=["NaN","Infinity"];function F(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:x.NULL,nestingLevel:0,conditionalLevel:null}}function I(w,R){return w.expression.substr(w.index,R)}function M(w){return I(w,1)}function O(w){w.index++}function P(w){return w.expression.charAt(w.index-1)}function k(w){return w.expression.charAt(w.index+1)}function _(w){for(w.tokenType=x.NULL,w.token="",w.comment="";;){if(M(w)==="#")for(;M(w)!==`
`&&M(w)!=="";)w.comment+=M(w),O(w);if(y.isWhitespace(M(w),w.nestingLevel))O(w);else break}if(M(w)===""){w.tokenType=x.DELIMITER;return}if(M(w)===`
`&&!w.nestingLevel){w.tokenType=x.DELIMITER,w.token=M(w),O(w);return}var R=M(w),q=I(w,2),K=I(w,3);if(K.length===3&&b[K]){w.tokenType=x.DELIMITER,w.token=K,O(w),O(w),O(w);return}if(q.length===2&&b[q]){w.tokenType=x.DELIMITER,w.token=q,O(w),O(w);return}if(b[R]){w.tokenType=x.DELIMITER,w.token=R,O(w);return}if(y.isDigitDot(R)){w.tokenType=x.NUMBER;var pe=I(w,2);if(pe==="0b"||pe==="0o"||pe==="0x"){for(w.token+=M(w),O(w),w.token+=M(w),O(w);y.isHexDigit(M(w));)w.token+=M(w),O(w);if(M(w)===".")for(w.token+=".",O(w);y.isHexDigit(M(w));)w.token+=M(w),O(w);else if(M(w)==="i")for(w.token+="i",O(w);y.isDigit(M(w));)w.token+=M(w),O(w);return}if(M(w)==="."){if(w.token+=M(w),O(w),!y.isDigit(M(w))){w.tokenType=x.DELIMITER;return}}else{for(;y.isDigit(M(w));)w.token+=M(w),O(w);y.isDecimalMark(M(w),k(w))&&(w.token+=M(w),O(w))}for(;y.isDigit(M(w));)w.token+=M(w),O(w);if(M(w)==="E"||M(w)==="e"){if(y.isDigit(k(w))||k(w)==="-"||k(w)==="+"){if(w.token+=M(w),O(w),(M(w)==="+"||M(w)==="-")&&(w.token+=M(w),O(w)),!y.isDigit(M(w)))throw we(w,'Digit expected, got "'+M(w)+'"');for(;y.isDigit(M(w));)w.token+=M(w),O(w);if(y.isDecimalMark(M(w),k(w)))throw we(w,'Digit expected, got "'+M(w)+'"')}else if(k(w)===".")throw O(w),we(w,'Digit expected, got "'+M(w)+'"')}return}if(y.isAlpha(M(w),P(w),k(w))){for(;y.isAlpha(M(w),P(w),k(w))||y.isDigit(M(w));)w.token+=M(w),O(w);Ge(C,w.token)?w.tokenType=x.DELIMITER:w.tokenType=x.SYMBOL;return}for(w.tokenType=x.UNKNOWN;M(w)!=="";)w.token+=M(w),O(w);throw we(w,'Syntax error in part "'+w.token+'"')}function T(w){do _(w);while(w.token===`
`)}function z(w){w.nestingLevel++}function B(w){w.nestingLevel--}y.isAlpha=function(R,q,K){return y.isValidLatinOrGreek(R)||y.isValidMathSymbol(R,K)||y.isValidMathSymbol(q,R)},y.isValidLatinOrGreek=function(R){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(R)},y.isValidMathSymbol=function(R,q){return/^[\uD835]$/.test(R)&&/^[\uDC00-\uDFFF]$/.test(q)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(q)},y.isWhitespace=function(R,q){return R===" "||R==="	"||R===`
`&&q>0},y.isDecimalMark=function(R,q){return R==="."&&q!=="/"&&q!=="*"&&q!=="^"},y.isDigitDot=function(R){return R>="0"&&R<="9"||R==="."},y.isDigit=function(R){return R>="0"&&R<="9"},y.isHexDigit=function(R){return R>="0"&&R<="9"||R>="a"&&R<="f"||R>="A"&&R<="F"};function U(w,R){var q=F();ur(q,{expression:w,extraNodes:R}),_(q);var K=Y(q);if(q.token!=="")throw q.tokenType===x.DELIMITER?ze(q,"Unexpected operator "+q.token):we(q,'Unexpected part "'+q.token+'"');return K}function Y(w){var R,q=[],K;for(w.token!==""&&w.token!==`
`&&w.token!==";"&&(R=J(w),w.comment&&(R.comment=w.comment));w.token===`
`||w.token===";";)q.length===0&&R&&(K=w.token!==";",q.push({node:R,visible:K})),_(w),w.token!==`
`&&w.token!==";"&&w.token!==""&&(R=J(w),w.comment&&(R.comment=w.comment),K=w.token!==";",q.push({node:R,visible:K}));return q.length>0?new l(q):(R||(R=new s(void 0),w.comment&&(R.comment=w.comment)),R)}function J(w){var R,q,K,pe,he=L(w);if(w.token==="="){if(Zt(he))return R=he.name,T(w),K=J(w),new o(new E(R),K);if(jn(he))return T(w),K=J(w),new o(he.object,he.index,K);if(Mn(he)&&Zt(he.fn)&&(pe=!0,q=[],R=he.name,he.args.forEach(function(Ae,nt){Zt(Ae)?q[nt]=Ae.name:pe=!1}),pe))return T(w),K=J(w),new c(R,q,K);throw we(w,"Invalid left hand side of assignment operator =")}return he}function L(w){for(var R=X(w);w.token==="?";){var q=w.conditionalLevel;w.conditionalLevel=w.nestingLevel,T(w);var K=R,pe=J(w);if(w.token!==":")throw we(w,"False part of conditional expression expected");w.conditionalLevel=null,T(w);var he=J(w);R=new u(K,pe,he),w.conditionalLevel=q}return R}function X(w){for(var R=se(w);w.token==="or";)T(w),R=new h("or","or",[R,se(w)]);return R}function se(w){for(var R=te(w);w.token==="xor";)T(w),R=new h("xor","xor",[R,te(w)]);return R}function te(w){for(var R=me(w);w.token==="and";)T(w),R=new h("and","and",[R,me(w)]);return R}function me(w){for(var R=de(w);w.token==="|";)T(w),R=new h("|","bitOr",[R,de(w)]);return R}function de(w){for(var R=fe(w);w.token==="^|";)T(w),R=new h("^|","bitXor",[R,fe(w)]);return R}function fe(w){for(var R=ue(w);w.token==="&";)T(w),R=new h("&","bitAnd",[R,ue(w)]);return R}function ue(w){for(var R=[xe(w)],q=[],K={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ge(K,w.token);){var pe={name:w.token,fn:K[w.token]};q.push(pe),T(w),R.push(xe(w))}return R.length===1?R[0]:R.length===2?new h(q[0].name,q[0].fn,R):new v(q.map(he=>he.fn),R)}function xe(w){var R,q,K,pe;R=We(w);for(var he={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ge(he,w.token);)q=w.token,K=he[q],T(w),pe=[R,We(w)],R=new h(q,K,pe);return R}function We(w){var R,q,K,pe;R=Ne(w);for(var he={to:"to",in:"to"};Ge(he,w.token);)q=w.token,K=he[q],T(w),q==="in"&&w.token===""?R=new h("*","multiply",[R,new E("in")],!0):(pe=[R,Ne(w)],R=new h(q,K,pe));return R}function Ne(w){var R,q=[];if(w.token===":"?R=new s(1):R=Ve(w),w.token===":"&&w.conditionalLevel!==w.nestingLevel){for(q.push(R);w.token===":"&&q.length<3;)T(w),w.token===")"||w.token==="]"||w.token===","||w.token===""?q.push(new E("end")):q.push(Ve(w));q.length===3?R=new g(q[0],q[2],q[1]):R=new g(q[0],q[1])}return R}function Ve(w){var R,q,K,pe;R=W(w);for(var he={"+":"add","-":"subtract"};Ge(he,w.token);){q=w.token,K=he[q],T(w);var Ae=W(w);Ae.isPercentage?pe=[R,new h("*","multiply",[R,Ae])]:pe=[R,Ae],R=new h(q,K,pe)}return R}function W(w){var R,q,K,pe;R=j(w),q=R;for(var he={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};Ge(he,w.token);)K=w.token,pe=he[K],T(w),q=j(w),R=new h(K,pe,[R,q]);return R}function j(w){var R,q;for(R=le(w),q=R;w.tokenType===x.SYMBOL||w.token==="in"&&vt(R)||w.tokenType===x.NUMBER&&!vt(q)&&(!er(q)||q.op==="!")||w.token==="(";)q=le(w),R=new h("*","multiply",[R,q],!0);return R}function le(w){for(var R=H(w),q=R,K=[];w.token==="/"&&Tu(q);)if(K.push(ur({},w)),T(w),w.tokenType===x.NUMBER)if(K.push(ur({},w)),T(w),w.tokenType===x.SYMBOL||w.token==="(")ur(w,K.pop()),K.pop(),q=H(w),R=new h("/","divide",[R,q]);else{K.pop(),ur(w,K.pop());break}else{ur(w,K.pop());break}return R}function H(w){var R,q,K,pe;R=Q(w);for(var he={"%":"mod",mod:"mod"};Ge(he,w.token);)q=w.token,K=he[q],T(w),q==="%"&&w.tokenType===x.DELIMITER&&w.token!=="("?R=new h("/","divide",[R,new s(100)],!1,!0):(pe=[R,Q(w)],R=new h(q,K,pe));return R}function Q(w){var R,q,K,pe={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ge(pe,w.token)?(K=pe[w.token],R=w.token,T(w),q=[Q(w)],new h(R,K,q)):ne(w)}function ne(w){var R,q,K,pe;return R=ye(w),(w.token==="^"||w.token===".^")&&(q=w.token,K=q==="^"?"pow":"dotPow",T(w),pe=[R,Q(w)],R=new h(q,K,pe)),R}function ye(w){var R,q,K,pe;R=ge(w);for(var he={"!":"factorial","'":"ctranspose"};Ge(he,w.token);)q=w.token,K=he[q],_(w),pe=[R],R=new h(q,K,pe),R=Ee(w,R);return R}function ge(w){var R=[];if(w.tokenType===x.SYMBOL&&Ge(w.extraNodes,w.token)){var q=w.extraNodes[w.token];if(_(w),w.token==="("){if(R=[],z(w),_(w),w.token!==")")for(R.push(J(w));w.token===",";)_(w),R.push(J(w));if(w.token!==")")throw we(w,"Parenthesis ) expected");B(w),_(w)}return new q(R)}return ke(w)}function ke(w){var R,q;return w.tokenType===x.SYMBOL||w.tokenType===x.DELIMITER&&w.token in C?(q=w.token,_(w),Ge(S,q)?R=new s(S[q]):A.indexOf(q)!==-1?R=new s(t(q,"number")):R=new E(q),R=Ee(w,R),R):mt(w)}function Ee(w,R,q){for(var K;(w.token==="("||w.token==="["||w.token===".")&&(!q||q.indexOf(w.token)!==-1);)if(K=[],w.token==="(")if(Zt(R)||jn(R)){if(z(w),_(w),w.token!==")")for(K.push(J(w));w.token===",";)_(w),K.push(J(w));if(w.token!==")")throw we(w,"Parenthesis ) expected");B(w),_(w),R=new f(R,K)}else return R;else if(w.token==="["){if(z(w),_(w),w.token!=="]")for(K.push(J(w));w.token===",";)_(w),K.push(J(w));if(w.token!=="]")throw we(w,"Parenthesis ] expected");B(w),_(w),R=new i(R,new m(K))}else{_(w);var pe=w.tokenType===x.SYMBOL||w.tokenType===x.DELIMITER&&w.token in C;if(!pe)throw we(w,"Property name expected after dot");K.push(new s(w.token)),_(w);var he=!0;R=new i(R,new m(K,he))}return R}function mt(w){var R,q;return w.token==='"'?(q=Dt(w),R=new s(q),R=Ee(w,R),R):It(w)}function Dt(w){for(var R="";M(w)!==""&&M(w)!=='"';){if(M(w)==="\\"){var q=k(w);q!=="'"&&(R+=M(w)),O(w)}R+=M(w),O(w)}if(_(w),w.token!=='"')throw we(w,'End of string " expected');return _(w),JSON.parse('"'+R+'"')}function It(w){var R,q;return w.token==="'"?(q=Ht(w),R=new s(q),R=Ee(w,R),R):G(w)}function Ht(w){for(var R="";M(w)!==""&&M(w)!=="'";){if(M(w)==="\\"){var q=k(w);q!=="'"&&q!=='"'&&(R+=M(w)),O(w)}R+=M(w),O(w)}if(_(w),w.token!=="'")throw we(w,"End of string ' expected");return _(w),JSON.parse('"'+R.replace(/"/g,'\\"')+'"')}function G(w){var R,q,K,pe;if(w.token==="["){if(z(w),_(w),w.token!=="]"){var he=re(w);if(w.token===";"){for(K=1,q=[he];w.token===";";)_(w),q[K]=re(w),K++;if(w.token!=="]")throw we(w,"End of matrix ] expected");B(w),_(w),pe=q[0].items.length;for(var Ae=1;Ae<K;Ae++)if(q[Ae].items.length!==pe)throw ze(w,"Column dimensions mismatch ("+q[Ae].items.length+" !== "+pe+")");R=new a(q)}else{if(w.token!=="]")throw we(w,"End of matrix ] expected");B(w),_(w),R=he}}else B(w),_(w),R=new a([]);return Ee(w,R)}return ce(w)}function re(w){for(var R=[J(w)],q=1;w.token===",";)_(w),R[q]=J(w),q++;return new a(R)}function ce(w){if(w.token==="{"){z(w);var R,q={};do if(_(w),w.token!=="}"){if(w.token==='"')R=Dt(w);else if(w.token==="'")R=Ht(w);else if(w.tokenType===x.SYMBOL||w.tokenType===x.DELIMITER&&w.token in C)R=w.token,_(w);else throw we(w,"Symbol or string expected as object key");if(w.token!==":")throw we(w,"Colon : expected after object key");_(w),q[R]=J(w)}while(w.token===",");if(w.token!=="}")throw we(w,"Comma , or bracket } expected after object value");B(w),_(w);var K=new p(q);return K=Ee(w,K),K}return be(w)}function be(w){var R;return w.tokenType===x.NUMBER?(R=w.token,_(w),new s(t(R,n.number))):Ce(w)}function Ce(w){var R;if(w.token==="("){if(z(w),_(w),R=J(w),w.token!==")")throw we(w,"Parenthesis ) expected");return B(w),_(w),R=new d(R),R=Ee(w,R),R}return De(w)}function De(w){throw w.token===""?we(w,"Unexpected end of expression"):we(w,"Value expected")}function Pe(w){return w.index-w.token.length+1}function we(w,R){var q=Pe(w),K=new SyntaxError(R+" (char "+q+")");return K.char=q,K}function ze(w,R){var q=Pe(w),K=new SyntaxError(R+" (char "+q+")");return K.char=q,K}return e.addConversion({from:"string",to:"Node",convert:y}),y});var UM="compile",LG=["typed","parse"],v1=N(UM,LG,r=>{var{typed:e,parse:t}=r;return e(UM,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return je(i,function(a){return t(a).compile()})}})});var zM="evaluate",qG=["typed","parse"],y1=N(zM,qG,r=>{var{typed:e,parse:t}=r;return e(zM,{string:function(i){var a=Hi();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=Hi();return je(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return je(i,function(o){return t(o).compile().evaluate(a)})}})});var VG="Parser",UG=["evaluate"],x1=N(VG,UG,r=>{var{evaluate:e}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Hi(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(n){return e(n,this.scope)},t.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},t.prototype.getAll=function(){return eA(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(n,i){return this.scope.set(n,i),i},t.prototype.remove=function(n){this.scope.delete(n)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});var WM="parser",zG=["typed","Parser"],b1=N(WM,zG,r=>{var{typed:e,Parser:t}=r;return e(WM,{"":function(){return new t}})});var HM="lup",WG=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],D1=N(HM,WG,r=>{var{typed:e,matrix:t,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtract:l,larger:u,equalScalar:s,unaryMinus:c,DenseMatrix:f,SparseMatrix:m,Spa:p}=r;return e(HM,{DenseMatrix:function(v){return h(v)},SparseMatrix:function(v){return d(v)},Array:function(v){var E=t(v),y=h(E);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function h(g){var v=g._size[0],E=g._size[1],y=Math.min(v,E),D=Xe(g._data),x=[],b=[v,y],C=[],S=[y,E],A,F,I,M=[];for(A=0;A<v;A++)M[A]=A;for(F=0;F<E;F++){if(F>0)for(A=0;A<v;A++){var O=Math.min(A,F),P=0;for(I=0;I<O;I++)P=i(P,o(D[A][I],D[I][F]));D[A][F]=l(D[A][F],P)}var k=F,_=0,T=0;for(A=F;A<v;A++){var z=D[A][F],B=n(z);u(B,_)&&(k=A,_=B,T=z)}if(F!==k&&(M[F]=[M[k],M[k]=M[F]][0],f._swapRows(F,k,D)),F<v)for(A=F+1;A<v;A++){var U=D[A][F];s(U,0)||(D[A][F]=a(D[A][F],T))}}for(F=0;F<E;F++)for(A=0;A<v;A++){if(F===0&&(A<E&&(C[A]=[]),x[A]=[]),A<F){A<E&&(C[A][F]=D[A][F]),F<v&&(x[A][F]=0);continue}if(A===F){A<E&&(C[A][F]=D[A][F]),F<v&&(x[A][F]=1);continue}A<E&&(C[A][F]=0),F<v&&(x[A][F]=D[A][F])}var Y=new f({data:x,size:b}),J=new f({data:C,size:S}),L=[];for(A=0,y=M.length;A<y;A++)L[M[A]]=A;return{L:Y,U:J,p:L,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(g){var v=g._size[0],E=g._size[1],y=Math.min(v,E),D=g._values,x=g._index,b=g._ptr,C=[],S=[],A=[],F=[v,y],I=[],M=[],O=[],P=[y,E],k,_,T,z=[],B=[];for(k=0;k<v;k++)z[k]=k,B[k]=k;var U=function(L,X){var se=B[L],te=B[X];z[se]=X,z[te]=L,B[L]=te,B[X]=se},Y=function(){var L=new p;_<v&&(A.push(C.length),C.push(1),S.push(_)),O.push(I.length);var X=b[_],se=b[_+1];for(T=X;T<se;T++)k=x[T],L.set(z[k],D[T]);_>0&&L.forEach(0,_-1,function(fe,ue){m._forEachRow(fe,C,S,A,function(xe,We){xe>fe&&L.accumulate(xe,c(o(We,ue)))})});var te=_,me=L.get(_),de=n(me);L.forEach(_+1,v-1,function(fe,ue){var xe=n(ue);u(xe,de)&&(te=fe,de=xe,me=ue)}),_!==te&&(m._swapRows(_,te,F[1],C,S,A),m._swapRows(_,te,P[1],I,M,O),L.swap(_,te),U(_,te)),L.forEach(0,v-1,function(fe,ue){fe<=_?(I.push(ue),M.push(fe)):(ue=a(ue,me),s(ue,0)||(C.push(ue),S.push(fe)))})};for(_=0;_<E;_++)Y();return O.push(I.length),A.push(C.length),{L:new m({values:C,index:S,ptr:A,size:F}),U:new m({values:I,index:M,ptr:O,size:P}),p:z,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var GM="qr",HG=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],w1=N(GM,HG,r=>{var{typed:e,matrix:t,zeros:n,identity:i,isZero:a,equal:o,sign:l,sqrt:u,conj:s,unaryMinus:c,addScalar:f,divideScalar:m,multiplyScalar:p,subtract:h,complex:d}=r;return ur(e(GM,{DenseMatrix:function(D){return v(D)},SparseMatrix:function(D){return E(D)},Array:function(D){var x=t(D),b=v(x);return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:g});function g(y){var D=y._size[0],x=y._size[1],b=i([D],"dense"),C=b._data,S=y.clone(),A=S._data,F,I,M,O=n([D],"");for(M=0;M<Math.min(x,D);++M){var P=A[M][M],k=c(o(P,0)?1:l(P)),_=s(k),T=0;for(F=M;F<D;F++)T=f(T,p(A[F][M],s(A[F][M])));var z=p(k,u(T));if(!a(z)){var B=h(P,z);for(O[M]=1,F=M+1;F<D;F++)O[F]=m(A[F][M],B);var U=c(s(m(B,z))),Y=void 0;for(I=M;I<x;I++){for(Y=0,F=M;F<D;F++)Y=f(Y,p(s(O[F]),A[F][I]));for(Y=p(Y,U),F=M;F<D;F++)A[F][I]=p(h(A[F][I],p(O[F],Y)),_)}for(F=0;F<D;F++){for(Y=0,I=M;I<D;I++)Y=f(Y,p(C[F][I],O[I]));for(Y=p(Y,U),I=M;I<D;++I)C[F][I]=m(h(C[F][I],p(Y,s(O[I]))),_)}}}return{Q:b,R:S,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function v(y){var D=g(y),x=D.R._data;if(y._data.length>0)for(var b=x[0][0].type==="Complex"?d(0):0,C=0;C<x.length;++C)for(var S=0;S<C&&S<(x[0]||[]).length;++S)x[C][S]=b;return D}function E(y){throw new Error("qr not implemented for sparse matrices yet")}});function jM(r,e,t,n){for(var i=r._values,a=r._index,o=r._ptr,l=r._size,u=r._datatype,s=l[0],c=l[1],f=n&&r._values?[]:null,m=[],p=[],h=0,d=0;d<c;d++){p[d]=h;for(var g=t?t[d]:d,v=o[g],E=o[g+1],y=v;y<E;y++){var D=e?e[a[y]]:a[y];m[h]=D,f&&(f[h]=i[y]),h++}}return p[c]=h,r.createSparseMatrix({values:f,index:m,ptr:p,size:[s,c],datatype:u})}function Em(r,e,t,n,i,a,o){var l=0;for(t[o]=r;l>=0;){var u=t[o+l],s=t[n+u];s===-1?(l--,a[e++]=u):(t[n+u]=t[i+s],++l,t[o+l]=s)}return e}function ZM(r,e){if(!r)return null;var t=0,n,i=[],a=[],o=0,l=e,u=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)r[n]!==-1&&(a[l+n]=a[o+r[n]],a[o+r[n]]=n);for(n=0;n<e;n++)r[n]===-1&&(t=Em(n,t,a,o,l,i,u));return i}function YM(r,e){if(!r)return null;var t=r._index,n=r._ptr,i=r._size,a=i[0],o=i[1],l=[],u=[],s=0,c=o,f,m;if(e)for(f=0;f<a;f++)u[c+f]=-1;for(var p=0;p<o;p++){l[p]=-1,u[s+p]=-1;for(var h=n[p],d=n[p+1],g=h;g<d;g++){var v=t[g];for(f=e?u[c+v]:v;f!==-1&&f<p;f=m)m=u[s+f],u[s+f]=p,m===-1&&(l[f]=p);e&&(u[c+v]=p)}}return l}function JM(r,e,t){for(var n=r._values,i=r._index,a=r._ptr,o=r._size,l=o[1],u=0,s=0;s<l;s++){var c=a[s];for(a[s]=u;c<a[s+1];c++)e(i[c],s,n?n[c]:1,t)&&(i[u]=i[c],n&&(n[u]=n[c]),u++)}return a[l]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u),u}function Ti(r){return-r-2}var GG="csAmd",jG=["add","multiply","transpose"],XM=N(GG,jG,r=>{var{add:e,multiply:t,transpose:n}=r;return function(c,f){if(!f||c<=0||c>3)return null;var m=f._size,p=m[0],h=m[1],d=0,g=Math.max(16,10*Math.sqrt(h));g=Math.min(h-2,g);var v=i(c,f,p,h,g);JM(v,u,null);for(var E=v._index,y=v._ptr,D=y[h],x=[],b=[],C=0,S=h+1,A=2*(h+1),F=3*(h+1),I=4*(h+1),M=5*(h+1),O=6*(h+1),P=7*(h+1),k=x,_=a(h,y,b,C,F,k,A,P,S,O,I,M),T=o(h,y,b,M,I,O,g,S,F,k,A),z=0,B,U,Y,J,L,X,se,te,me,de,fe,ue,xe,We,Ne,Ve;T<h;){for(Y=-1;z<h&&(Y=b[F+z])===-1;z++);b[A+Y]!==-1&&(k[b[A+Y]]=-1),b[F+z]=b[A+Y];var W=b[I+Y],j=b[S+Y];T+=j;var le=0;b[S+Y]=-j;var H=y[Y],Q=W===0?H:D,ne=Q;for(J=1;J<=W+1;J++){for(J>W?(X=Y,se=H,te=b[C+Y]-W):(X=E[H++],se=y[X],te=b[C+X]),L=1;L<=te;L++)B=E[se++],!((me=b[S+B])<=0)&&(le+=me,b[S+B]=-me,E[ne++]=B,b[A+B]!==-1&&(k[b[A+B]]=k[B]),k[B]!==-1?b[A+k[B]]=b[A+B]:b[F+b[M+B]]=b[A+B]);X!==Y&&(y[X]=Ti(Y),b[O+X]=0)}for(W!==0&&(D=ne),b[M+Y]=le,y[Y]=Q,b[C+Y]=ne-Q,b[I+Y]=-2,_=l(_,d,b,O,h),de=Q;de<ne;de++)if(B=E[de],!((fe=b[I+B])<=0)){me=-b[S+B];var ye=_-me;for(H=y[B],ue=y[B]+fe-1;H<=ue;H++)X=E[H],b[O+X]>=_?b[O+X]-=me:b[O+X]!==0&&(b[O+X]=b[M+X]+ye)}for(de=Q;de<ne;de++){for(B=E[de],ue=y[B],xe=ue+b[I+B]-1,We=ue,Ne=0,Ve=0,H=ue;H<=xe;H++)if(X=E[H],b[O+X]!==0){var ge=b[O+X]-_;ge>0?(Ve+=ge,E[We++]=X,Ne+=X):(y[X]=Ti(Y),b[O+X]=0)}b[I+B]=We-ue+1;var ke=We,Ee=ue+b[C+B];for(H=xe+1;H<Ee;H++){U=E[H];var mt=b[S+U];mt<=0||(Ve+=mt,E[We++]=U,Ne+=U)}Ve===0?(y[B]=Ti(Y),me=-b[S+B],le-=me,j+=me,T+=me,b[S+B]=0,b[I+B]=-1):(b[M+B]=Math.min(b[M+B],Ve),E[We]=E[ke],E[ke]=E[ue],E[ue]=Y,b[C+B]=We-ue+1,Ne=(Ne<0?-Ne:Ne)%h,b[A+B]=b[P+Ne],b[P+Ne]=B,k[B]=Ne)}for(b[M+Y]=le,d=Math.max(d,le),_=l(_+d,d,b,O,h),de=Q;de<ne;de++)if(B=E[de],!(b[S+B]>=0))for(Ne=k[B],B=b[P+Ne],b[P+Ne]=-1;B!==-1&&b[A+B]!==-1;B=b[A+B],_++){for(te=b[C+B],fe=b[I+B],H=y[B]+1;H<=y[B]+te-1;H++)b[O+E[H]]=_;var Dt=B;for(U=b[A+B];U!==-1;){var It=b[C+U]===te&&b[I+U]===fe;for(H=y[U]+1;It&&H<=y[U]+te-1;H++)b[O+E[H]]!==_&&(It=0);It?(y[U]=Ti(B),b[S+B]+=b[S+U],b[S+U]=0,b[I+U]=-1,U=b[A+U],b[A+Dt]=U):(Dt=U,U=b[A+U])}}for(H=Q,de=Q;de<ne;de++)B=E[de],!((me=-b[S+B])<=0)&&(b[S+B]=me,Ve=b[M+B]+le-me,Ve=Math.min(Ve,h-T-me),b[F+Ve]!==-1&&(k[b[F+Ve]]=B),b[A+B]=b[F+Ve],k[B]=-1,b[F+Ve]=B,z=Math.min(z,Ve),b[M+B]=Ve,E[H++]=B);b[S+Y]=j,(b[C+Y]=H-Q)===0&&(y[Y]=-1,b[O+Y]=0),W!==0&&(D=H)}for(B=0;B<h;B++)y[B]=Ti(y[B]);for(U=0;U<=h;U++)b[F+U]=-1;for(U=h;U>=0;U--)b[S+U]>0||(b[A+U]=b[F+y[U]],b[F+y[U]]=U);for(X=h;X>=0;X--)b[S+X]<=0||y[X]!==-1&&(b[A+X]=b[F+y[X]],b[F+y[X]]=X);for(Y=0,B=0;B<=h;B++)y[B]===-1&&(Y=Em(B,Y,b,F,A,x,O));return x.splice(x.length-1,1),x};function i(s,c,f,m,p){var h=n(c);if(s===1&&m===f)return e(c,h);if(s===2){for(var d=h._index,g=h._ptr,v=0,E=0;E<f;E++){var y=g[E];if(g[E]=v,!(g[E+1]-y>p))for(var D=g[E+1];y<D;y++)d[v++]=d[y]}return g[f]=v,c=n(h),t(h,c)}return t(h,c)}function a(s,c,f,m,p,h,d,g,v,E,y,D){for(var x=0;x<s;x++)f[m+x]=c[x+1]-c[x];f[m+s]=0;for(var b=0;b<=s;b++)f[p+b]=-1,h[b]=-1,f[d+b]=-1,f[g+b]=-1,f[v+b]=1,f[E+b]=1,f[y+b]=0,f[D+b]=f[m+b];var C=l(0,0,f,E,s);return f[y+s]=-2,c[s]=-1,f[E+s]=0,C}function o(s,c,f,m,p,h,d,g,v,E,y){for(var D=0,x=0;x<s;x++){var b=f[m+x];if(b===0)f[p+x]=-2,D++,c[x]=-1,f[h+x]=0;else if(b>d)f[g+x]=0,f[p+x]=-1,D++,c[x]=Ti(s),f[g+s]++;else{var C=f[v+b];C!==-1&&(E[C]=x),f[y+x]=f[v+b],f[v+b]=x}}return D}function l(s,c,f,m,p){if(s<2||s+c<0){for(var h=0;h<p;h++)f[m+h]!==0&&(f[m+h]=1);s=2}return s}function u(s,c){return s!==c}});function QM(r,e,t,n,i,a,o){var l,u,s=0,c;if(r<=e||t[n+e]<=t[i+r])return-1;t[i+r]=t[n+e];var f=t[a+r];if(t[a+r]=e,f===-1)s=1,c=r;else{for(s=2,c=f;c!==t[o+c];c=t[o+c]);for(l=f;l!==c;l=u)u=t[o+l],t[o+l]=c}return{jleaf:s,q:c}}var ZG="csCounts",YG=["transpose"],KM=N(ZG,YG,r=>{var{transpose:e}=r;return function(t,n,i,a){if(!t||!n||!i)return null;var o=t._size,l=o[0],u=o[1],s,c,f,m,p,h,d,g=4*u+(a?u+l+1:0),v=[],E=0,y=u,D=2*u,x=3*u,b=4*u,C=5*u+1;for(f=0;f<g;f++)v[f]=-1;var S=[],A=e(t),F=A._index,I=A._ptr;for(f=0;f<u;f++)for(c=i[f],S[c]=v[x+c]===-1?1:0;c!==-1&&v[x+c]===-1;c=n[c])v[x+c]=f;if(a){for(f=0;f<u;f++)v[i[f]]=f;for(s=0;s<l;s++){for(f=u,h=I[s],d=I[s+1],p=h;p<d;p++)f=Math.min(f,v[F[p]]);v[C+s]=v[b+f],v[b+f]=s}}for(s=0;s<u;s++)v[E+s]=s;for(f=0;f<u;f++){for(c=i[f],n[c]!==-1&&S[n[c]]--,m=a?v[b+f]:c;m!==-1;m=a?v[C+m]:-1)for(p=I[m];p<I[m+1];p++){s=F[p];var M=QM(s,c,v,x,y,D,E);M.jleaf>=1&&S[c]++,M.jleaf===2&&S[M.q]--}n[c]!==-1&&(v[E+c]=n[c])}for(c=0;c<u;c++)n[c]!==-1&&(S[n[c]]+=S[c]);return S}});var JG="csSqr",XG=["add","multiply","transpose"],$M=N(JG,XG,r=>{var{add:e,multiply:t,transpose:n}=r,i=XM({add:e,multiply:t,transpose:n}),a=KM({transpose:n});return function(u,s,c){var f=s._ptr,m=s._size,p=m[1],h,d={};if(d.q=i(u,s),u&&!d.q)return null;if(c){var g=u?jM(s,null,d.q,0):s;d.parent=YM(g,1);var v=ZM(d.parent,p);if(d.cp=a(g,d.parent,v,1),g&&d.parent&&d.cp&&o(g,d))for(d.unz=0,h=0;h<p;h++)d.unz+=d.cp[h]}else d.unz=4*f[p]+p,d.lnz=d.unz;return d};function o(l,u){var s=l._ptr,c=l._index,f=l._size,m=f[0],p=f[1];u.pinv=[],u.leftmost=[];var h=u.parent,d=u.pinv,g=u.leftmost,v=[],E=0,y=m,D=m+p,x=m+2*p,b,C,S,A,F;for(C=0;C<p;C++)v[y+C]=-1,v[D+C]=-1,v[x+C]=0;for(b=0;b<m;b++)g[b]=-1;for(C=p-1;C>=0;C--)for(A=s[C],F=s[C+1],S=A;S<F;S++)g[c[S]]=C;for(b=m-1;b>=0;b--)d[b]=-1,C=g[b],C!==-1&&(v[x+C]++===0&&(v[D+C]=b),v[E+b]=v[y+C],v[y+C]=b);for(u.lnz=0,u.m2=m,C=0;C<p;C++)if(b=v[y+C],u.lnz++,b<0&&(b=u.m2++),d[b]=C,!(--x[C]<=0)){u.lnz+=v[x+C];var I=h[C];I!==-1&&(v[x+I]===0&&(v[D+I]=v[D+C]),v[E+v[D+C]]=v[y+I],v[y+I]=v[E+b],v[x+I]+=v[x+C])}for(b=0;b<m;b++)d[b]<0&&(d[b]=C++);return!0}});function rl(r,e){return r[e]<0}function Cm(r,e){r[e]=Ti(r[e])}function E1(r){return r<0?Ti(r):r}function e_(r,e,t,n,i){var a=e._index,o=e._ptr,l=e._size,u=l[1],s,c,f,m=0;for(n[0]=r;m>=0;){r=n[m];var p=i?i[r]:r;rl(o,r)||(Cm(o,r),n[u+m]=p<0?0:E1(o[p]));var h=1;for(c=n[u+m],f=p<0?0:E1(o[p+1]);c<f;c++)if(s=a[c],!rl(o,s)){n[u+m]=c,n[++m]=s,h=0;break}h&&(m--,n[--t]=r)}return t}function t_(r,e,t,n,i){var a=r._ptr,o=r._size,l=e._index,u=e._ptr,s=o[1],c,f,m,p=s;for(f=u[t],m=u[t+1],c=f;c<m;c++){var h=l[c];rl(a,h)||(p=e_(h,r,p,n,i))}for(c=p;c<s;c++)Cm(a,n[c]);return p}var QG="csSpsolve",KG=["divideScalar","multiply","subtract"],r_=N(QG,KG,r=>{var{divideScalar:e,multiply:t,subtract:n}=r;return function(a,o,l,u,s,c,f){var m=a._values,p=a._index,h=a._ptr,d=a._size,g=d[1],v=o._values,E=o._index,y=o._ptr,D,x,b,C,S=t_(a,o,l,u,c);for(D=S;D<g;D++)s[u[D]]=0;for(x=y[l],b=y[l+1],D=x;D<b;D++)s[E[D]]=v[D];for(var A=S;A<g;A++){var F=u[A],I=c?c[F]:F;if(!(I<0))for(x=h[I],b=h[I+1],s[F]=e(s[F],m[f?x:b-1]),D=f?x+1:x,C=f?b:b-1;D<C;D++){var M=p[D];s[M]=n(s[M],t(m[D],s[F]))}}return S}});var $G="csLu",ej=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],n_=N($G,ej,r=>{var{abs:e,divideScalar:t,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:l}=r,u=r_({divideScalar:t,multiply:n,subtract:i});return function(c,f,m){if(!c)return null;var p=c._size,h=p[1],d,g=100,v=100;f&&(d=f.q,g=f.lnz||g,v=f.unz||v);var E=[],y=[],D=[],x=new l({values:E,index:y,ptr:D,size:[h,h]}),b=[],C=[],S=[],A=new l({values:b,index:C,ptr:S,size:[h,h]}),F=[],I,M,O=[],P=[];for(I=0;I<h;I++)O[I]=0,F[I]=-1,D[I+1]=0;g=0,v=0;for(var k=0;k<h;k++){D[k]=g,S[k]=v;var _=d?d[k]:k,T=u(x,c,_,P,O,F,1),z=-1,B=-1;for(M=T;M<h;M++)if(I=P[M],F[I]<0){var U=e(O[I]);a(U,B)&&(B=U,z=I)}else C[v]=F[I],b[v++]=O[I];if(z===-1||B<=0)return null;F[_]<0&&o(e(O[_]),n(B,m))&&(z=_);var Y=O[z];for(C[v]=k,b[v++]=Y,F[z]=k,y[g]=z,E[g++]=1,M=T;M<h;M++)I=P[M],F[I]<0&&(y[g]=I,E[g++]=t(O[I],Y)),O[I]=0}for(D[h]=g,S[h]=v,M=0;M<g;M++)y[M]=F[y[M]];return E.splice(g,E.length-g),y.splice(g,y.length-g),b.splice(v,b.length-v),C.splice(v,C.length-v),{L:x,U:A,pinv:F}}});var i_="slu",tj=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],C1=N(i_,tj,r=>{var{typed:e,abs:t,add:n,multiply:i,transpose:a,divideScalar:o,subtract:l,larger:u,largerEq:s,SparseMatrix:c}=r,f=$M({add:n,multiply:i,transpose:a}),m=n_({abs:t,divideScalar:o,multiply:i,subtract:l,larger:u,largerEq:s,SparseMatrix:c});return e(i_,{"SparseMatrix, number, number":function(h,d,g){if(!Ue(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var v=f(d,h,!1),E=m(h,v,g);return{L:E.L,U:E.U,p:E.pinv,q:v.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function F1(r,e){var t,n=e.length,i=[];if(r)for(t=0;t<n;t++)i[r[t]]=e[t];else for(t=0;t<n;t++)i[t]=e[t];return i}var a_="lusolve",rj=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],A1=N(a_,rj,r=>{var{typed:e,matrix:t,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:l}=r,u=Zi({DenseMatrix:l});return e(a_,{"Array, Array | Matrix":function(m,p){m=t(m);var h=n(m),d=c(h.L,h.U,h.p,null,p);return d.valueOf()},"DenseMatrix, Array | Matrix":function(m,p){var h=n(m);return c(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix":function(m,p){var h=n(m);return c(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(m,p,h,d){var g=i(m,h,d);return c(g.L,g.U,g.p,g.q,p)},"Object, Array | Matrix":function(m,p){return c(m.L,m.U,m.p,m.q,p)}});function s(f){if(He(f))return f;if(Et(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,m,p,h,d){f=s(f),m=s(m),p&&(d=u(f,d,!0),d._data=F1(p,d._data));var g=o(f,d),v=a(m,g);return h&&(v._data=F1(h,v._data)),v}});var o_="polynomialRoot",nj=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],S1=N(o_,nj,r=>{var{typed:e,isZero:t,equalScalar:n,add:i,subtract:a,multiply:o,divide:l,sqrt:u,unaryMinus:s,cbrt:c,typeOf:f,im:m,re:p}=r;return e(o_,{"number|Complex, ...number|Complex":(h,d)=>{for(var g=[h,...d];g.length>0&&t(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[s(l(g[0],g[1]))];case 3:{var[v,E,y]=g,D=o(2,y),x=o(E,E),b=o(4,y,v);if(n(x,b))return[l(s(E),D)];var C=u(a(x,b));return[l(a(C,E),D),l(a(s(C),E),D)]}case 4:{var[S,A,F,I]=g,M=s(o(3,I)),O=o(F,F),P=o(3,I,A),k=i(o(2,F,F,F),o(27,I,I,S)),_=o(9,I,F,A);if(n(O,P)&&n(k,_))return[l(F,M)];var T=a(O,P),z=a(k,_),B=i(o(18,I,F,A,S),o(F,F,A,A)),U=i(o(4,F,F,F,S),o(4,I,A,A,A),o(27,I,I,S,S));if(n(B,U))return[l(a(o(4,I,F,A),i(o(9,I,I,S),o(F,F,F))),o(I,T)),l(a(o(9,I,S),o(F,A)),o(2,T))];var Y;n(O,P)?Y=z:Y=l(i(z,u(a(o(z,z),o(4,T,T,T)))),2);var J=!0,L=c(Y,J).toArray().map(X=>l(i(F,X,l(T,X)),M));return L.map(X=>f(X)==="Complex"&&n(p(X),p(X)+m(X))?p(X):X)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})});var ij="Help",aj=["parse"],N1=N(ij,aj,r=>{var{parse:e}=r;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a={},o=0;o<n.examples.length;o++){var l=n.examples[o];i+="    "+l+`
`;var u=void 0;try{u=e(l).compile().evaluate(a)}catch(s){u=s}u!==void 0&&!vf(u)&&(i+="        "+rt(u,{precision:14})+`
`)}i+=`
`}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var n=Xe(this.doc);return n.mathjs="Help",n},t.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var oj="Chain",sj=["?on","math","typed"],M1=N(oj,sj,r=>{var{on:e,math:t,typed:n}=r;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");yf(s)?this.value=s.value:this.value=s}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return rt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)};function a(s,c){typeof c=="function"&&(i.prototype[s]=l(c))}function o(s,c){A2(i.prototype,s,function(){var m=c();if(typeof m=="function")return l(m)})}function l(s){return function(){if(arguments.length===0)return new i(s(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(s)){var m=n.resolve(s,c);if(m.params.length===1)throw new Error("chain function "+s.name+" cannot match rest parameter between chain value and additional arguments.");return new i(m.implementation.apply(s,c))}return new i(s.apply(s,c))}}i.createProxy=function(s,c){if(typeof s=="string")a(s,c);else{var f=function(h){Ge(s,h)&&u[h]===void 0&&o(h,()=>s[h])};for(var m in s)f(m)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(s,c,f){f||o(s,c)}),i},{isClass:!0});var _1={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var s_={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var u_={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var l_={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var c_={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var f_={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var m_={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var p_={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var d_={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var h_={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var g_={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var T1={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var v_={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var y_={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var x_={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var b_={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var D_={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var w_={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var E_={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var C_={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var F_={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var A_={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var S_={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var N_={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var M_={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var __={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var T_={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var I_={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var B_={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var O_={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var R_={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var k_={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var P_={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var L_={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var q_={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var V_={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var U_={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var z_={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var W_={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var H_={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var G_={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var j_={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var Z_={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var Y_={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var J_={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var X_={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var Q_={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var K_={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var $_={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var eT={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var tT={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var rT={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var nT={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var iT={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var aT={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var oT={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var sT={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var uT={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var lT={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var cT={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var fT={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var mT={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var pT={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var dT={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var hT={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var gT={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var vT={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var yT={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var xT={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var bT={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var DT={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var wT={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var ET={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var CT={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var FT={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var AT={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var ST={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var NT={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]};var MT={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var _T={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var TT={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var IT={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var BT={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var OT={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var RT={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var kT={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var PT={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var LT={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var qT={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var VT={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var UT={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var zT={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var WT={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var HT={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var GT={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var jT={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var ZT={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var YT={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var JT={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var XT={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var QT={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var KT={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var $T={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var e3={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var t3={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var r3={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var n3={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var i3={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var a3={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var o3={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var s3={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var u3={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var l3={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var c3={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var f3={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var m3={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var p3={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var d3={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var h3={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var g3={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var v3={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var y3={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]};var x3={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var b3={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var D3={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var w3={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var E3={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var C3={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var F3={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var A3={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var S3={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var N3={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var M3={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var _3={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var T3={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var I3={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var B3={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var O3={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var R3={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var k3={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var P3={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var L3={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var q3={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var V3={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var U3={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var z3={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var W3={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var H3={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var G3={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var j3={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var Z3={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var Y3={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var J3={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var X3={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var Q3={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var K3={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var $3={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var eI={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var tI={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var rI={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var nI={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var iI={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var aI={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var oI={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var sI={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var uI={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var lI={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var cI={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var fI={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var mI={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var pI={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var dI={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var hI={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var gI={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var vI={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var yI={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var xI={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var bI={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var DI={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var wI={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var EI={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var CI={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var FI={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var AI={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var SI={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var NI={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var MI={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var _I={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var TI={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var II={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var BI={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var OI={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var RI={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var kI={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var PI={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var LI={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var qI={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var VI={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var UI={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var zI={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var WI={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var HI={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var GI={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var jI={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var ZI={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var YI={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var JI={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var XI={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var QI={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var KI={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var $I={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var eB={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var tB={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var rB={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var nB={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var iB={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var aB={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var oB={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var sB={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var uB={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var lB={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var cB={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var fB={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var mB={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var pB={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var dB={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var hB={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var gB={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var vB={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var yB={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var xB={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var bB={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var DB={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var wB={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var EB={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var CB={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var FB={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var AB={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var SB={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var NB={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var MB={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var _B={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var TB={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var IB={bignumber:w_,boolean:E_,complex:C_,createUnit:F_,fraction:A_,index:S_,matrix:N_,number:M_,sparse:__,splitUnit:T_,string:I_,unit:B_,e:_1,E:_1,false:s_,i:u_,Infinity:l_,LN2:f_,LN10:c_,LOG2E:p_,LOG10E:m_,NaN:d_,null:h_,pi:T1,PI:T1,phi:g_,SQRT1_2:v_,SQRT2:y_,tau:x_,true:b_,version:D_,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:P_,lsolve:q_,lsolveAll:V_,lup:U_,lusolve:z_,leafCount:L_,polynomialRoot:W_,resolve:j_,simplify:Z_,simplifyConstant:Y_,simplifyCore:J_,symbolicEqual:Q_,rationalize:G_,slu:X_,usolve:K_,usolveAll:$_,qr:H_,abs:eT,add:tT,cbrt:rT,ceil:nT,cube:iT,divide:aT,dotDivide:oT,dotMultiply:sT,dotPow:uT,exp:lT,expm:cT,expm1:fT,fix:mT,floor:pT,gcd:dT,hypot:hT,lcm:vT,log:yT,log2:DT,log1p:bT,log10:xT,mod:wT,multiply:ET,norm:CT,nthRoot:FT,nthRoots:AT,pow:ST,round:NT,sign:MT,sqrt:_T,sqrtm:TT,square:RT,subtract:kT,unaryMinus:PT,unaryPlus:LT,xgcd:qT,invmod:gT,bitAnd:VT,bitNot:UT,bitOr:zT,bitXor:WT,leftShift:HT,rightArithShift:GT,rightLogShift:jT,bellNumbers:ZT,catalan:YT,composition:JT,stirlingS2:XT,config:O_,import:R_,typed:k_,arg:QT,conj:KT,re:e3,im:$T,evaluate:t3,help:r3,distance:n3,intersect:i3,and:a3,not:o3,or:s3,xor:u3,concat:c3,count:f3,cross:m3,column:l3,ctranspose:p3,det:d3,diag:h3,diff:g3,dot:v3,getMatrixDataType:w3,identity:E3,filter:x3,flatten:b3,forEach:D3,inv:C3,pinv:F3,eigs:y3,kron:A3,matrixFromFunction:M3,matrixFromRows:_3,matrixFromColumns:N3,map:S3,ones:T3,partitionSelect:I3,range:B3,resize:R3,reshape:O3,rotate:k3,rotationMatrix:P3,row:L3,size:q3,sort:V3,squeeze:U3,subset:z3,trace:W3,transpose:H3,zeros:G3,fft:j3,ifft:Z3,sylvester:IT,schur:BT,lyap:OT,solveODE:TB,combinations:Y3,combinationsWithRep:J3,factorial:X3,gamma:Q3,kldivergence:$3,lgamma:K3,multinomial:eI,permutations:tI,pickRandom:rI,random:nI,randomInt:iI,compare:aI,compareNatural:oI,compareText:sI,deepEqual:uI,equal:lI,equalText:cI,larger:fI,largerEq:mI,smaller:pI,smallerEq:dI,unequal:hI,setCartesian:gI,setDifference:vI,setDistinct:yI,setIntersect:xI,setIsSubset:bI,setMultiplicity:DI,setPowerset:wI,setSize:EI,setSymDifference:CI,setUnion:FI,zpk2tf:AI,freqz:SI,erf:NI,zeta:MI,cumsum:qI,mad:_I,max:TI,mean:II,median:BI,min:OI,mode:RI,prod:kI,quantileSeq:PI,std:LI,sum:VI,variance:UI,corr:zI,acos:WI,acosh:HI,acot:GI,acoth:jI,acsc:ZI,acsch:YI,asec:JI,asech:XI,asin:QI,asinh:KI,atan:$I,atanh:tB,atan2:eB,cos:rB,cosh:nB,cot:iB,coth:aB,csc:oB,csch:sB,sec:uB,sech:lB,sin:cB,sinh:fB,tan:mB,tanh:pB,to:dB,clone:gB,format:vB,bin:hB,oct:NB,hex:xB,isNaN:DB,isInteger:bB,isNegative:wB,isNumeric:EB,hasNumericValue:yB,isPositive:CB,isPrime:FB,isZero:AB,print:MB,typeOf:_B,numeric:SB};var BB="help",uj=["typed","mathWithTransform","Help"],I1=N(BB,uj,r=>{var{typed:e,mathWithTransform:t,Help:n}=r;return e(BB,{any:function(a){var o,l=a;if(typeof a!="string"){for(o in t)if(Ge(t,o)&&a===t[o]){l=o;break}}var u=ar(IB,l);if(!u){var s=typeof l=="function"?l.name:l;throw new Error('No documentation found on "'+s+'"')}return new n(u)}})});var OB="chain",lj=["typed","Chain"],B1=N(OB,lj,r=>{var{typed:e,Chain:t}=r;return e(OB,{"":function(){return new t},any:function(i){return new t(i)}})});var RB="det",cj=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],O1=N(RB,cj,r=>{var{typed:e,matrix:t,subtract:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:l}=r;return e(RB,{any:function(c){return Xe(c)},"Array | Matrix":function(c){var f;switch(He(c)?f=c.size():Array.isArray(c)?(c=t(c),f=c.size()):f=[],f.length){case 0:return Xe(c);case 1:if(f[0]===1)return Xe(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+rt(f)+")");case 2:{var m=f[0],p=f[1];if(m===p)return u(c.clone().valueOf(),m,p);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+rt(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+rt(f)+")")}}});function u(s,c,f){if(c===1)return Xe(s[0][0]);if(c===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var m=!1,p=new Array(c).fill(0).map((C,S)=>S),h=0;h<c;h++){var d=p[h];if(o(s[d][h])){var g=void 0;for(g=h+1;g<c;g++)if(!o(s[p[g]][h])){d=p[g],p[g]=p[h],p[h]=d,m=!m;break}if(g===c)return s[d][h]}for(var v=s[d][h],E=h===0?1:s[p[h-1]][h-1],y=h+1;y<c;y++)for(var D=p[y],x=h+1;x<c;x++)s[D][x]=a(n(i(s[D][x],v),i(s[D][h],s[d][x])),E)}var b=s[p[c-1]][c-1];return m?l(b):b}});var kB="inv",fj=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],R1=N(kB,fj,r=>{var{typed:e,matrix:t,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:l,identity:u,abs:s}=r;return e(kB,{"Array | Matrix":function(m){var p=He(m)?m.size():Qe(m);switch(p.length){case 1:if(p[0]===1)return He(m)?t([n(1,m.valueOf()[0])]):[n(1,m[0])];throw new RangeError("Matrix must be square (size: "+rt(p)+")");case 2:{var h=p[0],d=p[1];if(h===d)return He(m)?t(c(m.valueOf(),h,d),m.storage()):c(m,h,d);throw new RangeError("Matrix must be square (size: "+rt(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+rt(p)+")")}},any:function(m){return n(1,m)}});function c(f,m,p){var h,d,g,v,E;if(m===1){if(v=f[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,v)]]}else if(m===2){var y=l(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],y),n(o(f[0][1]),y)],[n(o(f[1][0]),y),n(f[0][0],y)]]}else{var D=f.concat();for(h=0;h<m;h++)D[h]=D[h].concat();for(var x=u(m).valueOf(),b=0;b<p;b++){var C=s(D[b][b]),S=b;for(h=b+1;h<m;)s(D[h][b])>C&&(C=s(D[h][b]),S=h),h++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");h=S,h!==b&&(E=D[b],D[b]=D[h],D[h]=E,E=x[b],x[b]=x[h],x[h]=E);var A=D[b],F=x[b];for(h=0;h<m;h++){var I=D[h],M=x[h];if(h!==b){if(I[b]!==0){for(g=n(o(I[b]),A[b]),d=b;d<p;d++)I[d]=i(I[d],a(g,A[d]));for(d=0;d<p;d++)M[d]=i(M[d],a(g,F[d]))}}else{for(g=A[b],d=b;d<p;d++)I[d]=n(I[d],g);for(d=0;d<p;d++)M[d]=n(M[d],g)}}}return x}}});var PB="pinv",mj=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],k1=N(PB,mj,r=>{var{typed:e,matrix:t,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:l,ctranspose:u,divideScalar:s,multiply:c,add:f,Complex:m}=r;return e(PB,{"Array | Matrix":function(y){var D=He(y)?y.size():Qe(y);switch(D.length){case 1:return v(y)?u(y):D[0]===1?n(y):o(u(y),l(y,y));case 2:{if(v(y))return u(y);var x=D[0],b=D[1];if(x===b)try{return n(y)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return He(y)?t(p(y.valueOf(),x,b),y.storage()):p(y,x,b)}default:throw new RangeError("Matrix must be two dimensional (size: "+rt(D)+")")}},any:function(y){return a(y,0)?Xe(y):s(1,y)}});function p(E,y,D){var{C:x,F:b}=d(E,y,D),C=c(n(c(u(x),x)),u(x)),S=c(u(b),n(c(b,u(b))));return c(S,C)}function h(E,y,D){for(var x=Xe(E),b=0,C=0;C<y;C++){if(D<=b)return x;for(var S=C;g(x[S][b]);)if(S++,y===S&&(S=C,b++,D===b))return x;[x[S],x[C]]=[x[C],x[S]];for(var A=x[C][b],F=0;F<D;F++)x[C][F]=o(x[C][F],A);for(var I=0;I<y;I++)if(I!==C){A=x[I][b];for(var M=0;M<D;M++)x[I][M]=f(x[I][M],c(-1,c(A,x[C][M])))}b++}return x}function d(E,y,D){var x=h(E,y,D),b=E.map((S,A)=>S.filter((F,I)=>I<y&&!g(l(x[I],x[I])))),C=x.filter((S,A)=>!g(l(x[A],x[A])));return{C:b,F:C}}function g(E){return a(f(E,m(1,1)),f(0,m(1,1)))}function v(E){return i(f(E,m(1,1)),f(c(E,0),m(1,1)))}});function LB(r){var{addScalar:e,subtract:t,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:l,abs:u,bignumber:s,diag:c,inv:f,qr:m,usolve:p,usolveAll:h,equal:d,complex:g,larger:v,smaller:E,matrixFromColumns:y,dot:D}=r;function x(U,Y,J,L,X){X===void 0&&(X=!0);var se=b(U,Y,J,L,X);C(U,Y,J,L,X,se);var{values:te,C:me}=S(U,Y,J,L,X),de;return X&&(de=A(U,Y,me,se,te,J,L),de=y(...de)),{values:te,vectors:de}}function b(U,Y,J,L,X){var se=L==="BigNumber",te=L==="Complex",me=se?s(0):0,de=se?s(1):te?g(1):1,fe=se?s(1):1,ue=se?s(10):2,xe=a(ue,ue),We;X&&(We=Array(Y).fill(de));for(var Ne=!1;!Ne;){Ne=!0;for(var Ve=0;Ve<Y;Ve++){for(var W=me,j=me,le=0;le<Y;le++)if(Ve!==le){var H=u(U[Ve][le]);W=e(W,H),j=e(j,H)}if(!d(W,0)&&!d(j,0)){for(var Q=fe,ne=W,ye=o(j,ue),ge=a(j,ue);E(ne,ye);)ne=a(ne,xe),Q=a(Q,ue);for(;v(ne,ge);)ne=o(ne,xe),Q=o(Q,ue);var ke=E(o(e(ne,j),Q),a(e(W,j),.95));if(ke){Ne=!1;for(var Ee=o(1,Q),mt=0;mt<Y;mt++)Ve!==mt&&(U[Ve][mt]=a(U[Ve][mt],Q),U[mt][Ve]=a(U[mt][Ve],Ee));X&&(We[Ve]=a(We[Ve],Q))}}}}return c(We)}function C(U,Y,J,L,X,se){var te=L==="BigNumber",me=L==="Complex",de=te?s(0):me?g(0):0;te&&(J=s(J));for(var fe=0;fe<Y-2;fe++){for(var ue=0,xe=de,We=fe+1;We<Y;We++){var Ne=U[We][fe];E(u(xe),u(Ne))&&(xe=Ne,ue=We)}if(!E(u(xe),J)){if(ue!==fe+1){var Ve=U[ue];U[ue]=U[fe+1],U[fe+1]=Ve;for(var W=0;W<Y;W++){var j=U[W][ue];U[W][ue]=U[W][fe+1],U[W][fe+1]=j}if(X){var le=se[ue];se[ue]=se[fe+1],se[fe+1]=le}}for(var H=fe+2;H<Y;H++){var Q=o(U[H][fe],xe);if(Q!==0){for(var ne=0;ne<Y;ne++)U[H][ne]=t(U[H][ne],a(Q,U[fe+1][ne]));for(var ye=0;ye<Y;ye++)U[ye][fe+1]=e(U[ye][fe+1],a(Q,U[ye][H]));if(X)for(var ge=0;ge<Y;ge++)se[H][ge]=t(se[H][ge],a(Q,se[fe+1][ge]))}}}}return se}function S(U,Y,J,L,X){var se=L==="BigNumber",te=L==="Complex",me=se?s(1):te?g(1):1;se&&(J=s(J));for(var de=Xe(U),fe=[],ue=Y,xe=[],We=X?c(Array(Y).fill(me)):void 0,Ne=X?c(Array(ue).fill(me)):void 0,Ve=0;Ve<=100;){Ve+=1;for(var W=0,j=0;j<ue;j++)de[j][j]=t(de[j][j],W);var{Q:le,R:H}=m(de);de=i(H,le);for(var Q=0;Q<ue;Q++)de[Q][Q]=e(de[Q][Q],W);if(X&&(Ne=i(Ne,le)),ue===1||E(u(de[ue-1][ue-2]),J)){Ve=0,fe.push(de[ue-1][ue-1]),X&&(xe.unshift([[1]]),M(Ne,Y),We=i(We,Ne),ue>1&&(Ne=c(Array(ue-1).fill(me)))),ue-=1,de.pop();for(var ne=0;ne<ue;ne++)de[ne].pop()}else if(ue===2||E(u(de[ue-2][ue-3]),J)){Ve=0;var ye=F(de[ue-2][ue-2],de[ue-2][ue-1],de[ue-1][ue-2],de[ue-1][ue-1]);fe.push(...ye),X&&(xe.unshift(I(de[ue-2][ue-2],de[ue-2][ue-1],de[ue-1][ue-2],de[ue-1][ue-1],ye[0],ye[1],J,L)),M(Ne,Y),We=i(We,Ne),ue>2&&(Ne=c(Array(ue-2).fill(me)))),ue-=2,de.pop(),de.pop();for(var ge=0;ge<ue;ge++)de[ge].pop(),de[ge].pop()}if(ue===0)break}if(fe.sort((mt,Dt)=>+t(u(mt),u(Dt))),Ve>100){var ke=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+fe.join(", "));throw ke.values=fe,ke.vectors=[],ke}var Ee=X?i(We,O(xe,Y)):void 0;return{values:fe,C:Ee}}function A(U,Y,J,L,X,se,te){var me=f(J),de=i(me,U,J),fe=te==="BigNumber",ue=te==="Complex",xe=fe?s(0):ue?g(0):0,We=fe?s(1):ue?g(1):1,Ne=[],Ve=[];for(var W of X){var j=P(Ne,W,d);j===-1?(Ne.push(W),Ve.push(1)):Ve[j]+=1}for(var le=[],H=Ne.length,Q=Array(Y).fill(xe),ne=c(Array(Y).fill(We)),ye=[],ge=function(){var Dt=Ne[ke],It=t(de,i(Dt,ne)),Ht=h(It,Q);for(Ht.shift();Ht.length<Ve[ke];){var G=k(It,Y,Ht,se,te);if(G==null){ye.push(Dt);break}Ht.push(G)}var re=i(f(L),J);Ht=Ht.map(ce=>i(re,ce)),le.push(...Ht.map(ce=>n(ce)))},ke=0;ke<H;ke++)ge();if(ye.length!==0){var Ee=new Error("Failed to find eigenvectors for the following eigenvalues: "+ye.join(", "));throw Ee.values=X,Ee.vectors=le,Ee}return le}function F(U,Y,J,L){var X=e(U,L),se=t(a(U,L),a(Y,J)),te=a(X,.5),me=a(l(t(a(X,X),a(4,se))),.5);return[e(te,me),t(te,me)]}function I(U,Y,J,L,X,se,te,me){var de=me==="BigNumber",fe=me==="Complex",ue=de?s(0):fe?g(0):0,xe=de?s(1):fe?g(1):1;if(E(u(J),te))return[[xe,ue],[ue,xe]];if(v(u(t(X,se)),te))return[[t(X,L),t(se,L)],[J,J]];var We=t(U,X),Ne=t(Y,X),Ve=t(J,X),W=t(L,X);return E(u(Ne),te)?[[We,xe],[Ve,ue]]:[[Ne,ue],[W,xe]]}function M(U,Y){for(var J=0;J<U.length;J++)U[J].push(...Array(Y-U[J].length).fill(0));for(var L=U.length;L<Y;L++)U.push(Array(Y).fill(0)),U[L][L]=1;return U}function O(U,Y){for(var J=[],L=0;L<Y;L++)J[L]=Array(Y).fill(0);var X=0;for(var se of U){for(var te=se.length,me=0;me<te;me++)for(var de=0;de<te;de++)J[X+me][X+de]=se[me][de];X+=te}return J}function P(U,Y,J){for(var L=0;L<U.length;L++)if(J(U[L],Y))return L;return-1}function k(U,Y,J,L,X){for(var se=X==="BigNumber"?s(1e3):1e3,te,me=0;te=_(Y,J,X),te=p(U,te),!v(z(te),se);)if(++me>=5)return null;for(me=0;;){var de=p(U,te);if(E(z(T(te,[de])),L))break;if(++me>=10)return null;te=B(de)}return te}function _(U,Y,J){var L=J==="BigNumber",X=J==="Complex",se=Array(U).fill(0).map(te=>2*Math.random()-1);return L&&(se=se.map(te=>s(te))),X&&(se=se.map(te=>g(te))),se=T(se,Y),B(se,J)}function T(U,Y){for(var J of Y)U=t(U,i(o(D(J,U),D(J,J)),J));return U}function z(U){return u(l(D(U,U)))}function B(U,Y){var J=Y==="BigNumber",L=Y==="Complex",X=J?s(1):L?g(1):1;return i(o(X,z(U)),U)}return x}function qB(r){var{config:e,addScalar:t,subtract:n,abs:i,atan:a,cos:o,sin:l,multiplyScalar:u,inv:s,bignumber:c,multiply:f,add:m}=r;function p(F,I){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,O=arguments.length>3?arguments[3]:void 0;if(O==="number")return h(F,M);if(O==="BigNumber")return d(F,M);throw TypeError("Unsupported data type: "+O)}function h(F,I){for(var M=F.length,O=Math.abs(I/M),P,k=new Array(M),_=0;_<M;_++)k[_]=A(M,0),k[_][_]=1;for(var T=b(F);Math.abs(T[1])>=Math.abs(O);){var z=T[0][0],B=T[0][1];P=g(F[z][z],F[B][B],F[z][B]),F=x(F,P,z,B),k=E(k,P,z,B),T=b(F)}for(var U=A(M,0),Y=0;Y<M;Y++)U[Y]=F[Y][Y];return S(Xe(U),Xe(k))}function d(F,I){for(var M=F.length,O=i(I/M),P,k=new Array(M),_=0;_<M;_++)k[_]=A(M,0),k[_][_]=1;for(var T=C(F);i(T[1])>=i(O);){var z=T[0][0],B=T[0][1];P=v(F[z][z],F[B][B],F[z][B]),F=D(F,P,z,B),k=y(k,P,z,B),T=C(F)}for(var U=A(M,0),Y=0;Y<M;Y++)U[Y]=F[Y][Y];return S(Xe(U),Xe(k))}function g(F,I,M){var O=I-F;return Math.abs(O)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(I-F))}function v(F,I,M){var O=n(I,F);return i(O)<=e.epsilon?c(-1).acos().div(4):u(.5,a(f(2,M,s(O))))}function E(F,I,M,O){for(var P=F.length,k=Math.cos(I),_=Math.sin(I),T=A(P,0),z=A(P,0),B=0;B<P;B++)T[B]=k*F[B][M]-_*F[B][O],z[B]=_*F[B][M]+k*F[B][O];for(var U=0;U<P;U++)F[U][M]=T[U],F[U][O]=z[U];return F}function y(F,I,M,O){for(var P=F.length,k=o(I),_=l(I),T=A(P,c(0)),z=A(P,c(0)),B=0;B<P;B++)T[B]=n(u(k,F[B][M]),u(_,F[B][O])),z[B]=t(u(_,F[B][M]),u(k,F[B][O]));for(var U=0;U<P;U++)F[U][M]=T[U],F[U][O]=z[U];return F}function D(F,I,M,O){for(var P=F.length,k=c(o(I)),_=c(l(I)),T=u(k,k),z=u(_,_),B=A(P,c(0)),U=A(P,c(0)),Y=f(c(2),k,_,F[M][O]),J=t(n(u(T,F[M][M]),Y),u(z,F[O][O])),L=m(u(z,F[M][M]),Y,u(T,F[O][O])),X=0;X<P;X++)B[X]=n(u(k,F[M][X]),u(_,F[O][X])),U[X]=t(u(_,F[M][X]),u(k,F[O][X]));F[M][M]=J,F[O][O]=L,F[M][O]=c(0),F[O][M]=c(0);for(var se=0;se<P;se++)se!==M&&se!==O&&(F[M][se]=B[se],F[se][M]=B[se],F[O][se]=U[se],F[se][O]=U[se]);return F}function x(F,I,M,O){for(var P=F.length,k=Math.cos(I),_=Math.sin(I),T=k*k,z=_*_,B=A(P,0),U=A(P,0),Y=T*F[M][M]-2*k*_*F[M][O]+z*F[O][O],J=z*F[M][M]+2*k*_*F[M][O]+T*F[O][O],L=0;L<P;L++)B[L]=k*F[M][L]-_*F[O][L],U[L]=_*F[M][L]+k*F[O][L];F[M][M]=Y,F[O][O]=J,F[M][O]=0,F[O][M]=0;for(var X=0;X<P;X++)X!==M&&X!==O&&(F[M][X]=B[X],F[X][M]=B[X],F[O][X]=U[X],F[X][O]=U[X]);return F}function b(F){for(var I=F.length,M=0,O=[0,1],P=0;P<I;P++)for(var k=P+1;k<I;k++)Math.abs(M)<Math.abs(F[P][k])&&(M=Math.abs(F[P][k]),O=[P,k]);return[O,M]}function C(F){for(var I=F.length,M=0,O=[0,1],P=0;P<I;P++)for(var k=P+1;k<I;k++)i(M)<i(F[P][k])&&(M=i(F[P][k]),O=[P,k]);return[O,M]}function S(F,I){for(var M=F.length,O=Array(M),P=Array(M),k=0;k<M;k++)P[k]=Array(M);for(var _=0;_<M;_++){for(var T=0,z=F[0],B=0;B<F.length;B++)i(F[B])<i(z)&&(T=B,z=F[T]);O[_]=F.splice(T,1)[0];for(var U=0;U<M;U++)P[U][_]=I[U][T],I[U].splice(T,1)}return{values:O,vectors:P}}function A(F,I){for(var M=new Array(F),O=0;O<F;O++)M[O]=I;return M}return p}var pj="eigs",dj=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],P1=N(pj,dj,r=>{var{config:e,typed:t,matrix:n,addScalar:i,subtract:a,equal:o,abs:l,atan:u,cos:s,sin:c,multiplyScalar:f,divideScalar:m,inv:p,bignumber:h,multiply:d,add:g,larger:v,column:E,flatten:y,number:D,complex:x,sqrt:b,diag:C,qr:S,usolve:A,usolveAll:F,im:I,re:M,smaller:O,matrixFromColumns:P,dot:k}=r,_=qB({config:e,addScalar:i,subtract:a,column:E,flatten:y,equal:o,abs:l,atan:u,cos:s,sin:c,multiplyScalar:f,inv:p,bignumber:h,complex:x,multiply:d,add:g}),T=LB({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:y,divideScalar:m,sqrt:b,abs:l,bignumber:h,diag:C,qr:S,inv:p,usolve:A,usolveAll:F,equal:o,complex:x,larger:v,smaller:O,matrixFromColumns:P,dot:k});return t("eigs",{Array:function(X){var se=n(X);return z(se)},"Array, number|BigNumber":function(X,se){var te=n(X);return z(te,se)},Matrix:function(X){var{values:se,vectors:te}=z(X);return{values:n(se),vectors:n(te)}},"Matrix, number|BigNumber":function(X,se){var{values:te,vectors:me}=z(X,se);return{values:n(te),vectors:n(me)}}});function z(L,X){X===void 0&&(X=e.epsilon);var se=L.size();if(se.length!==2||se[0]!==se[1])throw new RangeError("Matrix must be square (size: "+rt(se)+")");var te=L.toArray(),me=se[0];if(U(te,me,X)&&(Y(te,me),B(te,me,X))){var de=J(L,te,me);return _(te,me,X,de)}var fe=J(L,te,me);return T(te,me,X,fe)}function B(L,X,se){for(var te=0;te<X;te++)for(var me=te;me<X;me++)if(v(h(l(a(L[te][me],L[me][te]))),se))return!1;return!0}function U(L,X,se){for(var te=0;te<X;te++)for(var me=0;me<X;me++)if(v(h(l(I(L[te][me]))),se))return!1;return!0}function Y(L,X){for(var se=0;se<X;se++)for(var te=0;te<X;te++)L[se][te]=M(L[se][te])}function J(L,X,se){var te=L.datatype();if(te==="number"||te==="BigNumber"||te==="Complex")return te;for(var me=!1,de=!1,fe=!1,ue=0;ue<se;ue++)for(var xe=0;xe<se;xe++){var We=X[ue][xe];if(tt(We)||ia(We))me=!0;else if($e(We))de=!0;else if(Sn(We))fe=!0;else throw TypeError("Unsupported type in Matrix: "+wt(We))}if(de&&fe&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),fe){for(var Ne=0;Ne<se;Ne++)for(var Ve=0;Ve<se;Ve++)X[Ne][Ve]=x(X[Ne][Ve]);return"Complex"}if(de){for(var W=0;W<se;W++)for(var j=0;j<se;j++)X[W][j]=h(X[W][j]);return"BigNumber"}if(me){for(var le=0;le<se;le++)for(var H=0;H<se;H++)X[le][H]=D(X[le][H]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var VB="expm",hj=["typed","abs","add","identity","inv","multiply"],L1=N(VB,hj,r=>{var{typed:e,abs:t,add:n,identity:i,inv:a,multiply:o}=r;return e(VB,{Matrix:function(f){var m=f.size();if(m.length!==2||m[0]!==m[1])throw new RangeError("Matrix must be square (size: "+rt(m)+")");for(var p=m[0],h=1e-15,d=l(f),g=u(d,h),v=g.q,E=g.j,y=o(f,Math.pow(2,-E)),D=i(p),x=i(p),b=1,C=y,S=-1,A=1;A<=v;A++)A>1&&(C=o(C,y),S=-S),b=b*(v-A+1)/((2*v-A+1)*A),D=n(D,o(b,C)),x=n(x,o(b*S,C));for(var F=o(a(x),D),I=0;I<E;I++)F=o(F,F);return Fi(f)?f.createSparseMatrix(F):F}});function l(c){for(var f=c.size()[0],m=0,p=0;p<f;p++){for(var h=0,d=0;d<f;d++)h+=t(c.get([p,d]));m=Math.max(h,m)}return m}function u(c,f){for(var m=30,p=0;p<m;p++)for(var h=0;h<=p;h++){var d=p-h;if(s(c,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function s(c,f,m){for(var p=1,h=2;h<=f;h++)p*=h;for(var d=p,g=f+1;g<=2*f;g++)d*=g;var v=d*(2*f+1);return 8*Math.pow(c/Math.pow(2,m),2*f)*p*p/(d*v)}});var UB="sqrtm",gj=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],q1=N(UB,gj,r=>{var{typed:e,abs:t,add:n,multiply:i,map:a,sqrt:o,subtract:l,inv:u,size:s,max:c,identity:f}=r,m=1e3,p=1e-6;function h(d){var g,v=0,E=d,y=f(s(d));do{var D=E;if(E=i(.5,n(D,u(y))),y=i(.5,n(y,u(D))),g=c(t(l(E,D))),g>p&&++v>m)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>p);return E}return e(UB,{"Array | Matrix":function(g){var v=He(g)?g.size():Qe(g);switch(v.length){case 1:if(v[0]===1)return a(g,o);throw new RangeError("Matrix must be square (size: "+rt(v)+")");case 2:{var E=v[0],y=v[1];if(E===y)return h(g);throw new RangeError("Matrix must be square (size: "+rt(v)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+rt(v)+")")}}})});var zB="sylvester",vj=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],V1=N(zB,vj,r=>{var{typed:e,schur:t,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:l,transpose:u,index:s,subset:c,add:f,subtract:m,identity:p,lusolve:h,abs:d}=r;return e(zB,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(E,y,D){return g(i(E),y,D)},"Array, Array, Matrix":function(E,y,D){return g(i(E),i(y),D)},"Array, Matrix, Array":function(E,y,D){return g(i(E),y,i(D))},"Matrix, Array, Matrix":function(E,y,D){return g(E,i(y),D)},"Matrix, Array, Array":function(E,y,D){return g(E,i(y),i(D))},"Matrix, Matrix, Array":function(E,y,D){return g(E,y,i(D))},"Array, Array, Array":function(E,y,D){return g(i(E),i(y),i(D)).toArray()}});function g(v,E,y){for(var D=E.size()[0],x=v.size()[0],b=t(v),C=b.T,S=b.U,A=t(a(-1,E)),F=A.T,I=A.U,M=a(a(u(S),y),I),O=o(0,x),P=[],k=(We,Ne)=>l(We,Ne,1),_=(We,Ne)=>l(We,Ne,0),T=0;T<D;T++)if(T<D-1&&d(c(F,s(T+1,T)))>1e-5){for(var z=_(c(M,s(O,T)),c(M,s(O,T+1))),B=0;B<T;B++)z=f(z,_(a(P[B],c(F,s(B,T))),a(P[B],c(F,s(B,T+1)))));var U=a(p(x),a(-1,c(F,s(T,T)))),Y=a(p(x),a(-1,c(F,s(T+1,T)))),J=a(p(x),a(-1,c(F,s(T,T+1)))),L=a(p(x),a(-1,c(F,s(T+1,T+1)))),X=_(k(f(C,U),Y),k(J,f(C,L))),se=h(X,z);P[T]=se.subset(s(o(0,x),0)),P[T+1]=se.subset(s(o(x,2*x),0)),T++}else{for(var te=c(M,s(O,T)),me=0;me<T;me++)te=f(te,a(P[me],c(F,s(me,T))));var de=c(F,s(T,T)),fe=m(C,a(de,p(x)));P[T]=h(fe,te)}var ue=i(n(...P)),xe=a(S,a(ue,u(I)));return xe}});var WB="schur",yj=["typed","matrix","identity","multiply","qr","norm","subtract"],U1=N(WB,yj,r=>{var{typed:e,matrix:t,identity:n,multiply:i,qr:a,norm:o,subtract:l}=r;return e(WB,{Array:function(c){var f=u(t(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return u(c)}});function u(s){var c=s.size()[0],f=s,m=n(c),p=0,h;do{h=f;var d=a(f),g=d.Q,v=d.R;if(f=i(v,g),m=i(m,g),p++>100)break}while(o(l(f,h))>1e-4);return{U:m,T:f}}});var HB="lyap",xj=["typed","matrix","sylvester","multiply","transpose"],z1=N(HB,xj,r=>{var{typed:e,matrix:t,sylvester:n,multiply:i,transpose:a}=r;return e(HB,{"Matrix, Matrix":function(l,u){return n(l,a(l),i(-1,u))},"Array, Matrix":function(l,u){return n(t(l),a(t(l)),i(-1,u))},"Matrix, Array":function(l,u){return n(l,a(t(l)),t(i(-1,u)))},"Array, Array":function(l,u){return n(t(l),a(t(l)),t(i(-1,u))).toArray()}})});var bj="divide",Dj=["typed","matrix","multiply","equalScalar","divideScalar","inv"],W1=N(bj,Dj,r=>{var{typed:e,matrix:t,multiply:n,equalScalar:i,divideScalar:a,inv:o}=r,l=Lt({typed:e,equalScalar:i}),u=Sr({typed:e});return e("divide",xf({"Array | Matrix, Array | Matrix":function(c,f){return n(c,o(f))},"DenseMatrix, any":function(c,f){return u(c,f,a,!1)},"SparseMatrix, any":function(c,f){return l(c,f,a,!1)},"Array, any":function(c,f){return u(t(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,o(f))}},a.signatures))});var GB="distance",wj=["typed","addScalar","subtract","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],H1=N(GB,wj,r=>{var{typed:e,addScalar:t,subtract:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:l,abs:u}=r;return e(GB,{"Array, Array, Array":function(x,b,C){if(x.length===2&&b.length===2&&C.length===2){if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,C))throw new TypeError("LinePoint1 should not be same with LinePoint2");var S=n(C[1],b[1]),A=n(b[0],C[0]),F=n(i(C[0],b[1]),i(b[0],C[1]));return g(x[0],x[1],S,A,F)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(x,b,C){if(Object.keys(x).length===2&&Object.keys(b).length===2&&Object.keys(C).length===2){if(!c(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(b),h(C)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var S=n(C.lineTwoPtY,b.lineOnePtY),A=n(b.lineOnePtX,C.lineTwoPtX),F=n(i(C.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,C.lineTwoPtY));return g(x.pointX,x.pointY,S,A,F)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(x,b){if(x.length===2&&b.length===3){if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(x[0],x[1],b[0],b[1],b[2])}else if(x.length===3&&b.length===6){if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(x[0],x[1],x[2],b[0],b[1],b[2],b[3],b[4],b[5])}else if(x.length===b.length&&x.length>0){if(!m(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!m(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return E(x,b)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(x,b){if(Object.keys(x).length===2&&Object.keys(b).length===3){if(!c(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return g(x.pointX,x.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(b).length===6){if(!f(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return v(x.pointX,x.pointY,x.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===2&&Object.keys(b).length===2){if(!c(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in b&&"pointTwoY"in b)return E([x.pointOneX,x.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(b).length===3){if(!f(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return E([x.pointOneX,x.pointOneY,x.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(x){if(!d(x))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(x)}});function s(D){return typeof D=="number"||$e(D)}function c(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])}function f(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])&&s(D[2])}function m(D){return Array.isArray(D)||(D=h(D)),D.every(s)}function p(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])&&s(D[2])&&s(D[3])&&s(D[4])&&s(D[5])}function h(D){for(var x=Object.keys(D),b=[],C=0;C<x.length;C++)b.push(D[x[C]]);return b}function d(D){if(D[0].length===2&&s(D[0][0])&&s(D[0][1])){if(D.some(x=>x.length!==2||!s(x[0])||!s(x[1])))return!1}else if(D[0].length===3&&s(D[0][0])&&s(D[0][1])&&s(D[0][2])){if(D.some(x=>x.length!==3||!s(x[0])||!s(x[1])||!s(x[2])))return!1}else return!1;return!0}function g(D,x,b,C,S){var A=u(t(t(i(b,D),i(C,x)),S)),F=l(t(i(b,b),i(C,C)));return a(A,F)}function v(D,x,b,C,S,A,F,I,M){var O=[n(i(n(S,x),M),i(n(A,b),I)),n(i(n(A,b),F),i(n(C,D),M)),n(i(n(C,D),I),i(n(S,x),F))];O=l(t(t(i(O[0],O[0]),i(O[1],O[1])),i(O[2],O[2])));var P=l(t(t(i(F,F),i(I,I)),i(M,M)));return a(O,P)}function E(D,x){for(var b=D.length,C=0,S=0,A=0;A<b;A++)S=n(D[A],x[A]),C=t(i(S,S),C);return l(C)}function y(D){for(var x=[],b=[],C=[],S=0;S<D.length-1;S++)for(var A=S+1;A<D.length;A++)D[0].length===2?(b=[D[S][0],D[S][1]],C=[D[A][0],D[A][1]]):D[0].length===3&&(b=[D[S][0],D[S][1],D[S][2]],C=[D[A][0],D[A][1],D[A][2]]),x.push(E(b,C));return x}});var Ej="intersect",Cj=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],G1=N(Ej,Cj,r=>{var{typed:e,config:t,abs:n,add:i,addScalar:a,matrix:o,multiply:l,multiplyScalar:u,divideScalar:s,subtract:c,smaller:f,equalScalar:m,flatten:p,isZero:h,isNumeric:d}=r;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":v,"Matrix, Matrix, Matrix":function(I,M,O){var P=g(I.valueOf(),M.valueOf(),O.valueOf());return P===null?null:o(P)},"Matrix, Matrix, Matrix, Matrix":function(I,M,O,P){var k=v(I.valueOf(),M.valueOf(),O.valueOf(),P.valueOf());return k===null?null:o(k)}});function g(F,I,M){if(F=E(F),I=E(I),M=E(M),!D(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(M))throw new TypeError("Array with 4 numbers expected as third argument");return A(F[0],F[1],F[2],I[0],I[1],I[2],M[0],M[1],M[2],M[3])}function v(F,I,M,O){if(F=E(F),I=E(I),M=E(M),O=E(O),F.length===2){if(!y(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return b(F,I,M,O)}else if(F.length===3){if(!D(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!D(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!D(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return S(F[0],F[1],F[2],I[0],I[1],I[2],M[0],M[1],M[2],O[0],O[1],O[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function E(F){return F.length===1?F[0]:F.length>1&&Array.isArray(F[0])&&F.every(I=>Array.isArray(I)&&I.length===1)?p(F):F}function y(F){return F.length===2&&d(F[0])&&d(F[1])}function D(F){return F.length===3&&d(F[0])&&d(F[1])&&d(F[2])}function x(F){return F.length===4&&d(F[0])&&d(F[1])&&d(F[2])&&d(F[3])}function b(F,I,M,O){var P=F,k=M,_=c(P,I),T=c(k,O),z=c(u(_[0],T[1]),u(T[0],_[1]));if(h(z)||f(n(z),t.epsilon))return null;var B=u(T[0],P[1]),U=u(T[1],P[0]),Y=u(T[0],k[1]),J=u(T[1],k[0]),L=s(a(c(c(B,U),Y),J),z);return i(l(_,L),P)}function C(F,I,M,O,P,k,_,T,z,B,U,Y){var J=u(c(F,I),c(M,O)),L=u(c(P,k),c(_,T)),X=u(c(z,B),c(U,Y));return a(a(J,L),X)}function S(F,I,M,O,P,k,_,T,z,B,U,Y){var J=C(F,_,B,_,I,T,U,T,M,z,Y,z),L=C(B,_,O,F,U,T,P,I,Y,z,k,M),X=C(F,_,O,F,I,T,P,I,M,z,k,M),se=C(B,_,B,_,U,T,U,T,Y,z,Y,z),te=C(O,F,O,F,P,I,P,I,k,M,k,M),me=c(u(J,L),u(X,se)),de=c(u(te,se),u(L,L));if(h(de))return null;var fe=s(me,de),ue=s(a(J,u(fe,L)),se),xe=a(F,u(fe,c(O,F))),We=a(I,u(fe,c(P,I))),Ne=a(M,u(fe,c(k,M))),Ve=a(_,u(ue,c(B,_))),W=a(T,u(ue,c(U,T))),j=a(z,u(ue,c(Y,z)));return m(xe,Ve)&&m(We,W)&&m(Ne,j)?[xe,We,Ne]:null}function A(F,I,M,O,P,k,_,T,z,B){var U=u(F,_),Y=u(O,_),J=u(I,T),L=u(P,T),X=u(M,z),se=u(k,z),te=c(c(c(B,U),J),X),me=c(c(c(a(a(Y,L),se),U),J),X),de=s(te,me),fe=a(F,u(de,c(O,F))),ue=a(I,u(de,c(P,I))),xe=a(M,u(de,c(k,M)));return[fe,ue,xe]}});var jB="sum",Fj=["typed","config","add","numeric"],nl=N(jB,Fj,r=>{var{typed:e,config:t,add:n,numeric:i}=r;return e(jB,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(u){if(ui(u))throw new TypeError("Scalar values expected in function sum");return a(u)}});function a(l){var u;return dn(l,function(s){try{u=u===void 0?s:n(u,s)}catch(c){throw yr(c,"sum",s)}}),u===void 0&&(u=i(0,t.number)),typeof u=="string"&&(u=i(u,t.number)),u}function o(l,u){try{var s=Ua(l,u,n);return s}catch(c){throw yr(c,"sum")}}});var Fm="cumsum",Aj=["typed","add","unaryPlus"],il=N(Fm,Aj,r=>{var{typed:e,add:t,unaryPlus:n}=r;return e(Fm,{Array:i,Matrix:function(s){return s.create(i(s.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(s,c){return s.create(o(s.valueOf(),c))},"...":function(s){if(ui(s))throw new TypeError("All values expected to be scalar in function cumsum");return i(s)}});function i(u){try{return a(u)}catch(s){throw yr(s,Fm)}}function a(u){if(u.length===0)return[];for(var s=[n(u[0])],c=1;c<u.length;++c)s.push(t(s[c-1],u[c]));return s}function o(u,s){var c=Qe(u);if(s<0||s>=c.length)throw new sn(s,c.length);try{return l(u,s)}catch(f){throw yr(f,Fm)}}function l(u,s){var c,f,m;if(s<=0){var p=u[0][0];if(Array.isArray(p)){for(m=qf(u),f=[],c=0;c<m.length;c++)f[c]=l(m[c],s-1);return f}else return a(u)}else{for(f=[],c=0;c<u.length;c++)f[c]=l(u[c],s-1);return f}}});var ZB="mean",Sj=["typed","add","divide"],al=N(ZB,Sj,r=>{var{typed:e,add:t,divide:n}=r;return e(ZB,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(l){if(ui(l))throw new TypeError("Scalar values expected in function mean");return a(l)}});function i(o,l){try{var u=Ua(o,l,t),s=Array.isArray(o)?Qe(o):o.size();return n(u,s[l])}catch(c){throw yr(c,"mean")}}function a(o){var l,u=0;if(dn(o,function(s){try{l=l===void 0?s:t(l,s),u++}catch(c){throw yr(c,"mean",s)}}),u===0)throw new Error("Cannot calculate the mean of an empty array");return n(l,u)}});var YB="median",Nj=["typed","add","divide","compare","partitionSelect"],j1=N(YB,Nj,r=>{var{typed:e,add:t,divide:n,compare:i,partitionSelect:a}=r;function o(s){try{s=dt(s.valueOf());var c=s.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,m=a(s,f+1),p=s[f],h=0;h<f;++h)i(s[h],p)>0&&(p=s[h]);return u(p,m)}else{var d=a(s,(c-1)/2);return l(d)}}catch(g){throw yr(g,"median")}}var l=e({"number | BigNumber | Complex | Unit":function(c){return c}}),u=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(t(c,f),2)}});return e(YB,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(ui(c))throw new TypeError("Scalar values expected in function median");return o(c)}})});var JB="mad",Mj=["typed","abs","map","median","subtract"],Z1=N(JB,Mj,r=>{var{typed:e,abs:t,map:n,median:i,subtract:a}=r;return e(JB,{"Array | Matrix":o,"...":function(u){return o(u)}});function o(l){if(l=dt(l.valueOf()),l.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var u=i(l);return i(n(l,function(s){return t(a(s,u))}))}catch(s){throw s instanceof TypeError&&s.message.indexOf("median")!==-1?new TypeError(s.message.replace("median","mad")):yr(s,"mad")}}});var Y1="unbiased",XB="variance",_j=["typed","add","subtract","multiply","divide","apply","isNaN"],ol=N(XB,_j,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:l}=r;return e(XB,{"Array | Matrix":function(f){return u(f,Y1)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(f,m){return s(f,m,Y1)},"Array | Matrix, number | BigNumber, string":s,"...":function(f){return u(f,Y1)}});function u(c,f){var m,p=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(dn(c,function(g){try{m=m===void 0?g:t(m,g),p++}catch(v){throw yr(v,"variance",g)}}),p===0)throw new Error("Cannot calculate variance of an empty array");var h=a(m,p);if(m=void 0,dn(c,function(g){var v=n(g,h);m=m===void 0?i(v,v):t(m,i(v,v))}),l(m))return m;switch(f){case"uncorrected":return a(m,p);case"biased":return a(m,p+1);case"unbiased":{var d=$e(m)?m.mul(0):0;return p===1?d:a(m,p-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function s(c,f,m){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,f,p=>u(p,m))}catch(p){throw yr(p,"variance")}}});var QB="quantileSeq",Tj=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],sl=N(QB,Tj,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:m}=r,p=wo({typed:e,isInteger:s});return e(QB,{"Array | Matrix, number | BigNumber":(E,y)=>d(E,y,!1),"Array | Matrix, number | BigNumber, number":(E,y,D)=>h(E,y,!1,D,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(E,y,D,x)=>h(E,y,D,x,d),"Array | Matrix, Array | Matrix":(E,y)=>g(E,y,!1),"Array | Matrix, Array | Matrix, number":(E,y,D)=>h(E,y,!1,D,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(E,y,D,x)=>h(E,y,D,x,g)});function h(E,y,D,x,b){return p(E,x,C=>b(C,y,D))}function d(E,y,D){var x,b=E.valueOf();if(c(y,0))throw new Error("N/prob must be non-negative");if(f(y,1))return tt(y)?v(b,y,D):t(v(b,y,D));if(m(y,1)){if(!s(y))throw new Error("N must be a positive integer");if(m(y,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var C=n(y,1);x=[];for(var S=0;c(S,y);S++){var A=a(S+1,C);x.push(v(b,A,D))}return tt(y)?x:t(x)}}function g(E,y,D){for(var x=E.valueOf(),b=y.valueOf(),C=[],S=0;S<b.length;++S)C.push(v(x,b[S],D));return C}function v(E,y,D){var x=dt(E),b=x.length;if(b===0)throw new Error("Cannot calculate quantile of an empty sequence");var C=tt(y)?y*(b-1):y.times(b-1),S=tt(y)?Math.floor(C):C.floor().toNumber(),A=tt(y)?C%1:C.minus(S);if(s(C))return D?x[C]:l(x,tt(y)?C:C.valueOf());var F,I;if(D)F=x[S],I=x[S+1];else{I=l(x,S+1),F=x[S];for(var M=0;M<S;++M)u(x[M],F)>0&&(F=x[M])}return n(o(F,i(1,A)),o(I,A))}});var KB="std",Ij=["typed","map","sqrt","variance"],ul=N(KB,Ij,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r;return e(KB,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(l){return a(l)}});function a(o,l){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var u=i.apply(null,arguments);return Nn(u)?t(u,n):n(u)}catch(s){throw s instanceof TypeError&&s.message.indexOf(" variance")!==-1?new TypeError(s.message.replace(" variance"," std")):s}}});var $B="corr",Bj=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],J1=N($B,Bj,r=>{var{typed:e,matrix:t,sqrt:n,sum:i,add:a,subtract:o,multiply:l,pow:u,divide:s}=r;return e($B,{"Array, Array":function(p,h){return c(p,h)},"Matrix, Matrix":function(p,h){var d=c(p.toArray(),h.toArray());return Array.isArray(d)?t(d):d}});function c(m,p){var h=[];if(Array.isArray(m[0])&&Array.isArray(p[0])){if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<m.length;d++){if(m[d].length!==p[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(m[d],p[d]))}return h}else{if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(m,p)}}function f(m,p){var h=m.length,d=i(m),g=i(p),v=m.reduce((b,C,S)=>a(b,l(C,p[S])),0),E=i(m.map(b=>u(b,2))),y=i(p.map(b=>u(b,2))),D=o(l(h,v),l(d,g)),x=n(l(o(l(h,E),u(d,2)),o(l(h,y),u(g,2))));return s(D,x)}});var eO="combinations",Oj=["typed"],X1=N(eO,Oj,r=>{var{typed:e}=r;return e(eO,{"number, number":cg,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,l,u=n.minus(i),s=new a(1);if(!tO(n)||!tO(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=s,i.lt(u))for(l=s;l.lte(u);l=l.plus(s))o=o.times(i.plus(l)).dividedBy(l);else for(l=s;l.lte(i);l=l.plus(s))o=o.times(u.plus(l)).dividedBy(l);return o}})});function tO(r){return r.isInteger()&&r.gte(0)}var rO="combinationsWithRep",Rj=["typed"],Q1=N(rO,Rj,r=>{var{typed:e}=r;return e(rO,{"number, number":function(n,i){if(!Ue(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ue(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Zn(n,n+i-1);return a/Zn(1,i)}var o=Zn(i+1,n+i-1);return o/Zn(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,l,u=new a(1),s=n.minus(u);if(!nO(n)||!nO(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(u))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=u,i.lt(s))for(l=u;l.lte(s);l=l.plus(u))o=o.times(i.plus(l)).dividedBy(l);else for(l=u;l.lte(i);l=l.plus(u))o=o.times(s.plus(l)).dividedBy(l);return o}})});function nO(r){return r.isInteger()&&r.gte(0)}var iO="gamma",kj=["typed","config","multiplyScalar","pow","BigNumber","Complex"],K1=N(iO,kj,r=>{var{typed:e,config:t,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=r;function l(s){if(s.im===0)return Vu(s.re);if(s.re<.5){var c=new o(1-s.re,-s.im),f=new o(Math.PI*s.re,Math.PI*s.im);return new o(Math.PI).div(f.sin()).div(l(c))}s=new o(s.re-1,s.im);for(var m=new o(Do[0],0),p=1;p<Do.length;++p){var h=new o(Do[p],0);m=m.add(h.div(s.add(p)))}var d=new o(s.re+gg+.5,s.im),g=Math.sqrt(2*Math.PI),v=d.pow(s.add(.5)),E=d.neg().exp();return m.mul(g).mul(v).mul(E)}return e(iO,{number:Vu,Complex:l,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):u(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function u(s){if(s<8)return new a([1,1,2,6,24,120,720,5040][s]);var c=t.precision+(Math.log(s.toNumber())|0),f=a.clone({precision:c});if(s%2===1)return s.times(u(new a(s-1)));for(var m=s,p=new f(s),h=s.toNumber();m>2;)m-=2,h+=m,p=p.times(h);return new a(p.toPrecision(a.precision))}});var aO="lgamma",Pj=["Complex","typed"],$1=N(aO,Pj,r=>{var{Complex:e,typed:t}=r,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(aO,{number:Uu,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(s){var c=6.283185307179586,f=1.1447298858494002,m=.1;if(s.isNaN())return new e(NaN,NaN);if(s.im===0)return new e(Uu(s.re),0);if(s.re>=n||Math.abs(s.im)>=i)return l(s);if(s.re<=m){var p=V2(c,s.im)*Math.floor(.5*s.re+.25),h=s.mul(Math.PI).sin().log(),d=o(new e(1-s.re,-s.im));return new e(f,p).sub(h).sub(d)}else return s.im>=0?u(s):u(s.conjugate()).conjugate()}function l(s){for(var c=s.sub(.5).mul(s.log()).sub(s).add(vg),f=new e(1,0).div(s),m=f.div(s),p=a[0],h=a[1],d=2*m.re,g=m.re*m.re+m.im*m.im,v=2;v<8;v++){var E=h;h=-g*p+a[v],p=d*p+E}var y=f.mul(m.mul(p).add(h));return c.add(y)}function u(s){var c=0,f=0,m=s;for(s=s.add(1);s.re<=n;){m=m.mul(s);var p=m.im<0?1:0;p!==0&&f===0&&c++,f=p,s=s.add(1)}return l(s).sub(m.log()).sub(new e(0,c*2*Math.PI*1))}});var oO="factorial",Lj=["typed","gamma"],ex=N(oO,Lj,r=>{var{typed:e,gamma:t}=r;return e(oO,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>je(i,n))})});var sO="kldivergence",qj=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],tx=N(sO,qj,r=>{var{typed:e,matrix:t,divide:n,sum:i,multiply:a,map:o,dotDivide:l,log:u,isNumeric:s}=r;return e(sO,{"Array, Array":function(m,p){return c(t(m),t(p))},"Matrix, Array":function(m,p){return c(m,t(p))},"Array, Matrix":function(m,p){return c(t(m),p)},"Matrix, Matrix":function(m,p){return c(m,p)}});function c(f,m){var p=m.size().length,h=f.size().length;if(p>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(p!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var g=i(m);if(g===0)throw new Error("Sum of elements in second object must be non zero");var v=n(f,i(f)),E=n(m,i(m)),y=i(a(v,o(l(v,E),D=>u(D))));return s(y)?y:Number.NaN}});var uO="multinomial",Vj=["typed","add","divide","multiply","factorial","isInteger","isPositive"],rx=N(uO,Vj,r=>{var{typed:e,add:t,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:l}=r;return e(uO,{"Array | Matrix":function(s){var c=0,f=1;return dn(s,function(m){if(!o(m)||!l(m))throw new TypeError("Positive integer value expected in function multinomial");c=t(c,m),f=i(f,a(m))}),n(a(c),f)}})});var lO="permutations",Uj=["typed","factorial"],nx=N(lO,Uj,r=>{var{typed:e,factorial:t}=r;return e(lO,{"number | BigNumber":t,"number, number":function(i,a){if(!Ue(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ue(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Zn(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,l;if(!cO(i)||!cO(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var u=i.mul(0).add(1);for(o=u,l=i.minus(a).plus(1);l.lte(i);l=l.plus(1))o=o.times(l);return o}})});function cO(r){return r.isInteger()&&r.gte(0)}var cx=wr(AO(),1),Yj=(0,cx.default)(Date.now());function fa(r){var e;function t(i){e=i===null?Yj:(0,cx.default)(String(i))}t(r);function n(){return e()}return n}var SO="pickRandom",Jj=["typed","config","?on"],fx=N(SO,Jj,r=>{var{typed:e,config:t,on:n}=r,i=fa(t.randomSeed);return n&&n("config",function(o,l){o.randomSeed!==l.randomSeed&&(i=fa(o.randomSeed))}),e(SO,{"Array | Matrix":function(l){return a(l,{})},"Array | Matrix, Object":function(l,u){return a(l,u)},"Array | Matrix, number":function(l,u){return a(l,{number:u})},"Array | Matrix, Array | Matrix":function(l,u){return a(l,{weights:u})},"Array | Matrix, Array | Matrix, number":function(l,u,s){return a(l,{number:s,weights:u})},"Array | Matrix, number, Array | Matrix":function(l,u,s){return a(l,{number:u,weights:s})}});function a(o,l){var{number:u,weights:s,elementWise:c=!0}=l,f=typeof u=="undefined";f&&(u=1);var m=He(o)?o.create:He(s)?s.create:null;o=o.valueOf(),s&&(s=s.valueOf()),c===!0&&(o=dt(o),s=dt(s));var p=0;if(typeof s!="undefined"){if(s.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=s.length;h<d;h++){if(!tt(s[h])||s[h]<0)throw new Error("Weights must be an array of positive numbers");p+=s[h]}}for(var g=o.length,v=[],E;v.length<u;){if(typeof s=="undefined")E=o[Math.floor(i()*g)];else for(var y=i()*p,D=0,x=o.length;D<x;D++)if(y-=s[D],y<0){E=o[D];break}v.push(E)}return f?v[0]:m?m(v):v}});function ll(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var n=0,i=r.shift();n<i;n++)t.push(ll(r,e));else for(var a=0,o=r.shift();a<o;a++)t.push(e());return t}var NO="random",Xj=["typed","config","?on"],mx=N(NO,Xj,r=>{var{typed:e,config:t,on:n}=r,i=fa(t.randomSeed);return n&&n("config",function(l,u){l.randomSeed!==u.randomSeed&&(i=fa(l.randomSeed))}),e(NO,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,u)=>o(l,u),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,u)=>a(l,0,u),"Array | Matrix, number, number":(l,u,s)=>a(l,u,s)});function a(l,u,s){var c=ll(l.valueOf(),()=>o(u,s));return He(l)?l.create(c):c}function o(l,u){return l+i()*(u-l)}});var MO="randomInt",Qj=["typed","config","?on"],px=N(MO,Qj,r=>{var{typed:e,config:t,on:n}=r,i=fa(t.randomSeed);return n&&n("config",function(l,u){l.randomSeed!==u.randomSeed&&(i=fa(l.randomSeed))}),e(MO,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,u)=>o(l,u),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,u)=>a(l,0,u),"Array | Matrix, number, number":(l,u,s)=>a(l,u,s)});function a(l,u,s){var c=ll(l.valueOf(),()=>o(u,s));return He(l)?l.create(c):c}function o(l,u){return Math.floor(l+i()*(u-l))}});var _O="stirlingS2",Kj=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],dx=N(_O,Kj,r=>{var{typed:e,addScalar:t,subtract:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:l,combinations:u,isNegative:s,isInteger:c,number:f,bignumber:m,larger:p}=r,h=[],d=[];return e(_O,{"number | BigNumber, number | BigNumber":function(v,E){if(!c(v)||s(v)||!c(E)||s(E))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(E,v))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(tt(v)&&tt(E)),D=y?d:h,x=y?m:f,b=f(v),C=f(E);if(D[b]&&D[b].length>C)return D[b][C];for(var S=0;S<=b;++S)if(D[S]||(D[S]=[x(S===0?1:0)]),S!==0)for(var A=D[S],F=D[S-1],I=A.length;I<=S&&I<=C;++I)I===S?A[I]=1:A[I]=t(i(x(I),F[I]),F[I-1]);return D[b][C]}})});var TO="bellNumbers",$j=["typed","addScalar","isNegative","isInteger","stirlingS2"],hx=N(TO,$j,r=>{var{typed:e,addScalar:t,isNegative:n,isInteger:i,stirlingS2:a}=r;return e(TO,{"number | BigNumber":function(l){if(!i(l)||n(l))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var u=0,s=0;s<=l;s++)u=t(u,a(l,s));return u}})});var IO="catalan",eZ=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],gx=N(IO,eZ,r=>{var{typed:e,addScalar:t,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:l}=r;return e(IO,{"number | BigNumber":function(s){if(!l(s)||o(s))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(s,2),s),t(s,1))}})});var BO="composition",tZ=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],vx=N(BO,tZ,r=>{var{typed:e,addScalar:t,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:l}=r;return e(BO,{"number | BigNumber, number | BigNumber":function(s,c){if(!o(s)||!i(s)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(l(c,s))throw new TypeError("k must be less than or equal to n in function composition");return n(t(s,-1),t(c,-1))}})});var OO="leafCount",rZ=["parse","typed"],yx=N(OO,rZ,r=>{var{parse:e,typed:t}=r;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return t(OO,{Node:function(a){return n(a)}})});function xx(r){return vt(r)||er(r)&&r.isUnary()&&vt(r.args[0])}function cl(r){return!!(vt(r)||(Mn(r)||er(r))&&r.args.every(cl)||on(r)&&cl(r.content))}function RO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function bx(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(t),!0).forEach(function(n){Mt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var nZ="simplifyUtil",iZ=["FunctionNode","OperatorNode","SymbolNode"],Ts=N(nZ,iZ,r=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:n}=r,i=!0,a=!1,o="defaultF",l={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},u={divide:{total:a},log:{total:a}},s={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(y,D){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l,b=o;if(typeof y=="string"?b=y:er(y)?b=y.fn.toString():Mn(y)?b=y.name:on(y)&&(b="paren"),Ge(x,b)){var C=x[b];if(Ge(C,D))return C[D];if(Ge(l,b))return l[b][D]}if(Ge(x,o)){var S=x[o];return Ge(S,D)?S[D]:l[o][D]}if(Ge(l,b)){var A=l[b];if(Ge(A,D))return A[D]}return l[o][D]}function f(y){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(y,"commutative",D)}function m(y){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(y,"associative",D)}function p(y,D){var x=bx({},y);for(var b in D)Ge(y,b)?x[b]=bx(bx({},D[b]),y[b]):x[b]=D[b];return x}function h(y,D){if(!y.args||y.args.length===0)return y;y.args=d(y,D);for(var x=0;x<y.args.length;x++)h(y.args[x],D)}function d(y,D){var x,b=[],C=function S(A){for(var F=0;F<A.args.length;F++){var I=A.args[F];er(I)&&x===I.op?S(I):b.push(I)}};return m(y,D)?(x=y.op,C(y),b):y.args}function g(y,D){if(!(!y.args||y.args.length===0)){for(var x=E(y),b=y.args.length,C=0;C<b;C++)g(y.args[C],D);if(b>2&&m(y,D)){for(var S=y.args.pop();y.args.length>0;)S=x([y.args.pop(),S]);y.args=S.args}}}function v(y,D){if(!(!y.args||y.args.length===0)){for(var x=E(y),b=y.args.length,C=0;C<b;C++)v(y.args[C],D);if(b>2&&m(y,D)){for(var S=y.args.shift();y.args.length>0;)S=x([S,y.args.shift()]);y.args=S.args}}}function E(y){return er(y)?function(D){try{return new t(y.op,y.fn,D,y.implicit)}catch(x){return console.error(x),[]}}:function(D){return new e(new n(y.name),D)}}return{createMakeNodeFunction:E,hasProperty:c,isCommutative:f,isAssociative:m,mergeContext:p,flatten:h,allChildren:d,unflattenr:g,unflattenl:v,defaultContext:l,realContext:u,positiveContext:s}});var aZ="simplify",oZ=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Dx=N(aZ,oZ,r=>{var{config:e,typed:t,parse:n,add:i,subtract:a,multiply:o,divide:l,pow:u,isZero:s,equal:c,resolve:f,simplifyConstant:m,simplifyCore:p,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:E,ArrayNode:y,ConstantNode:D,FunctionNode:x,IndexNode:b,ObjectNode:C,OperatorNode:S,ParenthesisNode:A,SymbolNode:F}=r,{hasProperty:I,isCommutative:M,isAssociative:O,mergeContext:P,flatten:k,unflattenr:_,unflattenl:T,createMakeNodeFunction:z,defaultContext:B,realContext:U,positiveContext:Y}=Ts({FunctionNode:x,OperatorNode:S,SymbolNode:F});t.addConversion({from:"Object",to:"Map",convert:oa});var J=t("simplify",{Node:fe,"Node, Map":(H,Q)=>fe(H,!1,Q),"Node, Map, Object":(H,Q,ne)=>fe(H,!1,Q,ne),"Node, Array":fe,"Node, Array, Map":fe,"Node, Array, Map, Object":fe});t.removeConversion({from:"Object",to:"Map",convert:oa}),J.defaultContext=B,J.realContext=U,J.positiveContext=Y;function L(H){return H.transform(function(Q,ne,ye){return on(Q)?L(Q.content):Q})}var X={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};J.rules=[p,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},m,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},m,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function se(H,Q){var ne={};if(H.s){var ye=H.s.split("->");if(ye.length===2)ne.l=ye[0],ne.r=ye[1];else throw SyntaxError("Could not parse rule: "+H.s)}else ne.l=H.l,ne.r=H.r;ne.l=L(n(ne.l)),ne.r=L(n(ne.r));for(var ge of["imposeContext","repeat","assuming"])ge in H&&(ne[ge]=H[ge]);if(H.evaluate&&(ne.evaluate=n(H.evaluate)),O(ne.l,Q)){var ke=!M(ne.l,Q),Ee;ke&&(Ee=de());var mt=z(ne.l),Dt=de();ne.expanded={},ne.expanded.l=mt([ne.l,Dt]),k(ne.expanded.l,Q),_(ne.expanded.l,Q),ne.expanded.r=mt([ne.r,Dt]),ke&&(ne.expandedNC1={},ne.expandedNC1.l=mt([Ee,ne.l]),ne.expandedNC1.r=mt([Ee,ne.r]),ne.expandedNC2={},ne.expandedNC2.l=mt([Ee,ne.expanded.l]),ne.expandedNC2.r=mt([Ee,ne.expanded.r]))}return ne}function te(H,Q){for(var ne=[],ye=0;ye<H.length;ye++){var ge=H[ye],ke=void 0,Ee=typeof ge;switch(Ee){case"string":ge={s:ge};case"object":ke=se(ge,Q);break;case"function":ke=ge;break;default:throw TypeError("Unsupported type of rule: "+Ee)}ne.push(ke)}return ne}var me=0;function de(){return new F("_p"+me++)}function fe(H,Q){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hi(),ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ge=ye.consoleDebug;Q=te(Q||J.rules,ye.context);var ke=f(H,ne);ke=L(ke);for(var Ee={},mt=ke.toString({parenthesis:"all"});!Ee[mt];){Ee[mt]=!0,me=0;var Dt=mt;ge&&console.log("Working on: ",mt);for(var It=0;It<Q.length;It++){var Ht="";if(typeof Q[It]=="function"?(ke=Q[It](ke,ye),ge&&(Ht=Q[It].name)):(k(ke,ye.context),ke=xe(ke,Q[It],ye.context),ge&&(Ht="".concat(Q[It].l.toString()," -> ").concat(Q[It].r.toString()))),ge){var G=ke.toString({parenthesis:"all"});G!==Dt&&(console.log("Applying",Ht,"produced",G),Dt=G)}T(ke,ye.context)}mt=ke.toString({parenthesis:"all"})}return ke}function ue(H,Q,ne){var ye=H;if(H)for(var ge=0;ge<H.length;++ge){var ke=xe(H[ge],Q,ne);ke!==H[ge]&&(ye===H&&(ye=H.slice()),ye[ge]=ke)}return ye}function xe(H,Q,ne){if(Q.assuming){for(var ye in Q.assuming)for(var ge in Q.assuming[ye])if(I(ye,ge,ne)!==Q.assuming[ye][ge])return H}var ke=P(Q.imposeContext,ne),Ee=H;if(Ee instanceof S||Ee instanceof x){var mt=ue(Ee.args,Q,ne);mt!==Ee.args&&(Ee=Ee.clone(),Ee.args=mt)}else if(Ee instanceof A){if(Ee.content){var Dt=xe(Ee.content,Q,ne);Dt!==Ee.content&&(Ee=new A(Dt))}}else if(Ee instanceof y){var It=ue(Ee.items,Q,ne);It!==Ee.items&&(Ee=new y(It))}else if(Ee instanceof E){var Ht=Ee.object;Ee.object&&(Ht=xe(Ee.object,Q,ne));var G=Ee.index;Ee.index&&(G=xe(Ee.index,Q,ne)),(Ht!==Ee.object||G!==Ee.index)&&(Ee=new E(Ht,G))}else if(Ee instanceof b){var re=ue(Ee.dimensions,Q,ne);re!==Ee.dimensions&&(Ee=new b(re))}else if(Ee instanceof C){var ce=!1,be={};for(var Ce in Ee.properties)be[Ce]=xe(Ee.properties[Ce],Q,ne),be[Ce]!==Ee.properties[Ce]&&(ce=!0);ce&&(Ee=new C(be))}var De=Q.r,Pe=j(Q.l,Ee,ke)[0];if(!Pe&&Q.expanded&&(De=Q.expanded.r,Pe=j(Q.expanded.l,Ee,ke)[0]),!Pe&&Q.expandedNC1&&(De=Q.expandedNC1.r,Pe=j(Q.expandedNC1.l,Ee,ke)[0],Pe||(De=Q.expandedNC2.r,Pe=j(Q.expandedNC2.l,Ee,ke)[0])),Pe){var we=Ee.implicit;Ee=De.clone(),we&&"implicit"in De&&(Ee.implicit=!0),Ee=Ee.transform(function(ze){return ze.isSymbolNode&&Ge(Pe.placeholders,ze.name)?Pe.placeholders[ze.name].clone():ze})}return Q.repeat&&Ee!==H&&(Ee=xe(Ee,Q,ne)),Ee}function We(H,Q){var ne=[],ye,ge,ke=z(H);if(M(H,Q))for(var Ee=0;Ee<H.args.length;Ee++)ge=H.args.slice(0),ge.splice(Ee,1),ye=ge.length===1?ge[0]:ke(ge),ne.push(ke([H.args[Ee],ye]));else for(var mt=1;mt<H.args.length;mt++){var Dt=H.args[0];mt>1&&(Dt=ke(H.args.slice(0,mt))),ge=H.args.slice(mt),ye=ge.length===1?ge[0]:ke(ge),ne.push(ke([Dt,ye]))}return ne}function Ne(H,Q){var ne={placeholders:{}};if(!H.placeholders&&!Q.placeholders)return ne;if(H.placeholders){if(!Q.placeholders)return H}else return Q;for(var ye in H.placeholders)if(Ge(H.placeholders,ye)&&(ne.placeholders[ye]=H.placeholders[ye],Ge(Q.placeholders,ye)&&!le(H.placeholders[ye],Q.placeholders[ye])))return null;for(var ge in Q.placeholders)Ge(Q.placeholders,ge)&&(ne.placeholders[ge]=Q.placeholders[ge]);return ne}function Ve(H,Q){var ne=[];if(H.length===0||Q.length===0)return ne;for(var ye,ge=0;ge<H.length;ge++)for(var ke=0;ke<Q.length;ke++)ye=Ne(H[ge],Q[ke]),ye&&ne.push(ye);return ne}function W(H){if(H.length===0)return H;for(var Q=H.reduce(Ve),ne=[],ye={},ge=0;ge<Q.length;ge++){var ke=JSON.stringify(Q[ge]);ye[ke]||(ye[ke]=!0,ne.push(Q[ge]))}return ne}function j(H,Q,ne,ye){var ge=[{placeholders:{}}];if(H instanceof S&&Q instanceof S||H instanceof x&&Q instanceof x){if(H instanceof S){if(H.op!==Q.op||H.fn!==Q.fn)return[]}else if(H instanceof x&&H.name!==Q.name)return[];if(Q.args.length===1&&H.args.length===1||!O(Q,ne)&&Q.args.length===H.args.length||ye){for(var ke=[],Ee=0;Ee<H.args.length;Ee++){var mt=j(H.args[Ee],Q.args[Ee],ne);if(mt.length===0)break;ke.push(mt)}if(ke.length!==H.args.length){if(!M(Q,ne)||H.args.length===1)return[];if(H.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var Dt=j(H.args[0],Q.args[1],ne);if(Dt.length===0)return[];var It=j(H.args[1],Q.args[0],ne);if(It.length===0)return[];ke=[Dt,It]}ge=W(ke)}else if(Q.args.length>=2&&H.args.length===2){for(var Ht=We(Q,ne),G=[],re=0;re<Ht.length;re++){var ce=j(H,Ht[re],ne,!0);G=G.concat(ce)}return G}else{if(H.args.length>2)throw Error("Unexpected non-binary associative function: "+H.toString());return[]}}else if(H instanceof F){if(H.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(X[H.name]){if(H.name!==Q.name)return[]}else switch(H.name[1]>="a"&&H.name[1]<="z"?H.name.substring(0,2):H.name[0]){case"n":case"_p":ge[0].placeholders[H.name]=Q;break;case"c":case"cl":if(vt(Q))ge[0].placeholders[H.name]=Q;else return[];break;case"v":if(!vt(Q))ge[0].placeholders[H.name]=Q;else return[];break;case"vl":if(Zt(Q))ge[0].placeholders[H.name]=Q;else return[];break;case"cd":if(xx(Q))ge[0].placeholders[H.name]=Q;else return[];break;case"vd":if(!xx(Q))ge[0].placeholders[H.name]=Q;else return[];break;case"ce":if(cl(Q))ge[0].placeholders[H.name]=Q;else return[];break;case"ve":if(!cl(Q))ge[0].placeholders[H.name]=Q;else return[];break;default:throw new Error("Invalid symbol in rule: "+H.name)}}else if(H instanceof D){if(!c(H.value,Q.value))return[]}else return[];return ge}function le(H,Q){if(H instanceof D&&Q instanceof D){if(!c(H.value,Q.value))return!1}else if(H instanceof F&&Q instanceof F){if(H.name!==Q.name)return!1}else if(H instanceof S&&Q instanceof S||H instanceof x&&Q instanceof x){if(H instanceof S){if(H.op!==Q.op||H.fn!==Q.fn)return!1}else if(H instanceof x&&H.name!==Q.name)return!1;if(H.args.length!==Q.args.length)return!1;for(var ne=0;ne<H.args.length;ne++)if(!le(H.args[ne],Q.args[ne]))return!1}else return!1;return!0}return J});var sZ="simplifyConstant",uZ=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],wx=N(sZ,uZ,r=>{var{typed:e,config:t,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:l,ArrayNode:u,ConstantNode:s,FunctionNode:c,IndexNode:f,ObjectNode:m,OperatorNode:p,SymbolNode:h}=r,{isCommutative:d,isAssociative:g,allChildren:v,createMakeNodeFunction:E}=Ts({FunctionNode:c,OperatorNode:p,SymbolNode:h}),y=e("simplifyConstant",{Node:k=>C(P(k,{})),"Node, Object":function(_,T){return C(P(_,T))}});function D(k){return ia(k)?k.valueOf():k instanceof Array?k.map(D):He(k)?i(D(k.valueOf())):k}function x(k,_,T){try{return n[k].apply(null,_)}catch(z){return _=_.map(D),A(n[k].apply(null,_),T)}}var b=e({Fraction:I,number:function(_){return _<0?F(new s(-_)):new s(_)},BigNumber:function(_){return _<0?F(new s(-_)):new s(_)},Complex:function(_){throw new Error("Cannot convert Complex number to Node")},string:function(_){return new s(_)},Matrix:function(_){return new u(_.valueOf().map(T=>b(T)))}});function C(k){return yt(k)?k:b(k)}function S(k,_){var T=_&&_.exactFractions!==!1;if(T&&isFinite(k)&&a){var z=a(k),B=_&&typeof _.fractionsLimit=="number"?_.fractionsLimit:1/0;if(z.valueOf()===k&&z.n<B&&z.d<B)return z}return k}var A=e({"string, Object":function(_,T){if(t.number==="BigNumber")return o===void 0&&Fs(),o(_);if(t.number==="Fraction")return a===void 0&&jf(),a(_);var z=parseFloat(_);return S(z,T)},"Fraction, Object":function(_,T){return _},"BigNumber, Object":function(_,T){return _},"number, Object":function(_,T){return S(_,T)},"Complex, Object":function(_,T){return _.im!==0?_:S(_.re,T)},"Matrix, Object":function(_,T){return i(S(_.valueOf()))},"Array, Object":function(_,T){return _.map(S)}});function F(k){return new p("-","unaryMinus",[k])}function I(k){var _,T=k.s*k.n;return T<0?_=new p("-","unaryMinus",[new s(-T)]):_=new s(T),k.d===1?_:new p("/","divide",[_,new s(k.d)])}function M(k,_,T){if(!oi(_))return new l(C(k),C(_));if(an(k)||He(k)){for(var z=Array.from(_.dimensions);z.length>0;)if(vt(z[0])&&typeof z[0].value!="string"){var B=A(z.shift().value,T);an(k)?k=k.items[B-1]:(k=k.valueOf()[B-1],k instanceof Array&&(k=i(k)))}else if(z.length>1&&vt(z[1])&&typeof z[1].value!="string"){var U=A(z[1].value,T),Y=[],J=an(k)?k.items:k.valueOf();for(var L of J)if(an(L))Y.push(L.items[U-1]);else if(He(k))Y.push(L[U-1]);else break;if(Y.length===J.length)an(k)?k=new u(Y):k=i(Y),z.splice(1,1);else break}else break;return z.length===_.dimensions.length?new l(C(k),_):z.length>0?(_=new f(z),new l(C(k),_)):k}if(Oa(k)&&_.dimensions.length===1&&vt(_.dimensions[0])){var X=_.dimensions[0].value;return X in k.properties?k.properties[X]:new s}return new l(C(k),_)}function O(k,_,T,z){var B=_.shift(),U=_.reduce((Y,J)=>{if(!yt(J)){var L=Y.pop();if(yt(L))return[L,J];try{return Y.push(x(k,[L,J],z)),Y}catch(se){Y.push(L)}}Y.push(C(Y.pop()));var X=Y.length===1?Y[0]:T(Y);return[T([X,C(J)])]},[B]);return U.length===1?U[0]:T([U[0],b(U[1])])}function P(k,_){switch(k.type){case"SymbolNode":return k;case"ConstantNode":switch(typeof k.value){case"number":return A(k.value,_);case"string":return k.value;default:if(!isNaN(k.value))return A(k.value,_)}return k;case"FunctionNode":if(n[k.name]&&n[k.name].rawArgs)return k;{var T=["add","multiply"];if(T.indexOf(k.name)===-1){var z=k.args.map(xe=>P(xe,_));if(!z.some(yt))try{return x(k.name,z,_)}catch(xe){}if(k.name==="size"&&z.length===1&&an(z[0])){for(var B=[],U=z[0];an(U);)B.push(U.items.length),U=U.items[0];return i(B)}return new c(k.name,z.map(C))}}case"OperatorNode":{var Y=k.fn.toString(),J,L,X=E(k);if(er(k)&&k.isUnary())J=[P(k.args[0],_)],yt(J[0])?L=X(J):L=x(Y,J,_);else if(g(k,_.context))if(J=v(k,_.context),J=J.map(xe=>P(xe,_)),d(Y,_.context)){for(var se=[],te=[],me=0;me<J.length;me++)yt(J[me])?te.push(J[me]):se.push(J[me]);se.length>1?(L=O(Y,se,X,_),te.unshift(L),L=O(Y,te,X,_)):L=O(Y,J,X,_)}else L=O(Y,J,X,_);else J=k.args.map(xe=>P(xe,_)),L=O(Y,J,X,_);return L}case"ParenthesisNode":return P(k.content,_);case"AccessorNode":return M(P(k.object,_),P(k.index,_),_);case"ArrayNode":{var de=k.items.map(xe=>P(xe,_));return de.some(yt)?new u(de.map(C)):i(de)}case"IndexNode":return new f(k.dimensions.map(xe=>y(xe,_)));case"ObjectNode":{var fe={};for(var ue in k.properties)fe[ue]=y(k.properties[ue],_);return new m(fe)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(k.type))}}return y});var kO="simplifyCore",lZ=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Ex=N(kO,lZ,r=>{var{typed:e,parse:t,equal:n,isZero:i,add:a,subtract:o,multiply:l,divide:u,pow:s,AccessorNode:c,ArrayNode:f,ConstantNode:m,FunctionNode:p,IndexNode:h,ObjectNode:d,OperatorNode:g,ParenthesisNode:v,SymbolNode:E}=r,y=new m(0),D=new m(1),x=new m(!0),b=new m(!1);function C(I){return er(I)&&["and","not","or"].includes(I.op)}var{hasProperty:S,isCommutative:A}=Ts({FunctionNode:p,OperatorNode:g,SymbolNode:E});function F(I){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=M?M.context:void 0;if(S(I,"trivial",O)){if(Mn(I)&&I.args.length===1)return F(I.args[0],M);var P=!1,k=0;if(I.forEach(te=>{++k,k===1&&(P=F(te,M))}),k===1)return P}var _=I;if(Mn(_)){var T=OM(_.name);if(T){if(_.args.length>2&&S(_,"associative",O))for(;_.args.length>2;){var z=_.args.pop(),B=_.args.pop();_.args.push(new g(T,_.name,[z,B]))}_=new g(T,_.name,_.args)}else return new p(F(_.fn),_.args.map(te=>F(te,M)))}if(er(_)&&_.isUnary()){var U=F(_.args[0],M);if(_.op==="~"&&er(U)&&U.isUnary()&&U.op==="~"||_.op==="not"&&er(U)&&U.isUnary()&&U.op==="not"&&C(U.args[0]))return U.args[0];var Y=!0;if(_.op==="-"&&er(U)&&(U.isBinary()&&U.fn==="subtract"&&(_=new g("-","subtract",[U.args[1],U.args[0]]),Y=!1),U.isUnary()&&U.op==="-"))return U.args[0];if(Y)return new g(_.op,_.fn,[U])}if(er(_)&&_.isBinary()){var J=F(_.args[0],M),L=F(_.args[1],M);if(_.op==="+"){if(vt(J)&&i(J.value))return L;if(vt(L)&&i(L.value))return J;er(L)&&L.isUnary()&&L.op==="-"&&(L=L.args[0],_=new g("-","subtract",[J,L]))}if(_.op==="-")return er(L)&&L.isUnary()&&L.op==="-"?F(new g("+","add",[J,L.args[0]]),M):vt(J)&&i(J.value)?F(new g("-","unaryMinus",[L])):vt(L)&&i(L.value)?J:new g(_.op,_.fn,[J,L]);if(_.op==="*"){if(vt(J)){if(i(J.value))return y;if(n(J.value,1))return L}if(vt(L)){if(i(L.value))return y;if(n(L.value,1))return J;if(A(_,O))return new g(_.op,_.fn,[L,J],_.implicit)}return new g(_.op,_.fn,[J,L],_.implicit)}if(_.op==="/")return vt(J)&&i(J.value)?y:vt(L)&&n(L.value,1)?J:new g(_.op,_.fn,[J,L]);if(_.op==="^"&&vt(L)){if(i(L.value))return D;if(n(L.value,1))return J}if(_.op==="and"){if(vt(J))if(J.value){if(C(L))return L}else return b;if(vt(L))if(L.value){if(C(J))return J}else return b}if(_.op==="or"){if(vt(J)){if(J.value)return x;if(C(L))return L}if(vt(L)){if(L.value)return x;if(C(J))return J}}return new g(_.op,_.fn,[J,L])}if(er(_))return new g(_.op,_.fn,_.args.map(te=>F(te,M)));if(an(_))return new f(_.items.map(te=>F(te,M)));if(jn(_))return new c(F(_.object,M),F(_.index,M));if(oi(_))return new h(_.dimensions.map(te=>F(te,M)));if(Oa(_)){var X={};for(var se in _.properties)X[se]=F(_.properties[se],M);return new d(X)}return _}return e(kO,{Node:F,"Node,Object":F})});var cZ="resolve",fZ=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],Cx=N(cZ,fZ,r=>{var{typed:e,parse:t,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=r;function l(u,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!s)return u;if(Zt(u)){if(c.has(u.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var m=s.get(u.name);if(yt(m)){var p=new Set(c);return p.add(u.name),l(m,s,p)}else return typeof m=="number"?t(String(m)):m!==void 0?new n(m):u}else if(er(u)){var h=u.args.map(function(g){return l(g,s,c)});return new a(u.op,u.fn,h,u.implicit)}else{if(on(u))return new o(l(u.content,s,c));if(Mn(u)){var d=u.args.map(function(g){return l(g,s,c)});return new i(u.name,d)}}return u.map(g=>l(g,s,c))}return e("resolve",{Node:l,"Node, Map | null | undefined":l,"Node, Object":(u,s)=>l(u,oa(s)),"Array | Matrix":e.referToSelf(u=>s=>s.map(c=>u(c))),"Array | Matrix, null | undefined":e.referToSelf(u=>s=>s.map(c=>u(c))),"Array, Object":e.referTo("Array,Map",u=>(s,c)=>u(s,oa(c))),"Matrix, Object":e.referTo("Matrix,Map",u=>(s,c)=>u(s,oa(c))),"Array | Matrix, Map":e.referToSelf(u=>(s,c)=>s.map(f=>u(f,c)))})});var PO="symbolicEqual",mZ=["parse","simplify","typed","OperatorNode"],Fx=N(PO,mZ,r=>{var{parse:e,simplify:t,typed:n,OperatorNode:i}=r;function a(o,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new i("-","subtract",[o,l]),c=t(s,{},u);return vt(c)&&!c.value}return n(PO,{"Node, Node":a,"Node, Node, Object":a})});var LO="derivative",pZ=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],Ax=N(LO,pZ,r=>{var{typed:e,config:t,parse:n,simplify:i,equal:a,isZero:o,numeric:l,ConstantNode:u,FunctionNode:s,OperatorNode:c,ParenthesisNode:f,SymbolNode:m}=r;function p(D,x){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},C={};g(C,D,x.name);var S=v(D,C);return b.simplify?i(S):S}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var h=e(LO,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),h._simplify=!0,h.toTex=function(D){return d.apply(null,D.args)};var d=e("_derivTex",{"Node, SymbolNode":function(x,b){return vt(x)&&wt(x.value)==="string"?d(n(x.value).toString(),b.toString(),1):d(x.toTex(),b.toString(),1)},"Node, ConstantNode":function(x,b){if(wt(b.value)==="string")return d(x,n(b.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(x,b,C){return d(x.toString(),b.name,C.value)},"string, string, number":function(x,b,C){var S;return C===1?S="{d\\over d"+b+"}":S="{d^{"+C+"}\\over d"+b+"^{"+C+"}}",S+"\\left[".concat(x,"\\right]")}}),g=e("constTag",{"Object, ConstantNode, string":function(x,b){return x[b]=!0,!0},"Object, SymbolNode, string":function(x,b,C){return b.name!==C?(x[b]=!0,!0):!1},"Object, ParenthesisNode, string":function(x,b,C){return g(x,b.content,C)},"Object, FunctionAssignmentNode, string":function(x,b,C){return b.params.indexOf(C)===-1?(x[b]=!0,!0):g(x,b.expr,C)},"Object, FunctionNode | OperatorNode, string":function(x,b,C){if(b.args.length>0){for(var S=g(x,b.args[0],C),A=1;A<b.args.length;++A)S=g(x,b.args[A],C)&&S;if(S)return x[b]=!0,!0}return!1}}),v=e("_derivative",{"ConstantNode, Object":function(x){return y(0)},"SymbolNode, Object":function(x,b){return b[x]!==void 0?y(0):y(1)},"ParenthesisNode, Object":function(x,b){return new f(v(x.content,b))},"FunctionAssignmentNode, Object":function(x,b){return b[x]!==void 0?y(0):v(x.expr,b)},"FunctionNode, Object":function(x,b){if(x.args.length!==1&&E(x),b[x]!==void 0)return y(0);var C=x.args[0],S,A=!1,F=!1,I;switch(x.name){case"cbrt":A=!0,I=new c("*","multiply",[y(3),new c("^","pow",[C,new c("/","divide",[y(2),y(3)])])]);break;case"sqrt":case"nthRoot":if(x.args.length===1)A=!0,I=new c("*","multiply",[y(2),new s("sqrt",[C])]);else if(x.args.length===2)return S=new c("/","divide",[y(1),x.args[1]]),b[S]=b[x.args[1]],v(new c("^","pow",[C,S]),b);break;case"log10":S=y(10);case"log":if(!S&&x.args.length===1)I=C.clone(),A=!0;else if(x.args.length===1&&S||x.args.length===2&&b[x.args[1]]!==void 0)I=new c("*","multiply",[C.clone(),new s("log",[S||x.args[1]])]),A=!0;else if(x.args.length===2)return v(new c("/","divide",[new s("log",[C]),new s("log",[x.args[1]])]),b);break;case"pow":return b[S]=b[x.args[1]],v(new c("^","pow",[C,x.args[1]]),b);case"exp":I=new s("exp",[C.clone()]);break;case"sin":I=new s("cos",[C.clone()]);break;case"cos":I=new c("-","unaryMinus",[new s("sin",[C.clone()])]);break;case"tan":I=new c("^","pow",[new s("sec",[C.clone()]),y(2)]);break;case"sec":I=new c("*","multiply",[x,new s("tan",[C.clone()])]);break;case"csc":F=!0,I=new c("*","multiply",[x,new s("cot",[C.clone()])]);break;case"cot":F=!0,I=new c("^","pow",[new s("csc",[C.clone()]),y(2)]);break;case"asin":A=!0,I=new s("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])])]);break;case"acos":A=!0,F=!0,I=new s("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])])]);break;case"atan":A=!0,I=new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)]);break;case"asec":A=!0,I=new c("*","multiply",[new s("abs",[C.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),y(2)]),y(1)])])]);break;case"acsc":A=!0,F=!0,I=new c("*","multiply",[new s("abs",[C.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),y(2)]),y(1)])])]);break;case"acot":A=!0,F=!0,I=new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)]);break;case"sinh":I=new s("cosh",[C.clone()]);break;case"cosh":I=new s("sinh",[C.clone()]);break;case"tanh":I=new c("^","pow",[new s("sech",[C.clone()]),y(2)]);break;case"sech":F=!0,I=new c("*","multiply",[x,new s("tanh",[C.clone()])]);break;case"csch":F=!0,I=new c("*","multiply",[x,new s("coth",[C.clone()])]);break;case"coth":F=!0,I=new c("^","pow",[new s("csch",[C.clone()]),y(2)]);break;case"asinh":A=!0,I=new s("sqrt",[new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)])]);break;case"acosh":A=!0,I=new s("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),y(2)]),y(1)])]);break;case"atanh":A=!0,I=new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])]);break;case"asech":A=!0,F=!0,I=new c("*","multiply",[C.clone(),new s("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])])])]);break;case"acsch":A=!0,F=!0,I=new c("*","multiply",[new s("abs",[C.clone()]),new s("sqrt",[new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)])])]);break;case"acoth":A=!0,F=!0,I=new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])]);break;case"abs":I=new c("/","divide",[new s(new m("abs"),[C.clone()]),C.clone()]);break;case"gamma":default:throw new Error('Function "'+x.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var M,O;A?(M="/",O="divide"):(M="*",O="multiply");var P=v(C,b);return F&&(P=new c("-","unaryMinus",[P])),new c(M,O,[P,I])},"OperatorNode, Object":function(x,b){if(b[x]!==void 0)return y(0);if(x.op==="+")return new c(x.op,x.fn,x.args.map(function(_){return v(_,b)}));if(x.op==="-"){if(x.isUnary())return new c(x.op,x.fn,[v(x.args[0],b)]);if(x.isBinary())return new c(x.op,x.fn,[v(x.args[0],b),v(x.args[1],b)])}if(x.op==="*"){var C=x.args.filter(function(_){return b[_]!==void 0});if(C.length>0){var S=x.args.filter(function(_){return b[_]===void 0}),A=S.length===1?S[0]:new c("*","multiply",S),F=C.concat(v(A,b));return new c("*","multiply",F)}return new c("+","add",x.args.map(function(_){return new c("*","multiply",x.args.map(function(T){return T===_?v(T,b):T.clone()}))}))}if(x.op==="/"&&x.isBinary()){var I=x.args[0],M=x.args[1];return b[M]!==void 0?new c("/","divide",[v(I,b),M]):b[I]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[I]),new c("/","divide",[v(M,b),new c("^","pow",[M.clone(),y(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[v(I,b),M.clone()]),new c("*","multiply",[I.clone(),v(M,b)])]),new c("^","pow",[M.clone(),y(2)])])}if(x.op==="^"&&x.isBinary()){var O=x.args[0],P=x.args[1];if(b[O]!==void 0)return vt(O)&&(o(O.value)||a(O.value,1))?y(0):new c("*","multiply",[x,new c("*","multiply",[new s("log",[O.clone()]),v(P.clone(),b)])]);if(b[P]!==void 0){if(vt(P)){if(o(P.value))return y(0);if(a(P.value,1))return v(O,b)}var k=new c("^","pow",[O.clone(),new c("-","subtract",[P,y(1)])]);return new c("*","multiply",[P.clone(),new c("*","multiply",[v(O,b),k])])}return new c("*","multiply",[new c("^","pow",[O.clone(),P.clone()]),new c("+","add",[new c("*","multiply",[v(O,b),new c("/","divide",[P.clone(),O.clone()])]),new c("*","multiply",[v(P,b),new s("log",[O.clone()])])])])}throw new Error('Operator "'+x.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function E(D){if(!((D.name==="log"||D.name==="nthRoot"||D.name==="pow")&&D.args.length===2)){for(var x=0;x<D.args.length;++x)D.args[x]=y(0);throw D.compile().evaluate(),new Error('Function "'+D.name+'" is not supported by derivative, or a wrong number of arguments is passed')}}function y(D,x){return new u(l(D,x||t.number))}return h});var qO="rationalize",dZ=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Sx=N(qO,dZ,r=>{var{config:e,typed:t,equal:n,isZero:i,add:a,subtract:o,multiply:l,divide:u,pow:s,parse:c,simplifyConstant:f,simplifyCore:m,simplify:p,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:E,ArrayNode:y,ConstantNode:D,FunctionNode:x,IndexNode:b,ObjectNode:C,OperatorNode:S,SymbolNode:A,ParenthesisNode:F}=r;function I(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=O(),U=M(_,T,!0,B.firstRules),Y=U.variables.length,J={exactFractions:!1},L={exactFractions:!0};if(_=U.expression,Y>=1){_=P(_);var X,se,te=!0,me=!1;_=p(_,B.firstRules,{},J);for(var de;se=te?B.distrDivRules:B.sucDivRules,_=p(_,se,{},L),te=!te,de=_.toString(),de!==X;)me=!0,X=de;me&&(_=p(_,B.firstRulesAgain,{},J)),_=p(_,B.finalRules,{},J)}var fe=[],ue={};return _.type==="OperatorNode"&&_.isBinary()&&_.op==="/"?(Y===1&&(_.args[0]=k(_.args[0],fe),_.args[1]=k(_.args[1])),z&&(ue.numerator=_.args[0],ue.denominator=_.args[1])):(Y===1&&(_=k(_,fe)),z&&(ue.numerator=_,ue.denominator=null)),z?(ue.coefficients=fe,ue.variables=U.variables,ue.expression=_,ue):_}return t(qO,{Node:I,"Node, boolean":(_,T)=>I(_,{},T),"Node, Object":I,"Node, Object, boolean":I});function M(_,T,z,B){var U=[],Y=p(_,B,T,{exactFractions:!1});z=!!z;var J="+-*"+(z?"/":"");X(Y);var L={};return L.expression=Y,L.variables=U,L;function X(se){var te=se.type;if(te==="FunctionNode")throw new Error("There is an unsolved function call");if(te==="OperatorNode")if(se.op==="^"){if(se.args[1].type!=="ConstantNode"||!Ue(parseFloat(se.args[1].value)))throw new Error("There is a non-integer exponent");X(se.args[0])}else{if(J.indexOf(se.op)===-1)throw new Error("Operator "+se.op+" invalid in polynomial expression");for(var me=0;me<se.args.length;me++)X(se.args[me])}else if(te==="SymbolNode"){var de=se.name,fe=U.indexOf(de);fe===-1&&U.push(de)}else if(te==="ParenthesisNode")X(se.content);else if(te!=="ConstantNode")throw new Error("type "+te+" is not allowed in polynomial expression")}}function O(){var _=[m,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],T=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],z=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],B=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],U={};return U.firstRules=_.concat(T,B),U.distrDivRules=z,U.sucDivRules=B,U.firstRulesAgain=_.concat(T),U.finalRules=[m,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],U}function P(_,T,z){var B=_.type,U=arguments.length>1;if(B==="OperatorNode"&&_.isBinary()){var Y=!1,J;if(_.op==="^"&&(_.args[0].type==="ParenthesisNode"||_.args[0].type==="OperatorNode")&&_.args[1].type==="ConstantNode"&&(J=parseFloat(_.args[1].value),Y=J>=2&&Ue(J)),Y){if(J>2){var L=_.args[0],X=new S("^","pow",[_.args[0].cloneDeep(),new D(J-1)]);_=new S("*","multiply",[L,X])}else _=new S("*","multiply",[_.args[0],_.args[0].cloneDeep()]);U&&(z==="content"?T.content=_:T.args[z]=_)}}if(B==="ParenthesisNode")P(_.content,_,"content");else if(B!=="ConstantNode"&&B!=="SymbolNode")for(var se=0;se<_.args.length;se++)P(_.args[se],_,se);if(!U)return _}function k(_,T){T===void 0&&(T=[]),T[0]=0;var z={};z.cte=1,z.oper="+",z.fire="";var B=0,U="";de(_,null,z),B=T.length-1;for(var Y=!0,J,L=B;L>=0;L--)if(T[L]!==0){var X=new D(Y?T[L]:Math.abs(T[L])),se=T[L]<0?"-":"+";if(L>0){var te=new A(U);if(L>1){var me=new D(L);te=new S("^","pow",[te,me])}T[L]===-1&&Y?X=new S("-","unaryMinus",[te]):Math.abs(T[L])===1?X=te:X=new S("*","multiply",[X,te])}Y?J=X:se==="+"?J=new S("+","add",[J,X]):J=new S("-","subtract",[J,X]),Y=!1}if(Y)return new D(0);return J;function de(fe,ue,xe){var We=fe.type;if(We==="FunctionNode")throw new Error("There is an unsolved function call");if(We==="OperatorNode"){if("+-*^".indexOf(fe.op)===-1)throw new Error("Operator "+fe.op+" invalid");if(ue!==null){if((fe.fn==="unaryMinus"||fe.fn==="pow")&&ue.fn!=="add"&&ue.fn!=="subtract"&&ue.fn!=="multiply")throw new Error("Invalid "+fe.op+" placing");if((fe.fn==="subtract"||fe.fn==="add"||fe.fn==="multiply")&&ue.fn!=="add"&&ue.fn!=="subtract")throw new Error("Invalid "+fe.op+" placing");if((fe.fn==="subtract"||fe.fn==="add"||fe.fn==="unaryMinus")&&xe.noFil!==0)throw new Error("Invalid "+fe.op+" placing")}(fe.op==="^"||fe.op==="*")&&(xe.fire=fe.op);for(var Ne=0;Ne<fe.args.length;Ne++)fe.fn==="unaryMinus"&&(xe.oper="-"),(fe.op==="+"||fe.fn==="subtract")&&(xe.fire="",xe.cte=1,xe.oper=Ne===0?"+":fe.op),xe.noFil=Ne,de(fe.args[Ne],fe,xe)}else if(We==="SymbolNode"){if(fe.name!==U&&U!=="")throw new Error("There is more than one variable");if(U=fe.name,ue===null){T[1]=1;return}if(ue.op==="^"&&xe.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ue.op==="*"&&xe.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(xe.fire===""||xe.fire==="*")&&(B<1&&(T[1]=0),T[1]+=xe.cte*(xe.oper==="+"?1:-1),B=Math.max(1,B))}else if(We==="ConstantNode"){var Ve=parseFloat(fe.value);if(ue===null){T[0]=Ve;return}if(ue.op==="^"){if(xe.noFil!==1)throw new Error("Constant cannot be powered");if(!Ue(Ve)||Ve<=0)throw new Error("Non-integer exponent is not allowed");for(var W=B+1;W<Ve;W++)T[W]=0;Ve>B&&(T[Ve]=0),T[Ve]+=xe.cte*(xe.oper==="+"?1:-1),B=Math.max(Ve,B);return}xe.cte=Ve,xe.fire===""&&(T[0]+=xe.cte*(xe.oper==="+"?1:-1))}else throw new Error("Type "+We+" is not allowed")}}});var VO="zpk2tf",hZ=["typed","add","multiply","Complex","number"],Nx=N(VO,hZ,r=>{var{typed:e,add:t,multiply:n,Complex:i,number:a}=r;return e(VO,{"Array,Array,number":function(s,c,f){return o(s,c,f)},"Array,Array":function(s,c){return o(s,c,1)},"Matrix,Matrix,number":function(s,c,f){return o(s.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(s,c){return o(s.valueOf(),c.valueOf(),1)}});function o(u,s,c){u.some(E=>E.type==="BigNumber")&&(u=u.map(E=>a(E))),s.some(E=>E.type==="BigNumber")&&(s=s.map(E=>a(E)));for(var f=[i(1,0)],m=[i(1,0)],p=0;p<u.length;p++){var h=u[p];typeof h=="number"&&(h=i(h,0)),f=l(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<s.length;d++){var g=s[d];typeof g=="number"&&(g=i(g,0)),m=l(m,[i(1,0),i(-g.re,-g.im)])}for(var v=0;v<f.length;v++)f[v]=n(f[v],c);return[f,m]}function l(u,s){for(var c=[],f=0;f<u.length+s.length-1;f++){c[f]=i(0,0);for(var m=0;m<u.length;m++)f-m>=0&&f-m<s.length&&(c[f]=t(c[f],n(u[m],s[f-m])))}return c}});var UO="freqz",gZ=["typed","add","multiply","Complex","divide","matrix"],Mx=N(UO,gZ,r=>{var{typed:e,add:t,multiply:n,Complex:i,divide:a,matrix:o}=r;return e(UO,{"Array, Array":function(c,f){var m=u(512);return l(c,f,m)},"Array, Array, Array":function(c,f,m){return l(c,f,m)},"Array, Array, number":function(c,f,m){if(m<0)throw new Error("w must be a positive number");var p=u(m);return l(c,f,p)},"Matrix, Matrix":function(c,f){var m=u(512),{w:p,h}=l(c.valueOf(),f.valueOf(),m);return{w:o(p),h:o(h)}},"Matrix, Matrix, Matrix":function(c,f,m){var{h:p}=l(c.valueOf(),f.valueOf(),m.valueOf());return{h:o(p),w:o(m)}},"Matrix, Matrix, number":function(c,f,m){if(m<0)throw new Error("w must be a positive number");var p=u(m),{h}=l(c.valueOf(),f.valueOf(),p);return{h:o(h),w:o(p)}}});function l(s,c,f){for(var m=[],p=[],h=0;h<f.length;h++){for(var d=i(0,0),g=i(0,0),v=0;v<s.length;v++)d=t(d,n(s[v],i(Math.cos(-v*f[h]),Math.sin(-v*f[h]))));for(var E=0;E<c.length;E++)g=t(g,n(c[E],i(Math.cos(-E*f[h]),Math.sin(-E*f[h]))));m.push(d),p.push(g)}for(var y=[],D=0;D<m.length;D++)y.push(a(m[D],p[D]));return{h:y,w:f}}function u(s){for(var c=[],f=0;f<s;f++)c.push(f/s*Math.PI);return c}});var vZ="reviver",yZ=["classes"],_x=N(vZ,yZ,r=>{var{classes:e}=r;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var xZ="replacer",bZ=[],Tx=N(xZ,bZ,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t});var zO="11.11.2";var Ix=N("true",[],()=>!0),Bx=N("false",[],()=>!1),Ox=N("null",[],()=>null),Rx=Yn("Infinity",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1/0):1/0}),kx=Yn("NaN",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(NaN):NaN}),Px=Yn("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?tl(t):CA}),Lx=Yn("tau",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?GN(t):FA}),qx=Yn("e",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?WN(t):AA}),Vx=Yn("phi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?HN(t):SA}),Ux=Yn("LN2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),zx=Yn("LN10",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),Wx=Yn("LOG2E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),Hx=Yn("LOG10E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),Gx=Yn("SQRT1_2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),jx=Yn("SQRT2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),Zx=Yn("i",["Complex"],r=>{var{Complex:e}=r;return e.I});var Yx=N("version",[],()=>zO);function Yn(r,e,t){return N(r,e,t,{recreateOnConfigChange:!0})}var Jx=bt("speedOfLight","299792458","m s^-1"),Xx=bt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Qx=bt("planckConstant","6.62607015e-34","J s"),Kx=bt("reducedPlanckConstant","1.0545718176461565e-34","J s"),$x=bt("magneticConstant","1.25663706212e-6","N A^-2"),eb=bt("electricConstant","8.8541878128e-12","F m^-1"),tb=bt("vacuumImpedance","376.730313667","ohm"),rb=bt("coulomb","8.987551792261171e9","N m^2 C^-2"),nb=bt("elementaryCharge","1.602176634e-19","C"),ib=bt("bohrMagneton","9.2740100783e-24","J T^-1"),ab=bt("conductanceQuantum","7.748091729863649e-5","S"),ob=bt("inverseConductanceQuantum","12906.403729652257","ohm"),sb=bt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),ub=bt("nuclearMagneton","5.0507837461e-27","J T^-1"),lb=bt("klitzing","25812.807459304513","ohm");var cb=bt("bohrRadius","5.29177210903e-11","m"),fb=bt("classicalElectronRadius","2.8179403262e-15","m"),mb=bt("electronMass","9.1093837015e-31","kg"),pb=bt("fermiCoupling","1.1663787e-5","GeV^-2"),db=Sm("fineStructure",.0072973525693),hb=bt("hartreeEnergy","4.3597447222071e-18","J"),gb=bt("protonMass","1.67262192369e-27","kg"),vb=bt("deuteronMass","3.3435830926e-27","kg"),yb=bt("neutronMass","1.6749271613e-27","kg"),xb=bt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),bb=bt("rydberg","10973731.568160","m^-1"),Db=bt("thomsonCrossSection","6.6524587321e-29","m^2"),wb=Sm("weakMixingAngle",.2229),Eb=Sm("efimovFactor",22.7),Cb=bt("atomicMass","1.66053906660e-27","kg"),Fb=bt("avogadro","6.02214076e23","mol^-1"),Ab=bt("boltzmann","1.380649e-23","J K^-1"),Sb=bt("faraday","96485.33212331001","C mol^-1"),Nb=bt("firstRadiation","3.7417718521927573e-16","W m^2"),Mb=bt("loschmidt","2.686780111798444e25","m^-3"),_b=bt("gasConstant","8.31446261815324","J K^-1 mol^-1"),Tb=bt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),Ib=bt("molarVolume","0.022413969545014137","m^3 mol^-1"),Bb=Sm("sackurTetrode",-1.16487052358),Ob=bt("secondRadiation","0.014387768775039337","m K"),Rb=bt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),kb=bt("wienDisplacement","2.897771955e-3","m K"),Pb=bt("molarMass","0.99999999965e-3","kg mol^-1"),Lb=bt("molarMassC12","11.9999999958e-3","kg mol^-1"),qb=bt("gravity","9.80665","m s^-2"),Vb=bt("planckLength","1.616255e-35","m"),Ub=bt("planckMass","2.176435e-8","kg"),zb=bt("planckTime","5.391245e-44","s"),Wb=bt("planckCharge","1.87554603778e-18","C"),Hb=bt("planckTemperature","1.416785e+32","K");function bt(r,e,t){var n=["config","Unit","BigNumber"];return N(r,n,i=>{var{config:a,Unit:o,BigNumber:l}=i,u=a.number==="BigNumber"?new l(e):parseFloat(e),s=new o(u,t);return s.fixPrefix=!0,s})}function Sm(r,e){var t=["config","BigNumber"];return N(r,t,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var DZ="apply",wZ=["typed","isInteger"],Gb=N(DZ,wZ,r=>{var{typed:e,isInteger:t}=r,n=wo({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];tt(o)?a[1]=o-1:$e(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(l){throw Qt(l)}}})},{isTransformFunction:!0});var EZ="column",CZ=["typed","Index","matrix","range"],jb=N(EZ,CZ,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=ju({typed:e,Index:t,matrix:n,range:i});return e("column",{"...any":function(l){var u=l.length-1,s=l[u];tt(s)&&(l[u]=s-1);try{return a.apply(null,l)}catch(c){throw Qt(c)}}})},{isTransformFunction:!0});function Is(r,e,t){var n=r.filter(function(l){return Zt(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+r+'"');var i=n.name,a=Co(t),o=r.compile();return function(u){return a.set(i,u),o.evaluate(a)}}var FZ="filter",AZ=["typed"],Zb=N(FZ,AZ,r=>{var{typed:e}=r;function t(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(Zt(i[1])||zi(i[1])?u=i[1].compile().evaluate(o):u=Is(i[1],a,o)),n(l,u)}t.rawArgs=!0;var n=e("filter",{"Array, function":WO,"Matrix, function":function(a,o){return a.create(WO(a.toArray(),o))},"Array, RegExp":vs,"Matrix, RegExp":function(a,o){return a.create(vs(a.toArray(),o))}});return t},{isTransformFunction:!0});function WO(r,e){return Sf(r,function(t,n,i){return ci(e,t,[n+1],i,"filter")})}var SZ="forEach",NZ=["typed"],Yb=N(SZ,NZ,r=>{var{typed:e}=r;function t(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(Zt(i[1])||zi(i[1])?u=i[1].compile().evaluate(o):u=Is(i[1],a,o)),n(l,u)}t.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var l=function u(s,c){if(Array.isArray(s))Ra(s,function(f,m){u(f,c.concat(m+1))});else return ci(o,s,c,a,"forEach")};l(a.valueOf(),[])}});return t},{isTransformFunction:!0});var MZ="index",_Z=["Index","getMatrixDataType"],Jb=N(MZ,_Z,r=>{var{Index:e,getMatrixDataType:t}=r;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var l=arguments[a];if(ds(l))l.start--,l.end-=l.step>0?0:2;else if(l&&l.isSet===!0)l=l.map(function(s){return s-1});else if(Et(l)||He(l))t(l)!=="boolean"&&(l=l.map(function(s){return s-1}));else if(tt(l))l--;else if($e(l))l=l.toNumber()-1;else if(typeof l!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=l}var u=new e;return e.apply(u,i),u}},{isTransformFunction:!0});var TZ="map",IZ=["typed"],Xb=N(TZ,IZ,r=>{var{typed:e}=r;function t(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(Zt(i[1])||zi(i[1])?u=i[1].compile().evaluate(o):u=Is(i[1],a,o)),n(l,u)}t.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return HO(a,o,a)},"Matrix, function":function(a,o){return a.create(HO(a.valueOf(),o,a))}});return t},{isTransformFunction:!0});function HO(r,e,t){function n(i,a){return Array.isArray(i)?Rn(i,function(o,l){return n(o,a.concat(l+1))}):ci(e,i,a,t,"map")}return n(r,[])}function gn(r){if(r.length===2&&Nn(r[0])){r=r.slice();var e=r[1];tt(e)?r[1]=e-1:$e(e)&&(r[1]=e.minus(1))}return r}var BZ="max",OZ=["typed","config","numeric","larger"],Qb=N(BZ,OZ,r=>{var{typed:e,config:t,numeric:n,larger:i}=r,a=$u({typed:e,config:t,numeric:n,larger:i});return e("max",{"...any":function(l){l=gn(l);try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var RZ="mean",kZ=["typed","add","divide"],Kb=N(RZ,kZ,r=>{var{typed:e,add:t,divide:n}=r,i=al({typed:e,add:t,divide:n});return e("mean",{"...any":function(o){o=gn(o);try{return i.apply(null,o)}catch(l){throw Qt(l)}}})},{isTransformFunction:!0});var PZ="min",LZ=["typed","config","numeric","smaller"],$b=N(PZ,LZ,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r,a=el({typed:e,config:t,numeric:n,smaller:i});return e("min",{"...any":function(l){l=gn(l);try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var qZ="range",VZ=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],eD=N(qZ,VZ,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c}=r,f=Ju({typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c});return e("range",{"...any":function(p){var h=p.length-1,d=p[h];return typeof d!="boolean"&&p.push(!0),f.apply(null,p)}})},{isTransformFunction:!0});var UZ="row",zZ=["typed","Index","matrix","range"],tD=N(UZ,zZ,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=Xu({typed:e,Index:t,matrix:n,range:i});return e("row",{"...any":function(l){var u=l.length-1,s=l[u];tt(s)&&(l[u]=s-1);try{return a.apply(null,l)}catch(c){throw Qt(c)}}})},{isTransformFunction:!0});var WZ="subset",HZ=["typed","matrix","zeros","add"],rD=N(WZ,HZ,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Qu({typed:e,matrix:t,zeros:n,add:i});return e("subset",{"...any":function(l){try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var GZ="concat",jZ=["typed","matrix","isInteger"],nD=N(GZ,jZ,r=>{var{typed:e,matrix:t,isInteger:n}=r,i=Gu({typed:e,matrix:t,isInteger:n});return e("concat",{"...any":function(o){var l=o.length-1,u=o[l];tt(u)?o[l]=u-1:$e(u)&&(o[l]=u.minus(1));try{return i.apply(null,o)}catch(s){throw Qt(s)}}})},{isTransformFunction:!0});var GO="diff",ZZ=["typed","matrix","subtract","number","bignumber"],iD=N(GO,ZZ,r=>{var{typed:e,matrix:t,subtract:n,number:i,bignumber:a}=r,o=Yu({typed:e,matrix:t,subtract:n,number:i,bignumber:a});return e(GO,{"...any":function(u){u=gn(u);try{return o.apply(null,u)}catch(s){throw Qt(s)}}})},{isTransformFunction:!0});var YZ="std",JZ=["typed","map","sqrt","variance"],aD=N(YZ,JZ,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r,a=ul({typed:e,map:t,sqrt:n,variance:i});return e("std",{"...any":function(l){l=gn(l);try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var jO="sum",XZ=["typed","config","add","numeric"],oD=N(jO,XZ,r=>{var{typed:e,config:t,add:n,numeric:i}=r,a=nl({typed:e,config:t,add:n,numeric:i});return e(jO,{"...any":function(l){l=gn(l);try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var QZ="quantileSeq",KZ=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],sD=N(QZ,KZ,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:m}=r,p=sl({typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:m});return e("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(d,g,v)=>p(d,g,h(v)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(d,g,v,E)=>p(d,g,v,h(E)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(d,g,v)=>p(d,g,h(v)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(d,g,v,E)=>p(d,g,v,h(E))});function h(d){return gn([[],d])[1]}},{isTransformFunction:!0});var ZO="cumsum",$Z=["typed","add","unaryPlus"],uD=N(ZO,$Z,r=>{var{typed:e,add:t,unaryPlus:n}=r,i=il({typed:e,add:t,unaryPlus:n});return e(ZO,{"...any":function(o){if(o.length===2&&Nn(o[0])){var l=o[1];tt(l)?o[1]=l-1:$e(l)&&(o[1]=l.minus(1))}try{return i.apply(null,o)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var YO="variance",eY=["typed","add","subtract","multiply","divide","apply","isNaN"],lD=N(YO,eY,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:l}=r,u=ol({typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:l});return e(YO,{"...any":function(c){c=gn(c);try{return u.apply(null,c)}catch(f){throw Qt(f)}}})},{isTransformFunction:!0});var JO="print",tY=["typed","matrix","zeros","add"],cD=N(JO,tY,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Ku({typed:e,matrix:t,zeros:n,add:i});return e(JO,{"string, Object | Array":function(u,s){return a(o(u),s)},"string, Object | Array, number | Object":function(u,s,c){return a(o(u),s,c)}});function o(l){return l.replace(Yf,u=>{var s=u.slice(1).split("."),c=s.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0});var Oe=_h({config:ve}),Kt=Ih({}),fD=qx({BigNumber:Oe,config:ve}),XO=Bx({}),QO=db({BigNumber:Oe,config:ve}),Ga=Oh({}),mD=Zx({Complex:Kt}),KO=Rx({BigNumber:Oe,config:ve}),$O=zx({BigNumber:Oe,config:ve}),e4=Hx({BigNumber:Oe,config:ve}),fl=kh({}),t4=kx({BigNumber:Oe,config:ve}),r4=Ox({}),n4=Vx({BigNumber:Oe,config:ve}),i4=Rh({}),pD=Eh({}),a4=Gx({BigNumber:Oe,config:ve}),o4=Bb({BigNumber:Oe,config:ve}),dD=Lx({BigNumber:Oe,config:ve}),s4=Ix({}),u4=Yx({}),Ft=Ph({Matrix:fl}),l4=Eb({BigNumber:Oe,config:ve}),c4=Ux({BigNumber:Oe,config:ve}),Nm=Px({BigNumber:Oe,config:ve}),f4=Tx({}),m4=jx({BigNumber:Oe,config:ve}),Z=wh({BigNumber:Oe,Complex:Kt,DenseMatrix:Ft,Fraction:Ga}),Mm=av({BigNumber:Oe,config:ve,typed:Z}),p4=wb({BigNumber:Oe,config:ve}),vn=ov({typed:Z}),d4=cy({Complex:Kt,config:ve,typed:Z}),h4=my({BigNumber:Oe,typed:Z}),g4=dy({BigNumber:Oe,Complex:Kt,config:ve,typed:Z}),Ir=sv({typed:Z}),v4=Pv({typed:Z}),y4=vy({BigNumber:Oe,Complex:Kt,config:ve,typed:Z}),x4=xy({typed:Z}),hD=by({typed:Z}),b4=wy({Complex:Kt,config:ve,typed:Z}),qn=Xg({BigNumber:Oe,typed:Z}),D4=Ov({typed:Z}),w4=Jg({typed:Z}),E4=Lh({typed:Z}),ml=X1({typed:Z}),pl=Qg({Complex:Kt,typed:Z}),ja=Lv({typed:Z}),_m=Ey({typed:Z}),C4=Fy({BigNumber:Oe,typed:Z}),F4=Sy({BigNumber:Oe,typed:Z}),A4=fv({typed:Z}),St=Gg({config:ve,typed:Z}),S4=h0({typed:Z}),gD=mv({typed:Z}),N4=pv({Complex:Kt,typed:Z}),M4=Zv({typed:Z}),_4=Jv({typed:Z}),Bs=x0({typed:Z}),Tm=Xv({typed:Z}),T4=w0({format:Bs,typed:Z}),Im=qv({typed:Z}),_n=Vh({typed:Z}),ma=Lg({typed:Z}),Za=Ug({typed:Z}),pi=zg({typed:Z}),I4=Wx({BigNumber:Oe,config:ve}),B4=$1({Complex:Kt,typed:Z}),O4=bv({Complex:Kt,config:ve,typed:Z}),vD=Dv({Complex:Kt,config:ve,typed:Z}),Ya=$v({typed:Z}),Dr=wv({typed:Z}),yD=Uv({typed:Z}),Yi=Zg({typed:Z}),R4=D0({format:Bs,typed:Z}),k4=fx({config:ve,typed:Z}),P4=Ku({typed:Z}),L4=mx({config:ve,typed:Z}),Bm=Vv({typed:Z}),q4=My({BigNumber:Oe,typed:Z}),xD=Fv({BigNumber:Oe,Fraction:Ga,complex:pl,typed:Z}),dl=Ty({typed:Z}),Ji=jg({Matrix:fl,equalScalar:St,typed:Z}),V4=nv({typed:Z}),U4=Sv({typed:Z}),z4=Yg({typed:Z}),W4=By({typed:Z}),bD=Hg({typed:Z}),H4=fy({Complex:Kt,config:ve,typed:Z}),G4=hy({BigNumber:Oe,typed:Z}),Om=wo({isInteger:_n,typed:Z}),j4=gy({BigNumber:Oe,Complex:Kt,config:ve,typed:Z}),Z4=b0({format:Bs,typed:Z}),Y4=Q1({typed:Z}),J4=Cy({typed:Z}),X4=Ny({BigNumber:Oe,typed:Z}),Os=Wg({typed:Z}),Q4=C0({typed:Z}),K4=px({config:ve,typed:Z}),$4=_y({BigNumber:Oe,typed:Z}),eR=Iy({typed:Z}),tR=uy({SparseMatrix:Ji,typed:Z}),di=Av({Complex:Kt,config:ve,typed:Z}),rR=Oy({typed:Z}),Ii=iv({typed:Z}),nR=py({BigNumber:Oe,Complex:Kt,config:ve,typed:Z}),iR=Ay({BigNumber:Oe,typed:Z}),Ao=Kg({Fraction:Ga,typed:Z}),Ja=qg({typed:Z}),Re=$g({DenseMatrix:Ft,Matrix:fl,SparseMatrix:Ji,typed:Z}),aR=ev({isZero:pi,matrix:Re,typed:Z}),oR=v0({isNaN:Os,isNumeric:Ja,typed:Z}),hi=F0({bignumber:qn,fraction:Ao,number:Yi}),DD=y0({config:ve,multiplyScalar:Dr,numeric:hi,typed:Z}),sR=t0({isInteger:_n,matrix:Re,typed:Z}),ln=a0({matrix:Re,config:ve,typed:Z}),uR=o0({matrix:Re,typed:Z}),Rs=s0({matrix:Re,typed:Z}),wD=Mv({BigNumber:Oe,config:ve,matrix:Re,typed:Z}),yn=l0({BigNumber:Oe,config:ve,matrix:Re,typed:Z}),lR=yy({Complex:Kt,config:ve,typed:Z}),ED=uv({BigNumber:Oe,Complex:Kt,Fraction:Ga,config:ve,isNegative:ma,matrix:Re,typed:Z,unaryMinus:Ii}),Ut=Gu({isInteger:_n,matrix:Re,typed:Z}),cR=Hv({prod:DD,size:ln,typed:Z}),Rm=u0({conj:ja,transpose:Rs,typed:Z}),CD=jv({DenseMatrix:Ft,SparseMatrix:Ji,matrix:Re,typed:Z}),lr=A0({numeric:hi,typed:Z}),ks=B0({DenseMatrix:Ft,concat:Ut,divideScalar:lr,equalScalar:St,matrix:Re,typed:Z}),Jn=G0({DenseMatrix:Ft,concat:Ut,equalScalar:St,matrix:Re,typed:Z}),Ps=Yv({matrix:Re,typed:Z}),fR=Vg({isNumeric:Ja,typed:Z}),pa=Qv({BigNumber:Oe,DenseMatrix:Ft,SparseMatrix:Ji,config:ve,matrix:Re,typed:Z}),mR=Kv({matrix:Re,multiplyScalar:Dr,typed:Z}),hl=X0({DenseMatrix:Ft,concat:Ut,config:ve,matrix:Re,typed:Z}),pR=L0({DenseMatrix:Ft,concat:Ut,equalScalar:St,matrix:Re,typed:Z,zeros:yn}),km=rv({flatten:Ps,matrix:Re,size:ln,typed:Z}),dR=Cv({BigNumber:Oe,concat:Ut,equalScalar:St,matrix:Re,typed:Z}),hR=e0({BigNumber:Oe,config:ve,matrix:Re,typed:Z}),gR=r0({config:ve,matrix:Re}),vR=q0({DenseMatrix:Ft,concat:Ut,equalScalar:St,matrix:Re,typed:Z,zeros:yn}),So=N0({BigNumber:Oe,DenseMatrix:Ft,equalScalar:St,matrix:Re,typed:Z,zeros:yn}),xn=Z0({DenseMatrix:Ft,concat:Ut,config:ve,matrix:Re,typed:Z}),zt=Nv({DenseMatrix:Ft,addScalar:Ir,concat:Ut,equalScalar:St,matrix:Re,typed:Z,unaryMinus:Ii}),yR=E0({concat:Ut,matrix:Re,typed:Z}),xR=K0({DenseMatrix:Ft,concat:Ut,config:ve,equalScalar:St,matrix:Re,typed:Z}),Pm=R0({DenseMatrix:Ft,divideScalar:lr,equalScalar:St,matrix:Re,multiplyScalar:Dr,subtract:zt,typed:Z}),bR=Wv({DenseMatrix:Ft,concat:Ut,matrix:Re,typed:Z}),Nt=Gy({DenseMatrix:Ft,SparseMatrix:Ji,addScalar:Ir,concat:Ut,equalScalar:St,matrix:Re,typed:Z}),DR=Dy({BigNumber:Oe,DenseMatrix:Ft,concat:Ut,equalScalar:St,matrix:Re,typed:Z}),wR=Bv({concat:Ut,equalScalar:St,matrix:Re,typed:Z}),ER=kv({DenseMatrix:Ft,concat:Ut,matrix:Re,typed:Z}),CR=gx({addScalar:Ir,combinations:ml,divideScalar:lr,isInteger:_n,isNegative:ma,multiplyScalar:Dr,typed:Z}),Xa=z0({BigNumber:Oe,DenseMatrix:Ft,Fraction:Ga,concat:Ut,config:ve,equalScalar:St,matrix:Re,typed:Z}),FD=H0({concat:Ut,matrix:Re,typed:Z}),FR=il({add:Nt,typed:Z,unaryPlus:Mm}),Lm=Q0({equal:Jn,typed:Z}),AR=Yu({matrix:Re,number:Yi,subtract:zt,typed:Z}),SR=H1({abs:vn,addScalar:Ir,deepEqual:Lm,divideScalar:lr,multiplyScalar:Dr,sqrt:di,subtract:zt,typed:Z}),gl=Yy({addScalar:Ir,conj:ja,multiplyScalar:Dr,size:ln,typed:Z}),NR=j0({compareText:FD,isZero:pi,typed:Z}),AD=Wu({DenseMatrix:Ft,config:ve,equalScalar:St,matrix:Re,round:So,typed:Z,zeros:yn}),MR=yv({BigNumber:Oe,DenseMatrix:Ft,concat:Ut,config:ve,equalScalar:St,matrix:Re,round:So,typed:Z,zeros:yn}),_R=jy({abs:vn,addScalar:Ir,divideScalar:lr,isPositive:Za,multiplyScalar:Dr,smaller:xn,sqrt:di,typed:Z}),SD=ty({DenseMatrix:Ft,smaller:xn}),cn=ry({ImmutableDenseMatrix:SD,getMatrixDataType:Tm}),bn=J0({DenseMatrix:Ft,concat:Ut,config:ve,matrix:Re,typed:Z}),qm=M0({Complex:Kt,config:ve,divideScalar:lr,typed:Z}),ND=O0({DenseMatrix:Ft,divideScalar:lr,equalScalar:St,matrix:Re,multiplyScalar:Dr,subtract:zt,typed:Z}),TR=tv({flatten:Ps,matrix:Re,size:ln,typed:Z}),IR=el({config:ve,numeric:hi,smaller:xn,typed:Z}),MD=Hu({DenseMatrix:Ft,concat:Ut,config:ve,equalScalar:St,matrix:Re,round:So,typed:Z,zeros:yn}),Wt=Ev({addScalar:Ir,dot:gl,equalScalar:St,matrix:Re,multiplyScalar:Dr,typed:Z}),BR=T0({Complex:Kt,config:ve,divideScalar:lr,typed:Z}),OR=zv({DenseMatrix:Ft,concat:Ut,equalScalar:St,matrix:Re,typed:Z}),vl=$0({compare:Xa,isNaN:Os,isNumeric:Ja,typed:Z}),Vm=w1({addScalar:Ir,complex:pl,conj:ja,divideScalar:lr,equal:Jn,identity:pa,isZero:pi,matrix:Re,multiplyScalar:Dr,sign:xD,sqrt:di,subtract:zt,typed:Z,unaryMinus:Ii,zeros:yn}),RR=V0({DenseMatrix:Ft,concat:Ut,equalScalar:St,matrix:Re,typed:Z,zeros:yn}),_D=C1({SparseMatrix:Ji,abs:vn,add:Nt,divideScalar:lr,larger:bn,largerEq:hl,multiply:Wt,subtract:zt,transpose:Rs,typed:Z}),Vn=Qu({add:Nt,matrix:Re,typed:Z,zeros:yn}),Um=nl({add:Nt,config:ve,numeric:hi,typed:Z}),kR=Jy({add:Nt,matrix:Re,typed:Z}),TD=P0({DenseMatrix:Ft,divideScalar:lr,equalScalar:St,matrix:Re,multiplyScalar:Dr,subtract:zt,typed:Z}),PR=Nx({Complex:Kt,add:Nt,multiply:Wt,number:Yi,typed:Z}),LR=Rv({DenseMatrix:Ft,concat:Ut,equalScalar:St,matrix:Re,typed:Z}),zm=cv({DenseMatrix:Ft,config:ve,equalScalar:St,matrix:Re,round:So,typed:Z,zeros:yn}),Bi=W0({compare:Xa,typed:Z}),qR=vx({addScalar:Ir,combinations:ml,isInteger:_n,isNegative:ma,isPositive:Za,larger:bn,typed:Z}),VR=Gv({matrix:Re,multiply:Wt,subtract:zt,typed:Z}),ID=O1({divideScalar:lr,isZero:pi,matrix:Re,multiply:Wt,subtract:zt,typed:Z,unaryMinus:Ii}),UR=Tv({concat:Ut,equalScalar:St,matrix:Re,multiplyScalar:Dr,typed:Z}),BD=ny({larger:bn,smaller:xn}),OD=hv({Complex:Kt,DenseMatrix:Ft,ceil:zm,equalScalar:St,floor:AD,matrix:Re,typed:Z,zeros:yn}),RD=Xy({Index:cn,typed:Z}),zR=G1({abs:vn,add:Nt,addScalar:Ir,config:ve,divideScalar:lr,equalScalar:St,flatten:Ps,isNumeric:Ja,isZero:pi,matrix:Re,multiply:Wt,multiplyScalar:Dr,smaller:xn,subtract:zt,typed:Z}),WR=_v({BigNumber:Oe,add:Nt,config:ve,equal:Jn,isInteger:_n,mod:MD,smaller:xn,typed:Z,xgcd:wD}),HR=xv({concat:Ut,equalScalar:St,matrix:Re,typed:Z}),GR=_0({Complex:Kt,config:ve,divideScalar:lr,log:qm,typed:Z}),jR=k0({DenseMatrix:Ft,divideScalar:lr,equalScalar:St,matrix:Re,multiplyScalar:Dr,subtract:zt,typed:Z}),Wm=$u({config:ve,larger:bn,numeric:hi,typed:Z}),ZR=Ry({DenseMatrix:Ft,Index:cn,compareNatural:Bi,size:ln,subset:Vn,typed:Z}),YR=Py({DenseMatrix:Ft,Index:cn,compareNatural:Bi,size:ln,subset:Vn,typed:Z}),JR=qy({Index:cn,compareNatural:Bi,size:ln,subset:Vn,typed:Z}),XR=Uy({Index:cn,compareNatural:Bi,size:ln,subset:Vn,typed:Z}),No=Y0({DenseMatrix:Ft,concat:Ut,config:ve,matrix:Re,typed:Z}),QR=ey({compare:Xa,compareNatural:Bi,matrix:Re,typed:Z}),KR=U0({concat:Ut,equalScalar:St,matrix:Re,not:yD,typed:Z,zeros:yn}),Mo=Ju({bignumber:qn,matrix:Re,add:Nt,config:ve,isPositive:Za,larger:bn,largerEq:hl,smaller:xn,smallerEq:No,typed:Z}),$R=Xu({Index:cn,matrix:Re,range:Mo,typed:Z}),kD=ky({DenseMatrix:Ft,Index:cn,compareNatural:Bi,size:ln,subset:Vn,typed:Z}),e8=Vy({Index:cn,compareNatural:Bi,size:ln,subset:Vn,typed:Z}),PD=Wy({Index:cn,concat:Ut,setDifference:kD,size:ln,subset:Vn,typed:Z}),LD=iy({FibonacciHeap:BD,addScalar:Ir,equalScalar:St}),qD=ju({Index:cn,matrix:Re,range:Mo,typed:Z}),Qa=R1({abs:vn,addScalar:Ir,det:ID,divideScalar:lr,identity:pa,matrix:Re,multiply:Wt,typed:Z,unaryMinus:Ii}),VD=D1({DenseMatrix:Ft,Spa:LD,SparseMatrix:Ji,abs:vn,addScalar:Ir,divideScalar:lr,equalScalar:St,larger:bn,matrix:Re,multiplyScalar:Dr,subtract:zt,typed:Z,unaryMinus:Ii}),t8=k1({Complex:Kt,add:Nt,ctranspose:Rm,deepEqual:Lm,divideScalar:lr,dot:gl,dotDivide:ks,equal:Jn,inv:Qa,matrix:Re,multiply:Wt,typed:Z}),Xn=S0({Complex:Kt,config:ve,fraction:Ao,identity:pa,inv:Qa,matrix:Re,multiply:Wt,number:Yi,typed:Z}),UD=Ly({DenseMatrix:Ft,Index:cn,compareNatural:Bi,size:ln,subset:Vn,typed:Z}),r8=Hy({Index:cn,concat:Ut,setIntersect:UD,setSymDifference:PD,size:ln,subset:Vn,typed:Z}),n8=q1({abs:vn,add:Nt,identity:pa,inv:Qa,map:Ya,max:Wm,multiply:Wt,size:ln,sqrt:di,subtract:zt,typed:Z}),gt=oy({BigNumber:Oe,Complex:Kt,Fraction:Ga,abs:vn,addScalar:Ir,config:ve,divideScalar:lr,equal:Jn,fix:OD,format:Bs,isNumeric:Ja,multiplyScalar:Dr,number:Yi,pow:Xn,round:So,subtract:zt}),i8=tb({BigNumber:Oe,Unit:gt,config:ve}),a8=kb({BigNumber:Oe,Unit:gt,config:ve}),o8=Cb({BigNumber:Oe,Unit:gt,config:ve}),s8=ib({BigNumber:Oe,Unit:gt,config:ve}),u8=Ab({BigNumber:Oe,Unit:gt,config:ve}),l8=ab({BigNumber:Oe,Unit:gt,config:ve}),c8=rb({BigNumber:Oe,Unit:gt,config:ve}),f8=vb({BigNumber:Oe,Unit:gt,config:ve}),m8=I0({DenseMatrix:Ft,concat:Ut,equalScalar:St,matrix:Re,pow:Xn,typed:Z}),p8=eb({BigNumber:Oe,Unit:gt,config:ve}),d8=nb({BigNumber:Oe,Unit:gt,config:ve}),h8=L1({abs:vn,add:Nt,identity:pa,inv:Qa,multiply:Wt,typed:Z}),g8=Sb({BigNumber:Oe,Unit:gt,config:ve}),zD=c0({addScalar:Ir,ceil:zm,conj:ja,divideScalar:lr,dotDivide:ks,exp:gD,i:mD,log2:vD,matrix:Re,multiplyScalar:Dr,pow:Xn,tau:dD,typed:Z}),Hm=K1({BigNumber:Oe,Complex:Kt,config:ve,multiplyScalar:Dr,pow:Xn,typed:Z}),v8=Xx({BigNumber:Oe,Unit:gt,config:ve}),y8=hb({BigNumber:Oe,Unit:gt,config:ve}),x8=f0({conj:ja,dotDivide:ks,fft:zD,typed:Z}),b8=lb({BigNumber:Oe,Unit:gt,config:ve}),D8=Mb({BigNumber:Oe,Unit:gt,config:ve}),w8=$x({BigNumber:Oe,Unit:gt,config:ve}),E8=Pb({BigNumber:Oe,Unit:gt,config:ve}),C8=Tb({BigNumber:Oe,Unit:gt,config:ve}),F8=yb({BigNumber:Oe,Unit:gt,config:ve}),A8=ub({BigNumber:Oe,Unit:gt,config:ve}),S8=Wb({BigNumber:Oe,Unit:gt,config:ve}),N8=Vb({BigNumber:Oe,Unit:gt,config:ve}),M8=Hb({BigNumber:Oe,Unit:gt,config:ve}),_8=gb({BigNumber:Oe,Unit:gt,config:ve}),T8=xb({BigNumber:Oe,Unit:gt,config:ve}),I8=Kx({BigNumber:Oe,Unit:gt,config:ve}),B8=bb({BigNumber:Oe,Unit:gt,config:ve}),O8=Ob({BigNumber:Oe,Unit:gt,config:ve}),R8=Jx({BigNumber:Oe,Unit:gt,config:ve}),k8=Rb({BigNumber:Oe,Unit:gt,config:ve}),P8=Db({BigNumber:Oe,Unit:gt,config:ve}),L8=Fb({BigNumber:Oe,Unit:gt,config:ve}),q8=cb({BigNumber:Oe,Unit:gt,config:ve}),V8=ly({Unit:gt,typed:Z}),zr=W1({divideScalar:lr,equalScalar:St,inv:Qa,matrix:Re,multiply:Wt,typed:Z}),U8=mb({BigNumber:Oe,Unit:gt,config:ve}),Ls=ex({gamma:Hm,typed:Z}),z8=Nb({BigNumber:Oe,Unit:gt,config:ve}),W8=qb({BigNumber:Oe,Unit:gt,config:ve}),H8=ob({BigNumber:Oe,Unit:gt,config:ve}),WD=A1({DenseMatrix:Ft,lsolve:ND,lup:VD,matrix:Re,slu:_D,typed:Z,usolve:Pm}),G8=sb({BigNumber:Oe,Unit:gt,config:ve}),j8=Lb({BigNumber:Oe,Unit:gt,config:ve}),Z8=rx({add:Nt,divide:zr,factorial:Ls,isInteger:_n,isPositive:Za,multiply:Wt,typed:Z}),Y8=nx({factorial:Ls,typed:Z}),J8=Ub({BigNumber:Oe,Unit:gt,config:ve}),X8=S1({add:Nt,cbrt:ED,divide:zr,equalScalar:St,im:Im,isZero:pi,multiply:Wt,re:Bm,sqrt:di,subtract:zt,typeOf:bD,typed:Z,unaryMinus:Ii}),Q8=zy({compareNatural:Bi,typed:Z}),K8=d0({abs:vn,add:Nt,bignumber:qn,divide:zr,isNegative:ma,isPositive:Za,larger:bn,map:Ya,matrix:Re,max:Wm,multiply:Wt,smaller:xn,subtract:zt,typed:Z,unaryMinus:Ii}),HD=dx({bignumber:qn,addScalar:Ir,combinations:ml,divideScalar:lr,factorial:Ls,isInteger:_n,isNegative:ma,larger:bn,multiplyScalar:Dr,number:Yi,pow:Xn,subtract:zt,typed:Z}),$8=sy({Unit:gt,typed:Z}),ek=hx({addScalar:Ir,isInteger:_n,isNegative:ma,stirlingS2:HD,typed:Z}),GD=P1({abs:vn,add:Nt,addScalar:Ir,atan:hD,bignumber:qn,column:qD,complex:pl,config:ve,cos:_m,diag:CD,divideScalar:lr,dot:gl,equal:Jn,flatten:Ps,im:Im,inv:Qa,larger:bn,matrix:Re,matrixFromColumns:km,multiply:Wt,multiplyScalar:Dr,number:Yi,qr:Vm,re:Bm,sin:dl,smaller:xn,sqrt:di,subtract:zt,typed:Z,usolve:Pm,usolveAll:TD}),tk=pb({BigNumber:Oe,Unit:gt,config:ve}),rk=_b({BigNumber:Oe,Unit:gt,config:ve}),jD=al({add:Nt,divide:zr,typed:Z}),nk=Ib({BigNumber:Oe,Unit:gt,config:ve}),ik=Qx({BigNumber:Oe,Unit:gt,config:ve}),ak=sl({bignumber:qn,add:Nt,compare:Xa,divide:zr,isInteger:_n,larger:bn,multiply:Wt,partitionSelect:vl,smaller:xn,smallerEq:No,subtract:zt,typed:Z}),Gm=ol({add:Nt,apply:Om,divide:zr,isNaN:Os,multiply:Wt,subtract:zt,typed:Z}),ok=fb({BigNumber:Oe,Unit:gt,config:ve}),ZD=j1({add:Nt,compare:Xa,divide:zr,partitionSelect:vl,typed:Z}),sk=J1({add:Nt,divide:zr,matrix:Re,mean:jD,multiply:Wt,pow:Xn,sqrt:di,subtract:zt,sum:Um,typed:Z}),uk=Mx({Complex:Kt,add:Nt,divide:zr,matrix:Re,multiply:Wt,typed:Z}),lk=Z1({abs:vn,map:Ya,median:ZD,subtract:zt,typed:Z}),ck=ul({map:Ya,sqrt:di,typed:Z,variance:Gm}),fk=g0({BigNumber:Oe,Complex:Kt,add:Nt,config:ve,divide:zr,equal:Jn,factorial:Ls,gamma:Hm,isNegative:ma,multiply:Wt,pi:Nm,pow:Xn,sin:dl,smallerEq:No,subtract:zt,typed:Z}),jm=Zy({abs:vn,add:Nt,conj:ja,ctranspose:Rm,eigs:GD,equalScalar:St,larger:bn,matrix:Re,multiply:Wt,pow:Xn,smaller:xn,sqrt:di,typed:Z}),YD=i0({BigNumber:Oe,DenseMatrix:Ft,SparseMatrix:Ji,addScalar:Ir,config:ve,cos:_m,matrix:Re,multiplyScalar:Dr,norm:jm,sin:dl,typed:Z,unaryMinus:Ii}),mk=tx({divide:zr,dotDivide:ks,isNumeric:Ja,log:qm,map:Ya,matrix:Re,multiply:Wt,sum:Um,typed:Z}),pk=zb({BigNumber:Oe,Unit:gt,config:ve}),JD=U1({identity:pa,matrix:Re,multiply:Wt,norm:jm,qr:Vm,subtract:zt,typed:Z}),dk=n0({multiply:Wt,rotationMatrix:YD,typed:Z}),XD=V1({abs:vn,add:Nt,concat:Ut,identity:pa,index:RD,lusolve:WD,matrix:Re,matrixFromColumns:km,multiply:Wt,range:Mo,schur:JD,subset:Vn,subtract:zt,transpose:Rs,typed:Z}),hk=z1({matrix:Re,multiply:Wt,sylvester:XD,transpose:Rs,typed:Z});var qs={},Vs={},gk={},Dn=Qy({mathWithTransform:Vs}),Us=l1({Node:Dn}),da=c1({Node:Dn}),_o=f1({Node:Dn}),vk=p1({Node:Dn}),zs=$y({Node:Dn}),yk=t1({Node:Dn,ResultSet:pD}),xk=r1({Node:Dn}),Ka=o1({Node:Dn}),bk=m1({Node:Dn}),rY=_x({classes:gk}),QD=M1({math:qs,typed:Z}),Dk=s1({Node:Dn,typed:Z}),nY=B1({Chain:QD,typed:Z}),Ws=u1({Node:Dn,size:ln}),Hs=Ky({Node:Dn,subset:Vn}),wk=e1({matrix:Re,Node:Dn,subset:Vn}),$a=d1({Unit:gt,Node:Dn,math:qs}),eo=h1({Node:Dn,SymbolNode:$a,math:qs}),Oi=g1({AccessorNode:Hs,ArrayNode:zs,AssignmentNode:wk,BlockNode:yk,ConditionalNode:xk,ConstantNode:Ka,FunctionAssignmentNode:Dk,FunctionNode:eo,IndexNode:Ws,ObjectNode:Us,OperatorNode:da,ParenthesisNode:_o,RangeNode:bk,RelationalNode:vk,SymbolNode:$a,config:ve,numeric:hi,typed:Z}),Ek=Cx({ConstantNode:Ka,FunctionNode:eo,OperatorNode:da,ParenthesisNode:_o,parse:Oi,typed:Z}),KD=wx({bignumber:qn,fraction:Ao,AccessorNode:Hs,ArrayNode:zs,ConstantNode:Ka,FunctionNode:eo,IndexNode:Ws,ObjectNode:Us,OperatorNode:da,SymbolNode:$a,config:ve,mathWithTransform:Vs,matrix:Re,typed:Z}),$D=v1({parse:Oi,typed:Z}),Ck=N1({parse:Oi}),iY=yx({parse:Oi,typed:Z}),ew=Ex({AccessorNode:Hs,ArrayNode:zs,ConstantNode:Ka,FunctionNode:eo,IndexNode:Ws,ObjectNode:Us,OperatorNode:da,ParenthesisNode:_o,SymbolNode:$a,add:Nt,divide:zr,equal:Jn,isZero:pi,multiply:Wt,parse:Oi,pow:Xn,subtract:zt,typed:Z}),Fk=y1({parse:Oi,typed:Z}),aY=I1({Help:Ck,mathWithTransform:Vs,typed:Z}),Ak=x1({evaluate:Fk}),Zm=Dx({bignumber:qn,fraction:Ao,AccessorNode:Hs,ArrayNode:zs,ConstantNode:Ka,FunctionNode:eo,IndexNode:Ws,ObjectNode:Us,OperatorNode:da,ParenthesisNode:_o,SymbolNode:$a,add:Nt,config:ve,divide:zr,equal:Jn,isZero:pi,mathWithTransform:Vs,matrix:Re,multiply:Wt,parse:Oi,pow:Xn,resolve:Ek,simplifyConstant:KD,simplifyCore:ew,subtract:zt,typed:Z}),oY=Fx({OperatorNode:da,parse:Oi,simplify:Zm,typed:Z}),sY=b1({Parser:Ak,typed:Z}),uY=Sx({bignumber:qn,fraction:Ao,AccessorNode:Hs,ArrayNode:zs,ConstantNode:Ka,FunctionNode:eo,IndexNode:Ws,ObjectNode:Us,OperatorNode:da,ParenthesisNode:_o,SymbolNode:$a,add:Nt,config:ve,divide:zr,equal:Jn,isZero:pi,mathWithTransform:Vs,matrix:Re,multiply:Wt,parse:Oi,pow:Xn,simplify:Zm,simplifyConstant:KD,simplifyCore:ew,subtract:zt,typed:Z}),lY=Ax({ConstantNode:Ka,FunctionNode:eo,OperatorNode:da,ParenthesisNode:_o,SymbolNode:$a,config:ve,equal:Jn,isZero:pi,numeric:hi,parse:Oi,simplify:Zm,typed:Z});ur(qs,{e:fD,false:XO,fineStructure:QO,i:mD,Infinity:KO,LN10:$O,LOG10E:e4,NaN:t4,null:r4,phi:n4,SQRT1_2:a4,sackurTetrode:o4,tau:dD,true:s4,E:fD,version:u4,efimovFactor:l4,LN2:c4,pi:Nm,replacer:f4,reviver:rY,SQRT2:m4,typed:Z,unaryPlus:Mm,PI:Nm,weakMixingAngle:p4,abs:vn,acos:d4,acot:h4,acsc:g4,addScalar:Ir,arg:v4,asech:y4,asinh:x4,atan:hD,atanh:b4,bignumber:qn,bitNot:D4,boolean:w4,clone:E4,combinations:ml,complex:pl,conj:ja,cos:_m,cot:C4,csc:F4,cube:A4,equalScalar:St,erf:S4,exp:gD,expm1:N4,filter:M4,forEach:_4,format:Bs,getMatrixDataType:Tm,hex:T4,im:Im,isInteger:_n,isNegative:ma,isPositive:Za,isZero:pi,LOG2E:I4,lgamma:B4,log10:O4,log2:vD,map:Ya,multiplyScalar:Dr,not:yD,number:Yi,oct:R4,pickRandom:k4,print:P4,random:L4,re:Bm,sec:q4,sign:xD,sin:dl,splitUnit:V4,square:U4,string:z4,tan:W4,typeOf:bD,acosh:H4,acsch:G4,apply:Om,asec:j4,bin:Z4,chain:nY,combinationsWithRep:Y4,cosh:J4,csch:X4,isNaN:Os,isPrime:Q4,randomInt:K4,sech:$4,sinh:eR,sparse:tR,sqrt:di,tanh:rR,unaryMinus:Ii,acoth:nR,coth:iR,fraction:Ao,isNumeric:Ja,matrix:Re,matrixFromFunction:aR,mode:oR,numeric:hi,prod:DD,reshape:sR,size:ln,squeeze:uR,transpose:Rs,xgcd:wD,zeros:yn,asin:lR,cbrt:ED,concat:Ut,count:cR,ctranspose:Rm,diag:CD,divideScalar:lr,dotDivide:ks,equal:Jn,flatten:Ps,hasNumericValue:fR,identity:pa,kron:mR,largerEq:hl,leftShift:pR,matrixFromColumns:km,nthRoot:dR,ones:hR,resize:gR,rightArithShift:vR,round:So,smaller:xn,subtract:zt,to:yR,unequal:xR,usolve:Pm,xor:bR,add:Nt,atan2:DR,bitAnd:wR,bitXor:ER,catalan:CR,compare:Xa,compareText:FD,cumsum:FR,deepEqual:Lm,diff:AR,distance:SR,dot:gl,equalText:NR,floor:AD,gcd:MR,hypot:_R,larger:bn,log:qm,lsolve:ND,matrixFromRows:TR,min:IR,mod:MD,multiply:Wt,nthRoots:BR,or:OR,partitionSelect:vl,qr:Vm,rightLogShift:RR,slu:_D,subset:Vn,sum:Um,trace:kR,usolveAll:TD,zpk2tf:PR,bitOr:LR,ceil:zm,compareNatural:Bi,composition:qR,cross:VR,det:ID,dotMultiply:UR,fix:OD,index:RD,intersect:zR,invmod:WR,lcm:HR,log1p:GR,lsolveAll:jR,max:Wm,setCartesian:ZR,setDistinct:YR,setIsSubset:JR,setPowerset:XR,smallerEq:No,sort:QR,and:KR,range:Mo,row:$R,setDifference:kD,setMultiplicity:e8,setSymDifference:PD,column:qD,inv:Qa,lup:VD,pinv:t8,pow:Xn,setIntersect:UD,setUnion:r8,sqrtm:n8,vacuumImpedance:i8,wienDisplacement:a8,atomicMass:o8,bohrMagneton:s8,boltzmann:u8,conductanceQuantum:l8,coulomb:c8,deuteronMass:f8,dotPow:m8,electricConstant:p8,elementaryCharge:d8,expm:h8,faraday:g8,fft:zD,gamma:Hm,gravitationConstant:v8,hartreeEnergy:y8,ifft:x8,klitzing:b8,loschmidt:D8,magneticConstant:w8,molarMass:E8,molarPlanckConstant:C8,neutronMass:F8,nuclearMagneton:A8,planckCharge:S8,planckLength:N8,planckTemperature:M8,protonMass:_8,quantumOfCirculation:T8,reducedPlanckConstant:I8,rydberg:B8,secondRadiation:O8,speedOfLight:R8,stefanBoltzmann:k8,thomsonCrossSection:P8,avogadro:L8,bohrRadius:q8,createUnit:V8,divide:zr,electronMass:U8,factorial:Ls,firstRadiation:z8,gravity:W8,inverseConductanceQuantum:H8,lusolve:WD,magneticFluxQuantum:G8,molarMassC12:j8,multinomial:Z8,parse:Oi,permutations:Y8,planckMass:J8,polynomialRoot:X8,resolve:Ek,setSize:Q8,simplifyConstant:KD,solveODE:K8,stirlingS2:HD,unit:$8,bellNumbers:ek,compile:$D,eigs:GD,fermiCoupling:tk,gasConstant:rk,leafCount:iY,mean:jD,molarVolume:nk,planckConstant:ik,quantileSeq:ak,simplifyCore:ew,variance:Gm,classicalElectronRadius:ok,evaluate:Fk,help:aY,median:ZD,simplify:Zm,symbolicEqual:oY,corr:sk,freqz:uk,mad:lk,parser:sY,rationalize:uY,std:ck,zeta:fk,derivative:lY,norm:jm,rotationMatrix:YD,kldivergence:mk,planckTime:pk,schur:JD,rotate:dk,sylvester:XD,lyap:hk,config:ve});ur(Vs,qs,{filter:Zb({typed:Z}),forEach:Yb({typed:Z}),map:Xb({typed:Z}),apply:Gb({isInteger:_n,typed:Z}),concat:nD({isInteger:_n,matrix:Re,typed:Z}),max:Qb({config:ve,larger:bn,numeric:hi,typed:Z}),print:cD({add:Nt,matrix:Re,typed:Z,zeros:yn}),diff:iD({bignumber:qn,matrix:Re,number:Yi,subtract:zt,typed:Z}),min:$b({config:ve,numeric:hi,smaller:xn,typed:Z}),subset:rD({add:Nt,matrix:Re,typed:Z,zeros:yn}),cumsum:uD({add:Nt,typed:Z,unaryPlus:Mm}),index:Jb({Index:cn,getMatrixDataType:Tm}),sum:oD({add:Nt,config:ve,numeric:hi,typed:Z}),range:eD({bignumber:qn,matrix:Re,add:Nt,config:ve,isPositive:Za,larger:bn,largerEq:hl,smaller:xn,smallerEq:No,typed:Z}),row:tD({Index:cn,matrix:Re,range:Mo,typed:Z}),column:jb({Index:cn,matrix:Re,range:Mo,typed:Z}),mean:Kb({add:Nt,divide:zr,typed:Z}),quantileSeq:sD({add:Nt,bignumber:qn,compare:Xa,divide:zr,isInteger:_n,larger:bn,multiply:Wt,partitionSelect:vl,smaller:xn,smallerEq:No,subtract:zt,typed:Z}),variance:lD({add:Nt,apply:Om,divide:zr,isNaN:Os,multiply:Wt,subtract:zt,typed:Z}),std:aD({map:Ya,sqrt:di,typed:Z,variance:Gm})});ur(gk,{BigNumber:Oe,Complex:Kt,Fraction:Ga,Matrix:fl,Node:Dn,ObjectNode:Us,OperatorNode:da,ParenthesisNode:_o,Range:i4,RelationalNode:vk,ResultSet:pD,ArrayNode:zs,BlockNode:yk,ConditionalNode:xk,ConstantNode:Ka,DenseMatrix:Ft,RangeNode:bk,Chain:QD,FunctionAssignmentNode:Dk,SparseMatrix:Ji,IndexNode:Ws,ImmutableDenseMatrix:SD,Index:cn,AccessorNode:Hs,AssignmentNode:wk,FibonacciHeap:BD,Spa:LD,Unit:gt,SymbolNode:$a,FunctionNode:eo,Help:Ck,Parser:Ak});QD.createProxy(qs);var Ym=class extends ps{constructor(t){super(t);this.hidden=!1}buildVariables(t){var a;let n=0;this.expressionStr="";let i=[];for(let o of(a=t.templateDeclaration)!=null?a:[])if(typeof o!="string"){let l={bindTargetDeclaration:o,inputSignal:new Lr(void 0),uuid:self.crypto.randomUUID(),contextName:`MB_VAR_${n}`};i.push(l),this.expressionStr+=l.contextName,n+=1}else this.expressionStr+=o;return this.expression=$D(this.expressionStr),i}_render(t){}_update(t,n){t.innerText=n}destroy(){}buildContext(t){var i;let n={};for(let a of t!=null?t:[])!a.contextName||!a.inputSignal||(n[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return n}async computeValue(t){if(!this.expression)throw new Ki("ERROR","failed to evaluate expression","expression is undefined");let n=this.buildContext(t);try{return this.expression.evaluate(n)}catch(i){throw i instanceof Error?new Ki("ERROR","failed to evaluate expression",i,{expression:this.expressionStr,context:n}):new Error("failed to evaluate js expression because of: unexpected thrown value")}}getDefaultDisplayValue(){return""}};var Xm=require("obsidian"),Jm=class extends ps{constructor(t){super(t);this.renderMarkdown=!1,this.markdownComponent=new Xm.Component}buildVariables(t){var a;this.textParts=[];let n=0,i=[];for(let o of(a=t.templateDeclaration)!=null?a:[])if(typeof o!="string"){let l={bindTargetDeclaration:o,inputSignal:new Lr(void 0),uuid:self.crypto.randomUUID(),contextName:`MB_VAR_${n}`};i.push(l),this.textParts.push(n),n+=1}else this.textParts.push(o);return i}_render(t){var n,i;this.renderMarkdown=(i=(n=this.renderChild.getArgument("renderMarkdown"))==null?void 0:n.value)!=null?i:!1,this.markdownComponent.load(),this.renderMarkdown&&t.addClass("mb-view-markdown")}async _update(t,n){this.renderMarkdown?(this.markdownComponent.unload(),this.markdownComponent.load(),await Xm.MarkdownRenderer.render(this.renderChild.plugin.app,n,t,this.renderChild.filePath,this.markdownComponent)):t.innerText=n}destroy(){this.markdownComponent.unload()}computeValue(t){if(!this.textParts)throw new Ki("ERROR","failed to evaluate text view field","content parts is undefined");return this.textParts.map(n=>typeof n=="number"?t[n].inputSignal.get():n).join("")}getDefaultDisplayValue(){return""}};var Qm=class{constructor(e){this.plugin=e}createViewField(e,t){if(e==="math")return new Ym(t);if(e==="text")return new Jm(t)}};var Km=class{constructor(e){this.plugin=e,this.inputField=new Wc(this),this.inputFieldParser=new zc(this.plugin),this.viewFieldParser=new sc(this.plugin),this.bindTargetParser=new uc(this.plugin),this.inputFieldFactory=new gf(this.plugin),this.viewFieldFactory=new Qm(this.plugin)}createInputField(e,t,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.inputFieldParser.validateDeclaration(e),l=new lo(i,t,o,this.plugin,n,self.crypto.randomUUID());return a.addChild(l),l}createInputFieldFromString(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let l=this.inputFieldParser.parseString(e,o),u=new lo(i,t,l,this.plugin,n,self.crypto.randomUUID());return a.addChild(u),u}createViewFieldFromString(e,t,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.viewFieldParser.parseString(e),l=new es(i,t,o,this.plugin,n,self.crypto.randomUUID());return a.addChild(l),l}createJsViewFieldFromString(e,t,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.viewFieldParser.parseJsString(e),l=new Fc(i,t,o,this.plugin,n,self.crypto.randomUUID());return a.addChild(l),l}createExcludedField(e,t,n){let i=new Hc(e,"inline",this.plugin,t,self.crypto.randomUUID());return n.addChild(i),i}createSignal(e){return new Lr(e)}listenToMetadata(e,t,n,i=!1){let a=self.crypto.randomUUID(),o=this.plugin.metadataManager.subscribe(a,e,{filePath:t,metadataPath:n,listenToChildren:i,boundToLocalScope:!1});return()=>{o.unsubscribe()}}createTable(e,t,n,i,a,o){let l=new jc(e,"inline",this.plugin,t,self.crypto.randomUUID(),i,a,o);return n.addChild(l),l}createBindTarget(e){return this.bindTargetParser.parseAndValidateBindTarget(e)}};var to=require("@codemirror/view"),yl=require("@codemirror/language"),rp=require("obsidian");var Nk=require("obsidian");var Sk=require("@codemirror/view");var $m=class extends Sk.WidgetType{constructor(t,n,i,a){super();this.content=t,this.filePath=n,this.parentComponent=i,this.plugin=a}eq(t){return t.content===this.content}toDOM(t){let n=document.createElement("span");return n.addClass("cm-inline-code"),this.renderChild=this.createRenderChild(n,this.parentComponent),n}destroy(t){var n;(n=this.renderChild)==null||n.unload(),super.destroy(t)}},ep=class extends $m{createRenderChild(e,t){return this.plugin.api.createViewFieldFromString(this.content,"inline",this.filePath,e,t)}},tp=class extends $m{createRenderChild(e,t){return this.plugin.api.createInputFieldFromString(this.content,"inline",this.filePath,e,t,void 0)}},tw=(t=>(t.INPUT_FIELD_WIDGET="INPUT_FIELD_WIDGET",t.VIEW_FIELD_WIDGET="VIEW_FIELD_WIDGET",t))(tw||{});var Qn=class{static checkSelectionOverlap(e,t,n){if(!e)return!1;for(let i of e.ranges)if(i.to>=t&&i.from<=n)return!0;return!1}static getContent(e,t,n){return e.sliceDoc(t,n)}static constructMarkdownRenderChildWidget(e,t,n,i,a){if(e==="INPUT_FIELD_WIDGET")return new tp(t,n,i,a);if(e==="VIEW_FIELD_WIDGET")return new ep(t,n,i,a)}static getDeclarationPrefix(e){if(e==="INPUT_FIELD_WIDGET")return"INPUT";if(e==="VIEW_FIELD_WIDGET")return"VIEW";throw new br("ERROR","failed to get declaration prefix",`Invalid widget type "${e}"`)}static isDeclaration(e,t){let n=Qn.getDeclarationPrefix(e)+"[",i="]";return t.startsWith(n)&&t.endsWith(i)}static isDeclarationAndGetWidgetType(e){if(e.endsWith("]"))for(let t of Object.values(tw)){let n=Qn.getDeclarationPrefix(t)+"[";if(e.startsWith(n))return t}}static getCurrentFile(e){return e.state.field(Nk.editorInfoField).file}static existsDecorationBetween(e,t,n){let i=!1;return e.between(t,n,()=>{i=!0}),i}};function Mk(r){return to.ViewPlugin.fromClass(class{constructor(e){var t;this.component=new rp.Component,this.component.load(),this.decorations=(t=this.renderWidgets(e))!=null?t:to.Decoration.none}update(e){var t;if(!e.state.field(rp.editorLivePreviewField)){this.decorations=to.Decoration.none;return}e.docChanged?(this.decorations=this.decorations.map(e.changes),this.updateTree(e.view)):e.selectionSet?this.updateTree(e.view):e.viewportChanged&&(this.decorations=(t=this.renderWidgets(e.view))!=null?t:to.Decoration.none)}updateTree(e){for(let{from:t,to:n}of e.visibleRanges)(0,yl.syntaxTree)(e.state).iterate({from:t,to:n,enter:i=>{let a=i.node,{shouldRender:o,content:l,widgetType:u}=this.getRenderInfo(e,a);o?u!==void 0&&l!==void 0&&this.addDecoration(a,e,l,u):u!==void 0&&l!==void 0&&this.removeDecoration(a)}})}removeDecoration(e){this.decorations.between(e.from-1,e.to+1,(t,n,i)=>{this.decorations=this.decorations.update({filterFrom:t,filterTo:n,filter:()=>!1})})}addDecoration(e,t,n,i){var s;let a=e.from-1,o=e.to+1;if(Qn.existsDecorationBetween(this.decorations,a,o))return;let l=Qn.getCurrentFile(t);if(!l)return;let u=(s=this.renderWidget(e,i,n,l))==null?void 0:s.value;u&&(this.decorations=this.decorations.update({add:[{from:a,to:o,value:u}]}))}getRenderInfo(e,t){let n=t.type.prop(yl.tokenClassNodeProp),i=new Set(n==null?void 0:n.split(" "));if(i.has("inline-code")&&!i.has("formatting")){let a=e.state.selection,o=Qn.checkSelectionOverlap(a,t.from-1,t.to+1),l=this.readNode(e,t.from,t.to);return{shouldRender:!o,content:l.content,widgetType:l.widgetType}}return{shouldRender:!1,content:void 0,widgetType:void 0}}readNode(e,t,n){let i=Qn.getContent(e.state,t,n);return{content:i,widgetType:Qn.isDeclarationAndGetWidgetType(i)}}renderWidgets(e){let t=Qn.getCurrentFile(e);if(!t)return;let n=[];for(let i of e.visibleRanges)(0,yl.syntaxTree)(e.state).iterate({from:i.from,to:i.to,enter:a=>{let o=a.node,l=this.getRenderInfo(e,o);if(!l.shouldRender||!l.widgetType||!l.content)return;let u=this.renderWidget(o,l.widgetType,l.content,t);u&&n.push(u)}});return to.Decoration.set(n,!0)}renderWidget(e,t,n,i){let a=Qn.constructMarkdownRenderChildWidget(t,n,i.path,this.component,r);if(a)return to.Decoration.replace({widget:a}).range(e.from-1,e.to+1)}destroy(){this.component.unload()}},{decorations:e=>e.decorations})}var np=class{constructor(){this.activeMDRCs=new Map}unload(){for(let e of this.activeMDRCs.values())console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),e.unload()}registerMDRC(e){console.debug(`meta-bind | MDRCManager >> registered MDRC ${e.uuid}`),this.activeMDRCs.set(e.uuid,e)}unregisterMDRC(e){console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),this.activeMDRCs.delete(e.uuid)}};var ip=class extends _k.Plugin{async onload(){console.log("meta-bind | Main >> load"),await this.loadSettings(),await this.saveSettings(),this.api=new Km(this);let t=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);t.hasErrors()&&console.warn("meta-bind | failed to parse templates",t),this.mdrcManager=new np,this.metadataManager=new tc(this),this.registerMarkdownPostProcessor((n,i)=>{let a=n.querySelectorAll("code");for(let o=0;o<a.length;o++){let l=a.item(o);if(l.hasClass("mb-none"))continue;let u=l.innerText,s=u.startsWith("INPUT[")&&u.endsWith("]"),c=u.startsWith("VIEW[")&&u.endsWith("]");s&&this.api.createInputFieldFromString(u,"inline",i.sourcePath,l,i,void 0),c&&this.api.createViewFieldFromString(u,"inline",i.sourcePath,l,i)}},100),this.registerMarkdownCodeBlockProcessor("meta-bind",(n,i,a)=>{let o=i,l=n.trim(),u=l.startsWith("INPUT[")&&l.endsWith("]"),s=l.startsWith("VIEW[")&&l.endsWith("]");u&&this.api.createInputFieldFromString(l,"block",a.sourcePath,o,a,void 0),s&&this.api.createViewFieldFromString(l,"inline",a.sourcePath,o,a)}),this.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(n,i,a)=>{this.api.createJsViewFieldFromString(n,"block",a.sourcePath,i,a)}),this.registerEditorExtension(Mk(this)),this.addCommand({id:"mb-debugger-command",name:"debugger",callback:()=>{debugger}}),this.addSettingTab(new Il(this.app,this))}onunload(){console.log("meta-bind | Main >> unload"),this.mdrcManager.unload()}getFilePathsByName(t){let n=this.app.metadataCache.getFirstLinkpathDest(t,"");return n===null?[]:[n.path]}isFilePathExcluded(t){for(let n of this.settings.excludedFolders)if(t.startsWith(n))return!0;return!1}async loadSettings(){console.log("meta-bind | Main >> settings load");let t=await this.loadData();t=this.applyTemplatesMigration(Object.assign({},yi,t)),this.settings=t,await this.saveSettings()}async saveSettings(){console.log("meta-bind | Main >> settings save"),qr.dateFormat=this.settings.preferredDateFormat,dF(this.settings.firstWeekday),await this.saveData(this.settings)}applyTemplatesMigration(t){if(t.inputTemplates!==void 0){let n=t.inputTemplates,i=[];try{let a=n?ir.split(n,`
`,new go("[","]")):[];a=a.map(o=>o.trim()).filter(o=>o.length>0);for(let o of a){let l=ir.split(o,"->",new go("[","]"));if(l=l.map(u=>u.trim()),l.length===1)throw new Yt("CRITICAL","failed to parse template declaration",'template must include one "->"');l.length===2&&i.push({name:l[0],declaration:l[1]})}}catch(a){console.warn("failed to migrate templates",a)}delete t.inputTemplates,t.inputFieldTemplates=i}return t}};
/*! Bundled license information:

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
